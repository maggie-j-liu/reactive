var reactive=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(n)}function o(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let s,u;function l(t,e){return s||(s=document.createElement("a")),s.href=e,t===s.href}function c(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function h(t,e,n,r){if(t){const i=f(t,e,n,r);return t[0](i)}}function f(t,n,r,i){return t[1]&&i?e(r.ctx.slice(),t[1](i(n))):r.ctx}function p(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}function d(t,e,n,r,i,o){if(i){const a=f(e,n,r,o);t.p(a,i)}}function v(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function g(t,e){const n={};e=new Set(e);for(const r in t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}function m(t){return null==t?"":t}function y(t,e){t.appendChild(e)}function w(t,e,n){const r=function(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;if(e.host)return e;return document}(t);if(!r.getElementById(e)){const t=k("style");t.id=e,t.textContent=n,function(t,e){y(t.head||t,e)}(r,t)}}function b(t,e,n){t.insertBefore(e,n||null)}function _(t){t.parentNode.removeChild(t)}function x(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function I(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function C(t){return document.createTextNode(t)}function T(){return C(" ")}function S(){return C("")}function E(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function N(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function q(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function A(t,e){t.value=null==e?"":e}class P{constructor(){this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.e=k(e.nodeName),this.t=e,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)b(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(_)}}function O(t){u=t}function R(t){(function(){if(!u)throw new Error("Function called outside component initialization");return u})().$$.on_mount.push(t)}const j=[],$=[],D=[],L=[],M=Promise.resolve();let F=!1;function z(t){D.push(t)}let U=!1;const V=new Set;function W(){if(!U){U=!0;do{for(let t=0;t<j.length;t+=1){const e=j[t];O(e),B(e.$$)}for(O(null),j.length=0;$.length;)$.pop()();for(let t=0;t<D.length;t+=1){const e=D[t];V.has(e)||(V.add(e),e())}D.length=0}while(j.length);for(;L.length;)L.pop()();F=!1,U=!1,V.clear()}}function B(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}const H=new Set;let K;function G(){K={r:0,c:[],p:K}}function Y(){K.r||i(K.c),K=K.p}function X(t,e){t&&t.i&&(H.delete(t),t.i(e))}function J(t,e,n,r){if(t&&t.o){if(H.has(t))return;H.add(t),K.c.push((()=>{H.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function Q(t,e){t.d(1),e.delete(t.key)}function Z(t,e){J(t,1,1,(()=>{e.delete(t.key)}))}function tt(t,e,n,r,i,o,a,s,u,l,c,h){let f=t.length,p=o.length,d=f;const v={};for(;d--;)v[t[d].key]=d;const g=[],m=new Map,y=new Map;for(d=p;d--;){const t=h(i,o,d),s=n(t);let u=a.get(s);u?r&&u.p(t,e):(u=l(s,t),u.c()),m.set(s,g[d]=u),s in v&&y.set(s,Math.abs(d-v[s]))}const w=new Set,b=new Set;function _(t){X(t,1),t.m(s,c),a.set(t.key,t),c=t.first,p--}for(;f&&p;){const e=g[p-1],n=t[f-1],r=e.key,i=n.key;e===n?(c=e.first,f--,p--):m.has(i)?!a.has(r)||w.has(r)?_(e):b.has(i)?f--:y.get(r)>y.get(i)?(b.add(r),_(e)):(w.add(i),f--):(u(n,a),f--)}for(;f--;){const e=t[f];m.has(e.key)||u(e,a)}for(;p;)_(g[p-1]);return g}function et(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const a=t[o],s=e[o];if(s){for(const t in a)t in s||(r[t]=1);for(const t in s)i[t]||(n[t]=s[t],i[t]=1);t[o]=s}else for(const t in a)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function nt(t){return"object"==typeof t&&null!==t?t:{}}function rt(t){t&&t.c()}function it(t,e,r,a){const{fragment:s,on_mount:u,on_destroy:l,after_update:c}=t.$$;s&&s.m(e,r),a||z((()=>{const e=u.map(n).filter(o);l?l.push(...e):i(e),t.$$.on_mount=[]})),c.forEach(z)}function ot(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function at(t,e){-1===t.$$.dirty[0]&&(j.push(t),F||(F=!0,M.then(W)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function st(e,n,o,a,s,l,c,h=[-1]){const f=u;O(e);const p=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:n.context||[]),callbacks:r(),dirty:h,skip_bound:!1,root:n.target||f.$$.root};c&&c(p.root);let d=!1;if(p.ctx=o?o(e,n.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return p.ctx&&s(p.ctx[t],p.ctx[t]=i)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](i),d&&at(e,t)),n})):[],p.update(),d=!0,i(p.before_update),p.fragment=!!a&&a(p.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);p.fragment&&p.fragment.l(t),t.forEach(_)}else p.fragment&&p.fragment.c();n.intro&&X(e.$$.fragment),it(e,n.target,n.anchor,n.customElement),W()}O(f)}class ut{$destroy(){ot(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var lt=function(t,e){return(lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ct(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}lt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var ht=function(){return(ht=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function ft(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function pt(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function dt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function vt(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function gt(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var mt=!1,yt="${JSCORE_VERSION}",wt=function(t,e){if(!t)throw bt(e)},bt=function(t){return new Error("Firebase Database ("+yt+") INTERNAL ASSERT FAILED: "+t)},_t=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},xt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|l>>6,p=63&l;u||(p=64,a||(f=64)),r.push(n[c],n[h],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_t(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var l=o<<2|a>>4;if(r.push(l),64!==s){var c=a<<4&240|s>>2;if(r.push(c),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},kt=function(t){try{return xt.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function It(t){return Ct(void 0,t)}function Ct(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=Ct(t[n],e[n]));return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Tt=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function St(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function Et(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function Nt(){return!0===mt}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var qt=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,At.prototype.create),o}return ct(e,t),e}(Error),At=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?Pt(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new qt(i,s,r);return u},t}();function Pt(t,e){return t.replace(Ot,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var Ot=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Rt(t){return JSON.parse(t)}function jt(t){return JSON.stringify(t)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var $t=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=Rt(kt(o[0])||""),n=Rt(kt(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Dt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Lt(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function Mt(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ft(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var zt=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=c^u&(l^c),a=1518500249):(o=u^l^c,a=1859775393):r<60?(o=u&l|c&(u|l),a=2400959708):(o=u^l^c,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=c,c=l,l=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function Ut(t,e){var n=new Vt(t,e);return n.subscribe.bind(n)}var Vt=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=Wt),void 0===r.error&&(r.error=Wt),void 0===r.complete&&(r.complete=Wt);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function Wt(){}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Bt=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Ht(t,e){return t+" failed: "+e+" argument "}function Kt(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(Ht(t,e)+"must be a valid function.")}function Gt(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(Ht(t,e)+"must be a valid context object.")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Yt=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Xt(t){return t&&t._delegate?t._delegate:t}var Jt=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),Qt="[DEFAULT]",Zt=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Tt;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t))try{this.getOrInitializeService({instanceIdentifier:Qt})}catch(t){}try{for(var r=dt(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=vt(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var l=this.getOrInitializeService({instanceIdentifier:u});s.resolve(l)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=Qt),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return ft(this,void 0,void 0,(function(){var t;return pt(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(gt(gt([],vt(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),vt(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=Qt),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var s=dt(this.instancesDeferred.entries()),u=s.next();!u.done;u=s.next()){var l=vt(u.value,2),c=l[0],h=l[1];o===this.normalizeInstanceIdentifier(c)&&h.resolve(a)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r,i=this.onInitCallbacks.get(e);if(i)try{for(var o=dt(i),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(t,e)}catch(t){}}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===Qt?void 0:e),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(t){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=Qt),this.component?this.component.multipleInstances?t:Qt:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var te,ee=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Zt(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function ne(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var re,ie=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(re||(re={}));var oe,ae={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},se=re.INFO,ue=((te={})[re.DEBUG]="log",te[re.VERBOSE]="log",te[re.INFO]="info",te[re.WARN]="warn",te[re.ERROR]="error",te),le=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=ue[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,ne(["["+i+"]  "+t.name+":"],n))}},ce=function(){function t(t){this.name=t,this._logLevel=se,this._logHandler=le,this._userLogHandler=null,ie.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in re))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?ae[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ne([this,re.DEBUG],t)),this._logHandler.apply(this,ne([this,re.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ne([this,re.VERBOSE],t)),this._logHandler.apply(this,ne([this,re.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ne([this,re.INFO],t)),this._logHandler.apply(this,ne([this,re.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ne([this,re.WARN],t)),this._logHandler.apply(this,ne([this,re.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ne([this,re.ERROR],t)),this._logHandler.apply(this,ne([this,re.ERROR],t))},t}();function he(t){ie.forEach((function(e){e.setLogLevel(t)}))}var fe,pe=((oe={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",oe["bad-app-name"]="Illegal App name: '{$appName}",oe["duplicate-app"]="Firebase App named '{$appName}' already exists",oe["app-deleted"]="Firebase App named '{$appName}' already deleted",oe["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",oe["invalid-log-argument"]="First argument to `onLog` must be null or a function.",oe),de=new At("app","Firebase",pe),ve="@firebase/app",ge="[DEFAULT]",me=((fe={})[ve]="fire-core",fe["@firebase/analytics"]="fire-analytics",fe["@firebase/app-check"]="fire-app-check",fe["@firebase/auth"]="fire-auth",fe["@firebase/database"]="fire-rtdb",fe["@firebase/functions"]="fire-fn",fe["@firebase/installations"]="fire-iid",fe["@firebase/messaging"]="fire-fcm",fe["@firebase/performance"]="fire-perf",fe["@firebase/remote-config"]="fire-rc",fe["@firebase/storage"]="fire-gcs",fe["@firebase/firestore"]="fire-fst",fe["fire-js"]="fire-js",fe["firebase-wrapper"]="fire-js-all",fe),ye=new ce("@firebase/app"),we=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=It(t),this.container=new ee(e.name),this._addComponent(new Jt("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e=ge),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=ge),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){ye.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw de.create("app-deleted",{appName:this.name_})},t}();we.prototype.name&&we.prototype.options||we.prototype.delete||console.log("dc");
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function be(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=ge);var a=o.name;if("string"!=typeof a||!a)throw de.create("bad-app-name",{appName:String(a)});if(Dt(e,a))throw de.create("duplicate-app",{appName:a});var s=new t(n,o,r);return e[a]=s,s},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=me[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void ye.warn(u.join(" "))}o(new Jt(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:he,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw de.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=ae[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:re[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=ie;r<i.length;r++)n(i[r])}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,e)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!Dt(e,t=t||ge))throw de.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return ye.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw de.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Ct(s,o.serviceProps),r[a]=s,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?t:[])}}for(var u=0,l=Object.keys(e);u<l.length;u++){var c=l[u];e[c]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var _e=function t(){var e=be(we);return e.INTERNAL=ht(ht({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Ct(e,t)},createSubscribe:Ut,ErrorFactory:At,deepExtend:Ct}),e}(),xe=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){ye.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ke=self.firebase.SDK_VERSION;ke&&ke.indexOf("LITE")>=0&&ye.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ie=_e.initializeApp;_e.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Et()&&ye.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Ie.apply(void 0,t)};var Ce=_e;!function(t,e){t.INTERNAL.registerComponent(new Jt("platform-logger",(function(t){return new xe(t)}),"PRIVATE")),t.registerVersion(ve,"0.6.29",e),t.registerVersion("fire-js","")}(Ce);var Te="8.9.0";
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
Ce.registerVersion("firebase",Te,"app"),Ce.SDK_VERSION=Te,function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=n.setTimeout;r.prototype.c=function(t){a(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new r;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Ra(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),a=r.next();!a.done;a=r.next())o(a.value).Ra(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,o(r.value).Ra(i(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&s.test(t)?t:""}function c(){}function h(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==h(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),g=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:y).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function _(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function x(t){return t}function k(t,e,n){this.code=T+t,this.message=e||S[t]||"",this.a=n||null}function I(t){var e=t&&t.code;return e?new k(e.substring(T.length),t.message,t.serverResponse):null}_(k,Error),k.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},k.prototype.toJSON=function(){return this.w()};var C,T="auth/",S={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},E={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(t){for(var e in E)if(E[e].id===t)return{firebaseEndpoint:(t=E[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function q(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function A(t){if(Error.captureStackTrace)Error.captureStackTrace(this,A);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function P(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");A.call(this,n+t[r])}function O(t,e){throw new P("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function R(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function j(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function $(){this.b=this.a=null}C=N("__EID__")?"__EID__":void 0,_(A,Error),A.prototype.name="CustomError",_(P,A),P.prototype.name="AssertionError",R.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var D=new R((function(){return new M}),(function(t){t.reset()}));function L(){var t=me,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function M(){this.next=this.b=this.a=null}$.prototype.add=function(t,e){var n=D.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},M.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},M.prototype.reset=function(){this.next=this.b=this.a=null};var F=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},z=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var U=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},V=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function B(t,e){return 0<=F(t,e)}function H(t,e){var n;return(n=0<=(e=F(t,e)))&&Array.prototype.splice.call(t,e,1),n}function K(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function G(t){return Array.prototype.concat.apply([],arguments)}function Y(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var X,J=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Q=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function at(t,e){return t<e?-1:t>e?1:0}t:{var st=a.navigator;if(st){var ut=st.userAgent;if(ut){X=ut;break t}}X=""}function lt(t){return ot(X,t)}function ct(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ht(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var pt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<pt.length;o++)n=pt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(d(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;O("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function gt(t,e){this.a=t===bt&&e||"",this.b=wt}function mt(t){return t instanceof gt&&t.constructor===gt&&t.b===wt?t.a:(O("expected object of type Const, got '"+t+"'"),"type_error:Const")}gt.prototype.ta=!0,gt.prototype.sa=function(){return this.a},gt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt,wt={},bt={};function _t(){if(void 0===yt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:x,createScript:x,createScriptURL:x})}catch(t){a.console&&a.console.error(t.message)}yt=t}else yt=t}return yt}function xt(t,e){this.a=e===St?t:""}function kt(t){return t instanceof xt&&t.constructor===xt?t.a:(O("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function It(t,e){var n=mt(t);if(!Tt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=_t();return new xt(t=e?e.createScriptURL(t):t,St)}(t=n.replace(Ct,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof gt?mt(t):encodeURIComponent(String(t))})))}xt.prototype.ta=!0,xt.prototype.sa=function(){return this.a.toString()},xt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ct=/%{(\w+)}/g,Tt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,St={};function Et(t,e){this.a=e===jt?t:""}function Nt(t){return t instanceof Et&&t.constructor===Et?t.a:(O("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}Et.prototype.ta=!0,Et.prototype.sa=function(){return this.a.toString()},Et.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var qt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,At=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Pt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ot(t){if(t instanceof Et)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Pt.test(t))t=new Et(t,jt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(At);t=e&&qt.test(e[1])?new Et(t,jt):null}return t}function Rt(t){return t instanceof Et?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Pt.test(t)||(t="about:invalid#zClosurez"),new Et(t,jt))}var jt={},$t=new Et("about:invalid#zClosurez",jt);function Dt(t,e,n){this.a=n===Lt?t:""}Dt.prototype.ta=!0,Dt.prototype.sa=function(){return this.a.toString()},Dt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Lt={};function Mt(t,e,n,r){return t=t instanceof Et?t:Rt(t),e=e||a,n=n instanceof gt?mt(n):n||"",e.open(Nt(t),n,r,void 0)}function Ft(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function zt(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Q,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function Ut(t){return Ut[" "](t),t}Ut[" "]=c;var Vt,Wt,Bt=lt("Opera"),Ht=lt("Trident")||lt("MSIE"),Kt=lt("Edge"),Gt=Kt||Ht,Yt=lt("Gecko")&&!(ot(X.toLowerCase(),"webkit")&&!lt("Edge"))&&!(lt("Trident")||lt("MSIE"))&&!lt("Edge"),Xt=ot(X.toLowerCase(),"webkit")&&!lt("Edge");function Jt(){var t=a.document;return t?t.documentMode:void 0}t:{var Qt="",Zt=(Wt=X,Yt?/rv:([^\);]+)(\)|;)/.exec(Wt):Kt?/Edge\/([\d\.]+)/.exec(Wt):Ht?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Wt):Xt?/WebKit\/(\S+)/.exec(Wt):Bt?/(?:Version)[ \/]?(\S+)/.exec(Wt):void 0);if(Zt&&(Qt=Zt?Zt[1]:""),Ht){var te=Jt();if(null!=te&&te>parseFloat(Qt)){Vt=String(te);break t}}Vt=Qt}var ee,ne={};function re(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=J(String(Vt)).split("."),r=J(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=at(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||at(0==a[2].length,0==s[2].length)||at(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(a.document&&Ht){var ie=Jt();ee=ie||(parseInt(Vt,10)||void 0)}else ee=void 0;var oe=ee;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Wt){}var ae=!Ht||9<=Number(oe);function se(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){ct(e,(function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:he.hasOwnProperty(n)?t.setAttribute(he[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var le,ce,he={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||d(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(d(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){a="function"==typeof o.item;break t}}a=!1}z(a?Y(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function de(t){a.setTimeout((function(){throw t}),0)}function ve(t,e){ce||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);ce=function(){t.then(ye)}}else ce=function(){var t=ye;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!lt("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(le||(le=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!lt("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!lt("Trident")&&!lt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),le(t)):a.setImmediate(t)}}(),ge||(ce(),ge=!0),me.add(t,e)}var ge=!1,me=new $;function ye(){for(var t;t=L();){try{t.a.call(t.b)}catch(t){de(t)}j(D,t)}ge=!1}function we(t,e){if(this.a=be,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=c)try{var n=this;t.call(e,(function(t){Re(n,_e,t)}),(function(t){if(!(t instanceof ze))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Re(n,xe,t)}))}catch(t){Re(this,xe,t)}}var be=0,_e=2,xe=3;function ke(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}ke.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ie=new R((function(){return new ke}),(function(t){t.reset()}));function Te(t,e,n){var r=Ie.get();return r.g=t,r.b=e,r.f=n,r}function Se(t){if(t instanceof we)return t;var e=new we(c);return Re(e,_e,t),e}function Ee(t){return new we((function(e,n){n(t)}))}function Ne(t,e,n){je(t,e,n,null)||ve(b(e,t))}function qe(t){return new we((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ne(t[o],b(i,o,!0),b(i,o,!1));else e(r)}))}function Ae(t,e){if(t.a==be)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==be&&1==r?Ae(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):De(n),Le(n,i,xe,e)))}t.c=null}else Re(t,xe,e)}function Pe(t,e){t.b||t.a!=_e&&t.a!=xe||$e(t),t.f?t.f.next=e:t.b=e,t.f=e}function Oe(t,e,n,r){var i=Te(null,null,null);return i.a=new we((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof ze?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,Pe(t,i),i.a}function Re(t,e,n){t.a==be&&(t===n&&(e=xe,n=new TypeError("Promise cannot resolve to itself")),t.a=1,je(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,$e(t),e!=xe||n instanceof ze||function(t,e){t.g=!0,ve((function(){t.g&&Fe.call(null,e)}))}(t,n)))}function je(t,e,n,r){if(t instanceof we)return Pe(t,Te(e||c,n||null,r)),!0;if(q(t))return t.then(e,n,r),!0;if(d(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function $e(t){t.h||(t.h=!0,ve(t.gc,t))}function De(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Le(t,e,n,r){if(n==xe&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Me(e,n,r);else try{e.c?e.g.call(e.f):Me(e,n,r)}catch(t){Fe.call(null,t)}j(Ie,e)}function Me(t,e,n){e==_e?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}we.prototype.then=function(t,e,n){return Oe(this,p(t)?t:null,p(e)?e:null,n)},we.prototype.$goog_Thenable=!0,(t=we.prototype).oa=function(t,e){return(t=Te(t,t,e)).c=!0,Pe(this,t),this},t.o=function(t,e){return Oe(this,null,t,e)},t.cancel=function(t){if(this.a==be){var e=new ze(t);ve((function(){Ae(this,e)}),this)}},t.$c=function(t){this.a=be,Re(this,_e,t)},t.ad=function(t){this.a=be,Re(this,xe,t)},t.gc=function(){for(var t;t=De(this);)Le(this,t,this.a,this.i);this.h=!1};var Fe=de;function ze(t){A.call(this,t)}function Ue(){this.ya=this.ya,this.pa=this.pa}_(ze,A),ze.prototype.name="cancel";var Ve={};function We(t){if(!t.ya&&(t.ya=!0,t.Da(),0)){var e=function(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++g)}(t);delete Ve[e]}}Ue.prototype.ya=!1,Ue.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Be=Object.freeze||function(t){return t},He=!Ht||9<=Number(oe),Ke=Ht&&!re("9"),Ge=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",c,e),a.removeEventListener("test",c,e)}catch(t){}return t}();function Ye(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Xe(t,e){if(Ye.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Yt){t:{try{Ut(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Je[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ye.prototype.preventDefault=function(){this.defaultPrevented=!0},_(Xe,Ye);var Je=Be({2:"touch",3:"pen",4:"mouse"});Xe.prototype.preventDefault=function(){Xe.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ke)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Xe.prototype.g=function(){return this.a};var Qe="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function tn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++Ze,this.wa=this.Qa=!1}function en(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function nn(t){this.src=t,this.a={},this.b=0}function rn(t,e){var n=e.type;n in t.a&&H(t.a[n],e)&&(en(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function on(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}nn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=on(t,e,r,i);return-1<a?(e=t[a],n||(e.Qa=!1)):((e=new tn(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var an="closure_lm_"+(1e6*Math.random()|0),sn={};function un(t,e,n,r,i){if(r&&r.once)cn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=wn(n),t&&t[Qe]?_n(t,e,n,d(r)?!!r.capture:!!r,i):ln(t,e,n,!1,r,i)}function ln(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=d(i)?!!i.capture:!!i,s=mn(t);if(s||(t[an]=s=new nn(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=gn,e=He?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ge||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=wn(n),t&&t[Qe]?xn(t,e,n,d(r)?!!r.capture:!!r,i):ln(t,e,n,!0,r,i)}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=wn(n),t&&t[Qe]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=on(o=t.a[e],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=mn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=on(e,n,r,i)),(n=-1<t?e[t]:null)&&fn(n))}function fn(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[Qe])rn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mn(e))?(rn(n,t),0==n.b&&(n.src=null,e[an]=null)):en(t)}}}function pn(t){return t in sn?sn[t]:sn[t]="on"+t}function dn(t,e,n,r){var i=!0;if((t=mn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=vn(o,r),i=i&&!1!==o)}return i}function vn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&fn(t),n.call(r,e)}function gn(t,e){if(t.wa)return!0;if(!He){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Xe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=dn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=dn(r[i],t,!1,e),n=n&&o}return n}return vn(t,new Xe(e,this))}function mn(t){return(t=t[an])instanceof nn?t:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(t){return p(t)?t:(t[yn]||(t[yn]=function(e){return t.handleEvent(e)}),t[yn])}function bn(){Ue.call(this),this.v=new nn(this),this.bc=this,this.hb=null}function _n(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function xn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function kn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&rn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function In(t,e,n){if(p(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Cn(t){var e=null;return new we((function(n,r){-1==(e=In((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw a.clearTimeout(e),t}))}function Tn(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Sn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function En(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof En)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Nn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];qn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)qn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function qn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(bn,Ue),bn.prototype[Qe]=!0,bn.prototype.addEventListener=function(t,e,n,r){un(this,t,e,n,r)},bn.prototype.removeEventListener=function(t,e,n,r){hn(this,t,e,n,r)},bn.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"==typeof t)t=new Ye(t,n);else if(t instanceof Ye)t.target=t.target||n;else{var i=t;dt(t=new Ye(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=kn(a,r,!0,t)&&i}if(i=kn(a=t.b=n,r,!0,t)&&i,i=kn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=kn(a=t.b=e[o],r,!1,t)&&i;return i},bn.prototype.Da=function(){if(bn.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)en(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=En.prototype).X=function(){Nn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Nn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return qn(this.b,t)?this.b[t]:e},t.set=function(t,e){qn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var An=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Pn?(this.i=void 0!==e?e:t.i,On(this,t.c),this.l=t.l,this.a=t.a,Rn(this,t.g),this.f=t.f,jn(this,tr(t.b)),this.h=t.h):t&&(n=String(t).match(An))?(this.i=!!e,On(this,n[1]||"",!0),this.l=Fn(n[2]||""),this.a=Fn(n[3]||"",!0),Rn(this,n[4]),this.f=Fn(n[5]||"",!0),jn(this,n[6]||"",!0),this.h=Fn(n[7]||"")):(this.i=!!e,this.b=new Gn(null,this.i))}function On(t,e,n){t.c=n?Fn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Rn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function jn(t,e,n){e instanceof Gn?(t.b=e,function(t,e){e&&!t.f&&(Yn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Jn(this,e),Zn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=zn(e,Hn)),t.b=new Gn(e,t.i))}function $n(t,e,n){t.b.set(e,n)}function Dn(t,e){return t.b.get(e)}function Ln(t){return t instanceof Pn?new Pn(t):new Pn(t,void 0)}function Mn(t,e,n,r){var i=new Pn(null,void 0);return t&&On(i,t),e&&(i.a=e),n&&Rn(i,n),r&&(i.f=r),i}function Fn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Un),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Un(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(zn(e,Vn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(zn(e,Vn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(zn(n,"/"==n.charAt(0)?Bn:Wn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",zn(n,Kn)),t.join("")},Pn.prototype.resolve=function(t){var e=new Pn(this),n=!!t.c;n?On(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Rn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?jn(e,tr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Vn=/[#\/\?@]/g,Wn=/[#\?:]/g,Bn=/[#\?]/g,Hn=/[#\?@]/g,Kn=/#/g;function Gn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Yn(t){t.a||(t.a=new En,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xn(t){var e=Sn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Gn(null,void 0);t=Tn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Zn(n,i,o):n.add(i,o)}return n}function Jn(t,e){Yn(t),e=er(t,e),qn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,qn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Nn(t)))}function Qn(t,e){return Yn(t),e=er(t,e),qn(t.a.b,e)}function Zn(t,e,n){Jn(t,e),0<n.length&&(t.c=null,t.a.set(er(t,e),Y(n)),t.b+=n.length)}function tr(t){var e=new Gn;return e.c=t.c,t.a&&(e.a=new En(t.a),e.b=t.b),e}function er(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nr(t){var e=[];return ir(new rr,t,e),e.join("")}function rr(){}function ir(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),ir(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),sr(r,n),n.push(":"),ir(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":sr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Gn.prototype).add=function(t,e){Yn(this),this.c=null,t=er(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Yn(this),this.a.forEach((function(n,r){z(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Yn(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){Yn(this);var e=[];if("string"==typeof t)Qn(this,t)&&(e=G(e,this.a.get(er(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=G(e,t[n])}return e},t.set=function(t,e){return Yn(this),this.c=null,Qn(this,t=er(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var or={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ar=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(t,e){e.push('"',t.replace(ar,(function(t){var e=or[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),or[t]=e),e})),'"')}function ur(){var t=Er();return Ht&&!!oe&&11==oe||/Edge\/\d+/.test(t)}function lr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function cr(t,e){e=e||a.window;var n="about:blank";t&&(n=Nt(Ot(t)||$t)),e.location.href=n}function hr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<hr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function fr(t){return!!((t=(t||Er()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function pr(t){t=t||a.window;try{t.close()}catch(t){}}function dr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Er().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),Cr(Er())==kr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Et?n:Ot(void 0!==n.href?n.href:String(n))||$t,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((lt("iPhone")&&!lt("iPod")&&!lt("iPad")||lt("iPad")||lt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(a=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof Et?e:Rt(e),a.href=Nt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Mt("",r,n,a),t=Nt(e),a&&(Gt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+zt(t)+'">',t=new Dt(t=(r=_t())?r.createHTML(t):t,null,Lt),r=a.document)&&(r.write(function(t){return t instanceof Dt&&t.constructor===Dt?t.a:(O("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}(t)),r.close())):(a=Mt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var vr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gr=/^[^@]+@[^@]+$/;function mr(){var t=null;return new we((function(e){"complete"==a.document.readyState?e():(t=function(){e()},cn(window,"load",t))})).o((function(e){throw hn(window,"load",t),e}))}function yr(t){return t=t||Er(),!("file:"!==Or()&&"ionic:"!==Or()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function wr(){var t=a.window;try{return!(!t||t==t.top)}catch(t){return!1}}function br(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function _r(){return Ce.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ce.INTERNAL.hasOwnProperty("node")?"Node":br()?"Worker":"Browser"}function xr(){var t=_r();return"ReactNative"===t||"Node"===t}var kr="Firefox",Ir="Chrome";function Cr(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?kr:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Ir:"Safari"}var Tr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Sr(t,e){e=e||[];var n,r=[],i={};for(n in Tr)i[Tr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=_r())?r=Cr(i=Er()):"Worker"===r&&(r=Cr(i=Er())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Er(){return a.navigator&&a.navigator.userAgent||""}function Nr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function qr(){try{var t=a.localStorage,e=Lr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ur()||!!a.indexedDB}catch(t){return br()&&!!a.indexedDB}return!1}function Ar(){return(Pr()||"chrome-extension:"===Or()||yr())&&!xr()&&qr()&&!br()}function Pr(){return"http:"===Or()||"https:"===Or()}function Or(){return a.location&&a.location.protocol||null}function Rr(t){return!fr(t=t||Er())&&Cr(t)!=kr}function jr(t){return void 0===t?null:nr(t)}function $r(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Dr(t){if(null!==t)return JSON.parse(t)}function Lr(t){return t||Math.floor(1e9*Math.random()).toString()}function Mr(t){return"Safari"!=Cr(t=t||Er())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Fr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function zr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Er(),e=_r(),this.b=fr(t)||"ReactNative"===e}function Ur(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Vr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Wr(){return!(!Nr("fireauth.oauthhelper",a)&&!Nr("fireauth.iframe",a))}zr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Pr()&&"chrome-extension:"!==Or()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Br,Hr={};function Kr(t){Hr[t]||(Hr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Gr={};Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:2}),Br=2==Gr.abcd}catch(Wt){Br=!1}function Yr(t,e,n){Br?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Xr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Yr(t,n,e[n])}function Jr(t){var e={};return Xr(e,t),e}function Qr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Yr(e,n,Qr(t[n]));return e}function Zr(t){var e=t&&(t[ii]?"phone":null);if(!(e&&t&&t[ri]))throw new k("internal-error","Internal assert: invalid MultiFactorInfo object");Yr(this,"uid",t[ri]),Yr(this,"displayName",t[ei]||null);var n=null;t[ni]&&(n=new Date(t[ni]).toUTCString()),Yr(this,"enrollmentTime",n),Yr(this,"factorId",e)}function ti(t){try{var e=new oi(t)}catch(t){e=null}return e}Zr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ei="displayName",ni="enrolledAt",ri="mfaEnrollmentId",ii="phoneInfo";function oi(t){Zr.call(this,t),Yr(this,"phoneNumber",t[ii])}function ai(t){var e={},n=t[ci],r=t[fi],i=t[pi];if(t=ti(t[hi]),!i||i!=ui&&i!=li&&!n||i==li&&!r||i==si&&!t)throw Error("Invalid checkActionCode response!");i==li?(e[vi]=n||null,e[mi]=n||null,e[di]=r):(e[vi]=r||null,e[mi]=r||null,e[di]=n||null),e[gi]=t||null,Yr(this,wi,i),Yr(this,yi,Qr(e))}_(oi,Zr),oi.prototype.w=function(){var t=oi.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var si="REVERT_SECOND_FACTOR_ADDITION",ui="EMAIL_SIGNIN",li="VERIFY_AND_CHANGE_EMAIL",ci="email",hi="mfaInfo",fi="newEmail",pi="requestType",di="email",vi="fromEmail",gi="multiFactorInfo",mi="previousEmail",yi="data",wi="operation";function bi(t){var e=Dn(t=Ln(t),_i)||null,n=Dn(t,xi)||null,r=Dn(t,Ci)||null;if(r=r&&Si[r]||null,!e||!n||!r)throw new k("argument-error",_i+", "+xi+"and "+Ci+" are required in a valid action code URL.");Xr(this,{apiKey:e,operation:r,code:n,continueUrl:Dn(t,ki)||null,languageCode:Dn(t,Ii)||null,tenantId:Dn(t,Ti)||null})}var _i="apiKey",xi="oobCode",ki="continueUrl",Ii="languageCode",Ci="mode",Ti="tenantId",Si={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:si,signIn:ui,verifyAndChangeEmail:li,verifyEmail:"VERIFY_EMAIL"};function Ei(t){try{return new bi(t)}catch(t){return null}}function Ni(t){var e=t[Ri];if(void 0===e)throw new k("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new k("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[qi];if(n&&"object"==typeof n){e=n[Di];var r=n[ji];if(n=n[$i],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new k("argument-error",ji+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new k("argument-error",$i+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new k("argument-error",Di+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new k("missing-android-pkg-name")}}else if(void 0!==n)throw new k("argument-error",qi+" property must be a non null object when specified.");if(this.f=null,(e=t[Oi])&&"object"==typeof e){if("string"==typeof(e=e[Li])&&e.length)this.f=e;else if(void 0!==e)throw new k("argument-error",Li+" property must be a non empty string when specified.")}else if(void 0!==e)throw new k("argument-error",Oi+" property must be a non null object when specified.");if(void 0!==(e=t[Pi])&&"boolean"!=typeof e)throw new k("argument-error",Pi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ai])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new k("argument-error",Ai+" property must be a non empty string when specified.");this.i=t||null}var qi="android",Ai="dynamicLinkDomain",Pi="handleCodeInApp",Oi="iOS",Ri="url",ji="installApp",$i="minimumVersion",Di="packageName",Li="bundleId";function Mi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Fi=null;function zi(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Fi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Fi){Fi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Fi[o]&&(Fi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e.push(t)})),e}function Ui(t){var e=Wi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Vi(t){try{return new Ui(t)}catch(t){return null}}function Wi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=zi(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(t){}return null}Ui.prototype.T=function(){return this.f},Ui.prototype.l=function(){return this.c},Ui.prototype.toString=function(){return this.h};var Bi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Hi=["client_id","response_type","scope","redirect_uri","state"],Ki={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Hi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Hi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Hi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Bi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Gi(t){for(var e in Ki)if(Ki[e].fa==t)return Ki[e];return null}function Yi(t){var e={};e["facebook.com"]=to,e["google.com"]=no,e["github.com"]=eo,e["twitter.com"]=ro;var n=t&&t[Ji];try{if(n)return e[n]?new e[n](t):new Zi(t);if(void 0!==t[Xi])return new Qi(t)}catch(t){}return null}var Xi="idToken",Ji="providerId";function Qi(t){var e=t[Ji];if(!e&&t[Xi]){var n=Vi(t[Xi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Yr(this,"providerId",e),Yr(this,"isNewUser",n)}function Zi(t){Qi.call(this,t),Yr(this,"profile",Qr((t=Dr(t.rawUserInfo||"{}"))||{}))}function to(t){if(Zi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Zi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",this.profile&&this.profile.login||null)}function no(t){if(Zi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(Zi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",t.screenName||null)}function io(t){var e=Ln(t),n=Dn(e,"link"),r=Dn(Ln(n),"link");return e=Dn(e,"deep_link_id"),Dn(Ln(e),"link")||e||r||n||t}function oo(t,e){if(!t&&!e)throw new k("internal-error","Internal assert: no raw session string available");if(t&&e)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?ao:so}_(Zi,Qi),_(to,Zi),_(eo,Zi),_(no,Zi),_(ro,Zi);var ao="enroll",so="signin";function uo(){}function lo(t,e){return t.then((function(t){if(t[Qa]){var n=Vi(t[Qa]);if(!n||e!=n.i)throw new k("user-mismatch");return t}throw new k("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==T+"user-not-found"?new k("user-mismatch"):t}))}function co(t,e){if(!e)throw new k("internal-error","failed to construct a credential");this.a=e,Yr(this,"providerId",t),Yr(this,"signInMethod",t)}function ho(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function fo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new co(t.providerId,t.pendingToken)}catch(t){}return null}function po(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Yr(this,"idToken",e.idToken),e.accessToken&&Yr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Yr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new k("internal-error","failed to construct a credential");Yr(this,"accessToken",e.oauthToken),Yr(this,"secret",e.oauthTokenSecret)}Yr(this,"providerId",t),Yr(this,"signInMethod",n)}function vo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Xn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function go(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new po(t.providerId,e,t.signInMethod)}catch(t){}}return null}function mo(t,e){this.Qc=e||[],Xr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Gi(t)||{}).Ja||null,this.pb=null}function yo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');mo.call(this,t,[])}function wo(t){mo.call(this,t,Hi),this.a=[]}function bo(){wo.call(this,"facebook.com")}function _o(t){if(!t)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function xo(){wo.call(this,"github.com")}function ko(t){if(!t)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new xo).credential({accessToken:e})}function Io(){wo.call(this,"google.com"),this.Ca("profile")}function Co(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new Io).credential({idToken:n,accessToken:e})}function To(){mo.call(this,"twitter.com",Bi)}function So(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function Eo(t,e,n){this.a=t,this.f=e,Yr(this,"providerId","password"),Yr(this,"signInMethod",n===qo.EMAIL_LINK_SIGN_IN_METHOD?qo.EMAIL_LINK_SIGN_IN_METHOD:qo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function No(t){return t&&t.email&&t.password?new Eo(t.email,t.password,t.signInMethod):null}function qo(){Xr(this,{providerId:"password",isOAuthProvider:!1})}function Ao(t,e){if(!(e=Po(e)))throw new k("argument-error","Invalid email link!");return new Eo(t,e.code,qo.EMAIL_LINK_SIGN_IN_METHOD)}function Po(t){return(t=Ei(t=io(t)))&&t.operation===ui?t:null}function Oo(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new k("internal-error");this.a=t,Yr(this,"providerId","phone"),this.fa="phone",Yr(this,"signInMethod","phone")}function Ro(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Oo(e)}return null}function jo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function $o(t){try{this.a=t||Ce.auth()}catch(t){throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Xr(this,{providerId:"phone",isOAuthProvider:!1})}function Do(t,e){if(!t)throw new k("missing-verification-id");if(!e)throw new k("missing-verification-code");return new Oo({fb:t,eb:e})}function Lo(t){if(t.temporaryProof&&t.phoneNumber)return new Oo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return Co(o,n);case"facebook.com":return _o(n);case"github.com":return ko(n);case"twitter.com":return So(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new co(e,a):new po(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new wo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Mo(t){if(!t.isOAuthProvider)throw new k("invalid-oauth-provider")}function Fo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new k("invalid-auth-event");if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}function zo(t){return(t=t||{}).type?new Fo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&I(t.error),t.postBody,t.tenantId):null}function Uo(){this.b=null,this.a=[]}oo.prototype.Ha=function(){return this.a?Se(this.a):Se(this.b)},oo.prototype.w=function(){return this.type==ao?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},uo.prototype.ka=function(){},uo.prototype.b=function(){},uo.prototype.c=function(){},uo.prototype.w=function(){},co.prototype.ka=function(t){return bs(t,ho(this))},co.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,_s(t,n)},co.prototype.c=function(t,e){return lo(xs(t,ho(this)),e)},co.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},po.prototype.ka=function(t){return bs(t,vo(this))},po.prototype.b=function(t,e){var n=vo(this);return n.idToken=e,_s(t,n)},po.prototype.c=function(t,e){return lo(xs(t,vo(this)),e)},po.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},mo.prototype.Ka=function(t){return this.Jb=ft(t),this},_(yo,mo),_(wo,mo),wo.prototype.Ca=function(t){return B(this.a,t)||this.a.push(t),this},wo.prototype.Rb=function(){return Y(this.a)},wo.prototype.credential=function(t,e){var n;if(!(n=d(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,n,this.providerId)},_(bo,wo),Yr(bo,"PROVIDER_ID","facebook.com"),Yr(bo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(xo,wo),Yr(xo,"PROVIDER_ID","github.com"),Yr(xo,"GITHUB_SIGN_IN_METHOD","github.com"),_(Io,wo),Yr(Io,"PROVIDER_ID","google.com"),Yr(Io,"GOOGLE_SIGN_IN_METHOD","google.com"),_(To,mo),Yr(To,"PROVIDER_ID","twitter.com"),Yr(To,"TWITTER_SIGN_IN_METHOD","twitter.com"),Eo.prototype.ka=function(t){return this.signInMethod==qo.EMAIL_LINK_SIGN_IN_METHOD?ru(t,qs,{email:this.a,oobCode:this.f}):ru(t,Qs,{email:this.a,password:this.f})},Eo.prototype.b=function(t,e){return this.signInMethod==qo.EMAIL_LINK_SIGN_IN_METHOD?ru(t,As,{idToken:e,email:this.a,oobCode:this.f}):ru(t,Ws,{idToken:e,email:this.a,password:this.f})},Eo.prototype.c=function(t,e){return lo(this.ka(t),e)},Eo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Xr(qo,{PROVIDER_ID:"password"}),Xr(qo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Xr(qo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Oo.prototype.ka=function(t){return t.gb(jo(this))},Oo.prototype.b=function(t,e){var n=jo(this);return n.idToken=e,ru(t,tu,n)},Oo.prototype.c=function(t,e){var n=jo(this);return n.operation="REAUTH",lo(t=ru(t,eu,n),e)},Oo.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},$o.prototype.gb=function(t,e){var n=this.a.a;return Se(e.verify()).then((function(r){if("string"!=typeof r)throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=d(t)?t.session:null,o=d(t)?t.phoneNumber:t;return(i&&i.type==ao?i.Ha().then((function(t){return function(t,e){return ru(t,Hs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==so?i.Ha().then((function(e){return function(t,e){return ru(t,Ks,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return ru(t,Us,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Xr($o,{PROVIDER_ID:"phone"}),Xr($o,{PHONE_SIGN_IN_METHOD:"phone"}),Fo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Fo.prototype.T=function(){return this.h},Fo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Vo,Wo=null;function Bo(t){var e="unauthorized-domain",n=void 0,r=Ln(t);t=r.a,"chrome-extension"==(r=r.c)?n=Ft("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ft("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",k.call(this,e,n)}function Ho(t,e,n){k.call(this,t,n),(t=e||{}).Kb&&Yr(this,"email",t.Kb),t.ea&&Yr(this,"phoneNumber",t.ea),t.credential&&Yr(this,"credential",t.credential),t.$b&&Yr(this,"tenantId",t.$b)}function Ko(t){if(t.code){var e=t.code||"";0==e.indexOf(T)&&(e=e.substring(T.length));var n={credential:Lo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new k(e,t.message||void 0);return new Ho(e,n,t.message)}return null}function Go(){}function Yo(t){return t.c||(t.c=t.b())}function Xo(){}function Jo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Qo(){}function Zo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Tb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function ta(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ea(t,e,n){this.reset(t,e,n,void 0,void 0)}function na(t){this.f=t,this.b=this.c=this.a=null}function ra(t,e){this.name=t,this.value=e}_(Bo,k),_(Ho,k),Ho.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&dt(t,e),t},Ho.prototype.toJSON=function(){return this.w()},Go.prototype.c=null,_(Xo,Go),Xo.prototype.a=function(){var t=Jo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Xo.prototype.b=function(){var t={};return Jo(this)&&(t[0]=!0,t[1]=!0),t},Vo=new Xo,_(Qo,Go),Qo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Zo;throw Error("Unsupported browser")},Qo.prototype.b=function(){return{}},(t=Zo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ta(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",ta(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,ta(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ea.prototype.a=null,ea.prototype.reset=function(t,e,n,r,i){delete this.a},ra.prototype.toString=function(){return this.name};var ia=new ra("SEVERE",1e3),oa=new ra("WARNING",900),aa=new ra("CONFIG",700),sa=new ra("FINE",500);function ua(t){return t.c?t.c:t.a?ua(t.a):(O("Root logger has no level set."),null)}na.prototype.log=function(t,e,n){if(t.value>=ua(this).value)for(p(e)&&(e=e()),t=new ea(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var la={},ca=null;function ha(t){var e;if(ca||(ca=new na(""),la[""]=ca,ca.c=aa),!(e=la[t])){e=new na(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ha(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,la[t]=e}return e}function fa(t,e){t&&t.log(sa,e,void 0)}function pa(t){this.f=t}function da(t){bn.call(this),this.u=t,this.h=void 0,this.readyState=va,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ha("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}_(pa,Go),pa.prototype.a=function(){return new da(this.f)},pa.prototype.b=function(t){return function(){return t}}({}),_(da,bn);var va=0;function ga(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function ma(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ya(t)}function ya(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function wa(t){bn.call(this),this.headers=new En,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ba,this.u=this.S=!1}(t=da.prototype).open=function(t,e){if(this.readyState!=va)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ya(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ma(this)),this.readyState=va},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ya(this)),this.a&&(this.readyState=3,ya(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ga(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ma(this):ya(this),3==this.readyState&&ga(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ma(this))},t.sc=function(t){this.a&&(this.response=t,ma(this))},t.Va=function(t){var e=this.i;e&&e.log(oa,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ma(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(oa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(oa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(da.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),_(wa,bn);var ba="";wa.prototype.b=ha("goog.net.XhrIo");var _a=/^https?$/i,xa=["POST","PUT"];function ka(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Vo.a(),t.C=t.D?Yo(t.D):Yo(Vo),t.a.onreadystatechange=w(t.Wb,t);try{fa(t.b,Pa(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(e){return fa(t.b,Pa(t,"Error opening Xhr: "+e.message)),void Ca(t,e)}e=r||"";var o=new En(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)z(t,e,void 0);else for(var n=Sn(t),r=Tn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Ia,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!B(xa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Na(t),0<t.g&&(t.u=function(t){return Ht&&re(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),fa(t.b,Pa(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.s=In(t.Ma,t.g,t)),fa(t.b,Pa(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){fa(t.b,Pa(t,"Send error: "+e.message)),Ca(t,e)}}function Ia(t){return"content-type"==t.toLowerCase()}function Ca(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ta(t),Ea(t)}function Ta(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Sa(t){if(t.c&&void 0!==o)if(t.C[1]&&4==qa(t)&&2==Aa(t))fa(t.b,Pa(t,"Local request error detected and ignored"));else if(t.i&&4==qa(t))In(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==qa(t)){fa(t.b,Pa(t,"Request complete")),t.c=!1;try{var e,n=Aa(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.l).match(An)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!_a.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var l=2<qa(t)?t.a.statusText:""}catch(e){fa(t.b,"Can not get status: "+e.message),l=""}t.h=l+" ["+Aa(t)+"]",Ta(t)}}finally{Ea(t)}}}function Ea(t,e){if(t.a){Na(t);var n=t.a,r=t.C[0]?c:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(ia,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Na(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function qa(t){return t.a?t.a.readyState:0}function Aa(t){try{return 2<qa(t)?t.a.status:-1}catch(t){return-1}}function Pa(t,e){return e+" ["+t.P+" "+t.l+" "+Aa(t)+"]"}function Oa(t){var e=Wa;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ra(t,e,n){t.a=!0,t.c=n,t.f=!e,La(t)}function ja(t){if(t.a){if(!t.v)throw new Ma(t);t.v=!1}}function $a(t,e,n,r){t.g.push([e,n,r]),t.a&&La(t)}function Da(t){return W(t.g,(function(t){return p(t[1])}))}function La(t){if(t.h&&t.a&&Da(t)){var e=t.h,n=Ua[e];n&&(a.clearTimeout(n.a),delete Ua[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(q(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Da(t)||(n=!0)}}t.c=e,r&&(u=w(t.m,t,!0),r=w(t.m,t,!1),e instanceof Oa?($a(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new za(e),Ua[e.a]=e,t.h=e.a)}function Ma(){A.call(this)}function Fa(){A.call(this)}function za(t){this.a=a.setTimeout(w(this.c,this),0),this.b=t}(t=wa.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",fa(this.b,Pa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(fa(this.b,Pa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ea(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ea(this,!0)),wa.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?Sa(this):this.Jc())},t.Jc=function(){Sa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ba:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ia,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return fa(this.b,"Can not get response: "+t.message),null}},Oa.prototype.cancel=function(t){if(this.a)this.c instanceof Oa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Fa(this),ja(this),Ra(this,!1,t))}},Oa.prototype.m=function(t,e){this.i=!1,Ra(this,t,e)},Oa.prototype.then=function(t,e,n){var r,i,o=new we((function(t,e){r=t,i=e}));return $a(this,r,(function(t){t instanceof Fa?o.cancel():i(t)})),o.then(t,e,n)},Oa.prototype.$goog_Thenable=!0,_(Ma,A),Ma.prototype.message="Deferred has already fired",Ma.prototype.name="AlreadyCalledError",_(Fa,A),Fa.prototype.message="Deferred was canceled",Fa.prototype.name="CanceledError",za.prototype.c=function(){throw delete Ua[this.a],this.b};var Ua={};function Va(t){var e,n=document,r=kt(t).toString(),i=pe(document,"SCRIPT"),o={Xb:i,Ma:void 0},s=new Oa(o);return e=window.setTimeout((function(){Ba(i,!0);var t=new Ga(Ka,"Timeout reached for loading script "+r);ja(s),Ra(s,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ba(i,!1,e),ja(s),Ra(s,!0,null))},i.onerror=function(){Ba(i,!0,e);var t=new Ga(Ha,"Error while loading script "+r);ja(s),Ra(s,!1,t)},dt(o={},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=kt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=l(e.document):(null===u&&(u=l(a.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Wa(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Ba(t,!0,this.Ma)}}function Ba(t,e,n){null!=n&&a.clearTimeout(n),t.onload=c,t.onerror=c,t.onreadystatechange=c,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ha=0,Ka=1;function Ga(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),A.call(this,n),this.code=t}function Ya(t){this.f=t}function Xa(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Za,this.g=ft(t.secureTokenHeaders||ts),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||es,this.a=ft(t.firebaseHeaders||ns),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==_r(),!(n=a.XMLHttpRequest||n&&Ce.INTERNAL.node&&Ce.INTERNAL.node.XMLHttpRequest)&&!br())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,br()?this.f=new pa(self):xr()?this.f=new Ya(n):this.f=new Qo,this.b=null}_(Ga,A),_(Ya,Go),Ya.prototype.a=function(){return new this.f},Ya.prototype.b=function(){return{}};var Ja,Qa="idToken",Za=new zr(3e4,6e4),ts={"Content-Type":"application/x-www-form-urlencoded"},es=new zr(3e4,6e4),ns={"Content-Type":"application/json"};function rs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function is(t,e){e&&(t.l=os("https://securetoken.googleapis.com/v1/token",e),t.h=os("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=os("https://identitytoolkit.googleapis.com/v2/",e))}function os(t,e){return t=Ln(t),e=Ln(e.url),t.f=t.a+t.f,On(t,e.c),t.a=e.a,Rn(t,e.g),t.toString()}function as(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ss(t,e,n,r,i,o,s){(function(){var t=Er();return!((t=Cr(t)!=Ir?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Ht&&oe&&!(9<oe))})()||br()?t=w(t.u,t):(Ja||(Ja=new we((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{a[ls]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){$a(t,null,e,void 0)}(Va(It(us,{onload:ls})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=w(t.s,t)),t(e,n,r,i,o,s)}Xa.prototype.T=function(){return this.b},Xa.prototype.u=function(t,e,n,r,i,o){if(br()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new wa(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout((function(){s.dispatchEvent("timeout")}),o)}_n(s,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return fa(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),xn(s,"ready",(function(){u&&clearTimeout(u),We(this)})),xn(s,"timeout",(function(){u&&clearTimeout(u),We(this),e&&e(null)})),ka(s,t,n,r,i)};var us=new gt(bt,"https://apis.google.com/js/client.js?onload=%{onload}"),ls="__fcb"+Math.floor(1e6*Math.random()).toString();function cs(t,e,n,r,i,o,a){var s=Ln(e+n);$n(s,"key",t.c),a&&$n(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var l in i)i.hasOwnProperty(l)&&$n(s,l,i[l]);return new we((function(e,n){ss(t,s.toString(),(function(t){t?t.error?n(ou(t,o||{})):e(t):n(new k("network-request-failed"))}),r,u?void 0:nr($r(i)),t.a,t.v.get())}))}function hs(t){if("string"!=typeof(t=t.email)||!gr.test(t))throw new k("invalid-email")}function fs(t){"email"in t&&hs(t)}function ps(t){if(!t[Qa]){if(t.mfaPendingCredential)throw new k("multi-factor-auth-required",null,ft(t));throw new k("internal-error")}}function ds(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new k("internal-error")}else{if(!t.sessionInfo)throw new k("missing-verification-id");if(!t.code)throw new k("missing-verification-code")}}Xa.prototype.s=function(t,e,n,r,i){var o=this;Ja.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Xa.prototype.Ab=function(){return ru(this,Bs,{})},Xa.prototype.Cb=function(t,e){return ru(this,Vs,{idToken:t,email:e})},Xa.prototype.Db=function(t,e){return ru(this,Ws,{idToken:t,password:e})};var vs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function gs(t){if(!t.phoneVerificationInfo)throw new k("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new k("missing-verification-code")}function ms(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new k("internal-error")}function ys(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Qn(t=new Gn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ws(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ko(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ko(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ko(t)):t.errorMessage&&(e=iu(t.errorMessage)),e)throw e;ps(t)}function bs(t,e){return e.returnIdpCredential=!0,ru(t,Gs,e)}function _s(t,e){return e.returnIdpCredential=!0,ru(t,Xs,e)}function xs(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ru(t,Ys,e)}function ks(t){if(!t.oobCode)throw new k("invalid-action-code")}(t=Xa.prototype).Eb=function(t,e){var n={idToken:t},r=[];return ct(vs,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ru(this,Vs,n)},t.wb=function(t,e){return dt(t={requestType:"PASSWORD_RESET",email:t},e),ru(this,Ls,t)},t.xb=function(t,e){return dt(t={requestType:"EMAIL_SIGNIN",email:t},e),ru(this,js,t)},t.vb=function(t,e){return dt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ru(this,$s,t)},t.Fb=function(t,e,n){return dt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),ru(this,Ds,t)},t.gb=function(t){return ru(this,Zs,t)},t.ob=function(t,e){return ru(this,zs,{oobCode:t,newPassword:e})},t.Sa=function(t){return ru(this,Cs,{oobCode:t})},t.kb=function(t){return ru(this,Is,{oobCode:t})};var Is={endpoint:"setAccountInfo",A:ks,Z:"email",B:!0},Cs={endpoint:"resetPassword",A:ks,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new k("internal-error")},B:!0},Ts={endpoint:"signupNewUser",A:function(t){if(hs(t),!t.password)throw new k("weak-password")},G:ps,V:!0,B:!0},Ss={endpoint:"createAuthUri",B:!0},Es={endpoint:"deleteAccount",O:["idToken"]},Ns={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new k("internal-error")}},qs={endpoint:"emailLinkSignin",O:["email","oobCode"],A:hs,G:ps,V:!0,B:!0},As={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:hs,G:ps,V:!0},Ps={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:gs,G:ps,B:!0,Na:!0},Os={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:gs,G:ps,B:!0,Na:!0},Rs={endpoint:"getAccountInfo"},js={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new k("internal-error");hs(t)},Z:"email",B:!0},$s={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new k("internal-error")},Z:"email",B:!0},Ds={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new k("internal-error")},Z:"email",B:!0},Ls={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new k("internal-error");hs(t)},Z:"email",B:!0},Ms={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Fs={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new k("internal-error")}},zs={endpoint:"resetPassword",A:ks,Z:"email",B:!0},Us={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Vs={endpoint:"setAccountInfo",O:["idToken"],A:fs,V:!0},Ws={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(fs(t),!t.password)throw new k("weak-password")},G:ps,V:!0},Bs={endpoint:"signupNewUser",G:ps,V:!0,B:!0},Hs={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new k("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Ks={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Gs={endpoint:"verifyAssertion",A:ms,Za:ys,G:ws,V:!0,B:!0},Ys={endpoint:"verifyAssertion",A:ms,Za:ys,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new k("user-not-found");if(t.errorMessage)throw iu(t.errorMessage);ps(t)},V:!0,B:!0},Xs={endpoint:"verifyAssertion",A:function(t){if(ms(t),!t.idToken)throw new k("internal-error")},Za:ys,G:ws,V:!0},Js={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new k("invalid-custom-token")},G:ps,V:!0,B:!0},Qs={endpoint:"verifyPassword",A:function(t){if(hs(t),!t.password)throw new k("wrong-password")},G:ps,V:!0,B:!0},Zs={endpoint:"verifyPhoneNumber",A:ds,G:ps,B:!0},tu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new k("internal-error");ds(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ko(t);ps(t)}},eu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ds,G:ps,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Qa]^!!t.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function ru(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.O))return Ee(new k("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return Se(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),cs(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)})).then((function(t){return r=t,e.Za?e.Za(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new k("internal-error");return r[e.Z]}))}function iu(t){return ou({error:{errors:[{message:t}],code:400,message:t}})}function ou(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new k(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",dt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new k(r[i],e);return!e&&t&&(e=jr(t)),new k("internal-error",e)}function au(t){this.b=t,this.a=null,this.sb=function(t){return(cu||(cu=new we((function(t,e){function n(){Fr(),Nr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Fr(),e(Error("Network Error"))},timeout:uu.get()})}if(Nr("gapi.iframes.Iframe"))t();else if(Nr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Nr("gapi.load")?n():e(Error("Network Error"))},Se(Va(r=It(su,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw cu=null,t})))).then((function(){return new we((function(e,n){Nr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),lu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var su=new gt(bt,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new zr(3e4,6e4),lu=new zr(5e3,15e3),cu=null;function hu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Mn((t=Ln(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=Mn("https",this.l,null,"/__/auth/iframe"),this.a=t,$n(this.a,"apiKey",this.h),$n(this.a,"appName",this.i),this.b=null,this.c=[]}function fu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function pu(t){try{return Ce.app(t).auth().Ga()}catch(t){return[]}}function du(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function vu(t){var e=lr();return function(t){return ru(t,Ms,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Ln(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Ln(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:vr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Bo(lr())}))}function gu(t){return t.m||(t.m=mr().then((function(){if(!t.u){var e=t.c,n=t.i,r=pu(t.b),i=new hu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Y(r||[]),t.u=i.toString()}t.v=new au(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then((function(){t.a.register("authEvent",e,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=zo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Se(n)}return n.status="ERROR",Se(n)}))}(t)}))),t.m}function mu(t){return t.l||(t.C=t.c?Sr(t.c,pu(t.b)):null,t.l=new Xa(t.g,N(t.i),t.C),t.f&&is(t.l,t.f)),t.l}function yu(t,e,n,r,i,o,a,s,u,l,c,h){return(t=new fu(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=ft(u||null),t.f=l,t.zb(c).toString()}function wu(t){if(this.a=t||Ce.INTERNAL.reactNative&&Ce.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function bu(t){this.b=t,this.a={},this.f=w(this.c,this)}hu.prototype.toString=function(){return this.f?$n(this.a,"v",this.f):Jn(this.a.b,"v"),this.b?$n(this.a,"eid",this.b):Jn(this.a.b,"eid"),this.c.length?$n(this.a,"fw",this.c.join(",")):Jn(this.a.b,"fw"),this.a.toString()},fu.prototype.zb=function(t){return this.h=t,this},fu.prototype.toString=function(){if(this.v){var t=Ln(this.v.url);t=Mn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Mn("https",this.u,null,"/__/auth/handler");if($n(t,"apiKey",this.s),$n(t,"appName",this.c),$n(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=Ce.app(this.c).auth().la()}catch(t){n=null}for(var r in e.pb=n,$n(t,"providerId",this.a.providerId),e=$r((n=this.a).Jb))e[r]=e[r].toString();r=n.Qc,e=ft(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),ht(e)||$n(t,"customParameters",jr(e))}if("function"==typeof this.a.Rb&&((n=this.a.Rb()).length&&$n(t,"scopes",n.join(","))),this.l?$n(t,"redirectUrl",this.l):Jn(t.b,"redirectUrl"),this.g?$n(t,"eventId",this.g):Jn(t.b,"eventId"),this.i?$n(t,"v",this.i):Jn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Dn(t,a)&&$n(t,a,this.b[a]);return this.h?$n(t,"tid",this.h):Jn(t.b,"tid"),this.f?$n(t,"eid",this.f):Jn(t.b,"eid"),(a=pu(this.c)).length&&$n(t,"fw",a.join(",")),t.toString()},(t=du.prototype).Pb=function(t,e,n){var r=new k("popup-closed-by-user"),i=new k("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return gu(t).then((function(){return function(t,e){return t.sb.then((function(){return new we((function(n){t.a.send(e.type,e,n,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&pr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new we((function(e){return function n(){Cn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return Cn(n).then((function(){e(r)}))}))},t.Yb=function(){var t=Er();return!Rr(t)&&!Mr(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,a,s){if(!t)return Ee(new k("popup-blocked"));if(a&&!Rr())return this.ma().o((function(e){pr(t),i(e)})),r(),Se();this.a||(this.a=vu(mu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw pr(t),i(e),e}));return r(),e})).then((function(){(Mo(n),a)||cr(yu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Ob=function(t,e,n,r){this.a||(this.a=vu(mu(this)));var i=this;return this.a.then((function(){Mo(e),cr(yu(i.s,i.g,i.b,t,e,lr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return gu(this).then((function(){return t.v.sb})).o((function(){throw t.a=null,new k("network-request-failed")}))},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){K(this.h,(function(e){return e==t}))},(t=wu.prototype).get=function(t){return Se(this.a.getItem(t)).then((function(t){return t&&Dr(t)}))},t.set=function(t,e){return Se(this.a.setItem(t,jr(e)))},t.U=function(t){return Se(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var _u,xu=[];function ku(t,e,n){ht(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Iu(t){this.a=t}function Cu(t){this.c=t,this.b=!1,this.a=[]}function Tu(t,e,n,r){var i,o,a,s,u=n||{},l=null;if(t.b)return Ee(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new we((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),c),l={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(l),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Su(t,l),e})).o((function(e){throw Su(t,l),e}))}function Su(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),K(t.a,(function(t){return t==e}))}}function Eu(){if(!Pu())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;br()&&self?(this.v=function(){var t=br()?self:null;if(z(xu,(function(n){n.b==t&&(e=n)})),!e){var e=new bu(t);xu.push(e)}return e}(),ku(this.v,"keyChanged",(function(e,n){return Du(t).then((function(e){return 0<e.length&&z(t.a,(function(t){t(e)})),{keyProcessed:B(e,n.key)}}))})),ku(this.v,"ping",(function(){return Se(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?Se().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Se(null)}().then((function(e){(t.h=e)&&(t.g=new Cu(new Iu(e)),Tu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&B(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Nu(t){return new we((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new we((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Nu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function qu(t){return t.i||(t.i=Nu(t)),t.i}function Au(t,e){var n=0;return new we((function r(i,o){qu(t).then(e).then(i).o((function(e){if(!(3<++n))return qu(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Pu(){try{return!!a.indexedDB}catch(t){return!1}}function Ou(t){return t.objectStore("firebaseLocalStorage")}function Ru(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function ju(t){return new we((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function $u(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Tu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Se()}function Du(t){return qu(t).then((function(t){var e=Ou(Ru(t,!1));return e.getAll?ju(e.getAll()):new we((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=hr(t.c,n),t.c=n}return r}))}function Lu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Mu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Se().then((function(){if(Pu()){var t=Lr(),r="__sak"+t;return _u||(_u=new Eu),(n=_u).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){z(e.a,(function(e){e(t)}))})),t}))}function Fu(){this.a={},this.type="inMemory"}function zu(){if(!function(){var t="Node"==_r();if(!(t=Uu()||t&&Ce.INTERNAL.node&&Ce.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==_r())throw new k("internal-error","The LocalStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Uu()||Ce.INTERNAL.node.localStorage,this.type="localStorage"}function Uu(){try{var t=a.localStorage,e=Lr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Vu(){this.type="nullStorage"}function Wu(){if(!function(){var t="Node"==_r();if(!(t=Bu()||t&&Ce.INTERNAL.node&&Ce.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==_r())throw new k("internal-error","The SessionStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Bu()||Ce.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Bu(){try{var t=a.sessionStorage,e=Lr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Hu(){var t={};t.Browser=Yu,t.Node=Xu,t.ReactNative=Ju,t.Worker=Qu,this.a=t[_r()]}bu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];z(r,(function(e){i.push(Se().then((function(){return e(t.origin,t.data.data)})))})),qe(i).then((function(r){var i=[];z(r,(function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})})),z(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Iu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Cu.prototype.close=function(){for(;0<this.a.length;)Su(this,this.a[0]);this.b=!0},(t=Eu.prototype).set=function(t,e){var n=this,r=!1;return Au(this,(function(e){return ju((e=Ou(Ru(e,!0))).get(t))})).then((function(i){return Au(n,(function(o){if(o=Ou(Ru(o,!0)),i)return i.value=e,ju(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,ju(o.add(a))}))})).then((function(){return n.c[t]=e,$u(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Au(this,(function(e){return ju(Ou(Ru(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Au(this,(function(r){return n=!0,e.b++,ju(Ou(Ru(r,!0)).delete(t))})).then((function(){return delete e.c[t],$u(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Du(t).then((function(e){0<e.length&&z(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Lu(t),e()}(this),this.a.push(t)},t.ia=function(t){K(this.a,(function(e){return e==t})),0==this.a.length&&Lu(this)},(t=Mu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){K(this.a,(function(e){return e==t}))},(t=Fu.prototype).get=function(t){return Se(this.a[t])},t.set=function(t,e){return this.a[t]=e,Se()},t.U=function(t){return delete this.a[t],Se()},t.ca=function(){},t.ia=function(){},(t=zu.prototype).get=function(t){var e=this;return Se().then((function(){return Dr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=jr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ca=function(t){a.window&&un(a.window,"storage",t)},t.ia=function(t){a.window&&hn(a.window,"storage",t)},(t=Vu.prototype).get=function(){return Se(null)},t.set=function(){return Se()},t.U=function(){return Se()},t.ca=function(){},t.ia=function(){},(t=Wu.prototype).get=function(t){var e=this;return Se().then((function(){return Dr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=jr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Ku,Gu,Yu={F:zu,cb:Wu},Xu={F:zu,cb:Wu},Ju={F:wu,cb:Vu},Qu={F:zu,cb:Vu},Zu={rd:"local",NONE:"none",td:"session"};function tl(){var t=!(Mr(Er())||!wr()),e=Rr(),n=qr();this.m=t,this.h=e,this.l=n,this.a={},Ku||(Ku=new Hu),t=Ku;try{this.g=!ur()&&Wr()||!a.indexedDB?new t.a.F:new Mu(br()?new Fu:new t.a.F)}catch(t){this.g=new Fu,this.h=!0}try{this.i=new t.a.cb}catch(t){this.i=new Fu}this.v=new Fu,this.f=w(this.Zb,this),this.b={}}function el(){return Gu||(Gu=new tl),Gu}function nl(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function rl(t,e){return"firebase:"+t.name+(e?":"+e:"")}function il(t,e,n){return n=rl(e,n),"local"==e.F&&(t.b[n]=null),nl(t,e.F).U(n)}function ol(t){t.c&&(clearInterval(t.c),t.c=null)}function al(t){this.a=t,this.b=el()}(t=tl.prototype).get=function(t,e){return nl(this,t.F).get(rl(t,e))},t.set=function(t,e,n){var r=rl(t,n),i=this,o=nl(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=rl(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),ht(this.a)&&(nl(this,"local").ca(this.f),this.h||(ur()||!Wr())&&a.indexedDB||!this.l||function(t){ol(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Xe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=rl(t,e),this.a[t]&&(K(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ht(this.a)&&(nl(this,"local").ia(this.f),ol(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?nl(this,"local").ia(this.f):ol(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.nb(e))},Ht&&oe&&10==oe&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else z(t,w(this.nb,this))},t.nb=function(t){this.a[t]&&z(this.a[t],(function(t){t()}))};var sl,ul={name:"authEvent",F:"local"};function ll(){this.a=el()}function cl(t,e){this.b=hl,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===sl&&(sl=a.Int32Array?new Int32Array(yl):yl),this.reset()}_(cl,(function(){this.b=-1}));for(var hl=64,fl=hl-1,pl=[],dl=0;dl<fl;dl++)pl[dl]=0;var vl=G(128,pl);function gl(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],l=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((a=(a=l&c^~l&h)+(0|sl[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=l,l=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+l|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function ml(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(gl(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(gl(t),i=0)}}t.c=i,t.g+=n}cl.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Y(this.h)};var yl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function wl(){cl.call(this,8,bl)}_(wl,cl);var bl=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function _l(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new ll,this.g=new al(this.h),this.f=null,this.b=[],this.a=this.c=null}function xl(t){return new k("invalid-cordova-configuration",t)}function kl(t){var e=new wl;ml(e,t),t=[];var n=8*e.g;56>e.c?ml(e,vl,56-e.c):ml(e,vl,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(gl(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return V(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Il(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Cl(t){return t.f||(t.f=t.ma().then((function(){return new we((function(e){t.Ea((function n(r){return e(r),t.Ta(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Tl(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=io(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Dr(Dn(o=Ln(i),"firebaseError")||null))?I(o):null)?new Fo(r.c,r.b,null,null,o,null,r.T()):new Fo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Il(t,i)}))}var n=new Fo("unknown",null,null,null,new k("no-auth-event")),r=!1,i=Cn(500).then((function(){return Tl(t).then((function(){r||Il(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Nr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Wo||(Wo=new Uo),function(t){var e=Wo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Nr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Tl(t){var e=null;return function(t){return t.b.get(ul,t.a).then((function(t){return zo(t)}))}(t.g).then((function(n){return e=n,il((n=t.g).b,ul,n.a)})).then((function(){return e}))}function Sl(t){this.a=t,this.b=el()}(t=_l.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(yr(void 0)?mr().then((function(){return new we((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ee(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Nr("universalLinks.subscribe",a))throw xl("cordova-universal-links-plugin-fix is not installed");if(void 0===Nr("BuildInfo.packageName",a))throw xl("cordova-plugin-buildinfo is not installed");if("function"!=typeof Nr("cordova.plugins.browsertab.openUrl",a))throw xl("cordova-plugin-browsertab is not installed");if("function"!=typeof Nr("cordova.InAppBrowser.open",a))throw xl("cordova-plugin-inappbrowser is not installed")}),(function(){throw new k("cordova-not-ready")}))},t.Pb=function(t,e){return e(new k("operation-not-supported-in-this-environment")),Se()},t.Nb=function(){return Ee(new k("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return Ee(new k("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,l=null,c=null;return this.c=Se().then((function(){return Mo(e),Cl(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Fo(e,r,null,o,new k("no-auth-event"),null,i),u=Nr("BuildInfo.packageName",a);if("string"!=typeof u)throw new k("invalid-cordova-configuration");var l=Nr("BuildInfo.displayName",a),c={};if(Er().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=u;else{if(!Er().toLowerCase().match(/android/))return Ee(new k("operation-not-supported-in-this-environment"));c.apn=u}l&&(c.appDisplayName=l),o=kl(o),c.sessionId=o;var h=yu(t.v,t.i,t.l,e,n,null,r,t.m,c,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(ul,s.w(),e)})).then((function(){var e=Nr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new k("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Nr("cordova.plugins.browsertab.openUrl",a)))throw new k("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Nr("cordova.InAppBrowser.open",a)))throw new k("invalid-cordova-configuration");e=Er(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new we((function(t,e){u=function(){var e=Nr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){s||(s=Cn(2e3).then((function(){e(new k("redirect-cancelled-by-user"))})))},c=function(){Ur()&&l()},o.addEventListener("resume",l,!1),Er().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).o((function(t){return Tl(i).then((function(){throw t}))}))})).oa((function(){l&&o.removeEventListener("resume",l,!1),c&&o.removeEventListener("visibilitychange",c,!1),s&&s.cancel(),u&&i.Ta(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Cl(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Fo("unknown",null,null,null,new k("no-auth-event")),t(e))}))},t.Ta=function(t){K(this.b,(function(e){return e==t}))};var El={name:"pendingRedirect",F:"session"};function Nl(t){return il(t.b,El,t.a)}function ql(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Bl,this.C=new Xl,this.g=new Sl(Vl(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Al(this.D,this.v,this.m,C,this.J)}function Al(t,e,n,r,i){var o=Ce.SDK_VERSION||null;return yr()?new _l(t,e,n,o,r,i):new du(t,e,n,o,r,i)}function Pl(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Ol(t){t.a.Yb()&&Pl(t).o((function(e){var n=new Fo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Ml(e)&&t.s(n)})),t.a.Ub()||Hl(t.b)}function Rl(t,e){B(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(El,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Nl(t.g).then((function(){Pl(t).o((function(e){var n=new Fo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Ml(e)&&t.s(n)}))})):Ol(t)})).o((function(){Ol(t)}))}function jl(t,e){K(t.h,(function(t){return t==e}))}ql.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Al(this.D,this.v,this.m,null,this.J),this.i={}},ql.prototype.s=function(t){if(!t)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Hl(this.b),e};var $l=new zr(2e3,1e4),Dl=new zr(3e4,6e4);function Ll(t,e,n,r,i,o,a){return t.a.Nb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function Ml(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Fl(t,e,n,r,i){var o;return function(t){return t.b.set(El,"pending",t.a)}(t.g).then((function(){return t.a.Ob(e,n,r,i).o((function(e){if(Ml(e))throw new k("operation-not-supported-in-this-environment");return o=e,Nl(t.g).then((function(){throw o}))})).then((function(){return t.a.ac()?new we((function(){})):Nl(t.g).then((function(){return t.ra()})).then((function(){})).o((function(){}))}))}))}function zl(t,e,n,r,i){return t.a.Pb(r,(function(t){e.na(n,null,t,i)}),$l.get())}ql.prototype.ra=function(){return this.b.ra()};var Ul={};function Vl(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Wl(t,e,n,r){var i=Vl(e,n,r);return Ul[i]||(Ul[i]=new ql(t,e,n,r)),Ul[i]}function Bl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Hl(t){t.g||(t.g=!0,Yl(t,!1,null,null))}function Kl(t){t.g&&!t.i&&Yl(t,!1,null,null)}function Gl(t,e){if(t.b=function(){return Se(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Yl(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ee(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Gl(t,n):Gl(t,{user:null}),t.f=[],t.c=[]}function Xl(){}function Jl(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function Ql(t,e){this.a=e,Yr(this,"verificationId",t)}function Zl(t,e,n,r){return new $o(t).gb(e,n).then((function(t){return new Ql(t,r)}))}function tc(t){var e=Wi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Xr(this,{token:t,expirationTime:Vr(1e3*e.exp),authTime:Vr(1e3*e.auth_time),issuedAtTime:Vr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function ec(t,e,n){var r=e&&e[rc];if(!r)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new oo(null,r),this.b=[];var i=this;z(e[nc]||[],(function(t){(t=ti(t))&&i.b.push(t)})),Yr(this,"auth",this.a),Yr(this,"session",this.c),Yr(this,"hints",this.b)}Bl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Bl.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Yl(this,!0,null,t.a),Se()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Yl(t,s,e,null)})).o((function(e){Yl(t,s,null,e)}))}(this,t,e):Ee(new k("invalid-auth-event")):(Yl(this,!1,null,null),Se())}else Ee(new k("invalid-auth-event"))},Bl.prototype.ra=function(){var t=this;return new we((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new k("timeout");t.a&&t.a.cancel(),t.a=Cn(Dl.get()).then((function(){t.b||(t.g=!0,Yl(t,!0,null,e))}))}(t))}))},Xl.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Se()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Ee(new k("invalid-auth-event"))}else Ee(new k("invalid-auth-event"))},Ql.prototype.confirm=function(t){return t=Do(this.verificationId,t),this.a(t)};var nc="mfaInfo",rc="mfaPendingCredential";function ic(t,e,n,r){k.call(this,"multi-factor-auth-required",r,e),this.b=new ec(t,e,n),Yr(this,"resolver",this.b)}function oc(t,e,n){if(t&&d(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new ic(e,t.serverResponse,n,t.message)}catch(t){}return null}function ac(){}function sc(t){Yr(this,"factorId",t.fa),this.a=t}function uc(t){if(sc.call(this,t),this.a.fa!=$o.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function lc(t,e){for(var n in Ye.call(this,t),e)this[n]=e[n]}function cc(t,e){this.a=t,this.b=[],this.c=w(this.yc,this),un(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&z(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ri]=t.uid),t.displayName&&(r[ei]=t.displayName),t.enrollmentTime&&(r[ni]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ii]=t.phoneNumber);try{e=new oi(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),hc(this,n)}function hc(t,e){t.b=e,Yr(t,"enrolledFactors",e)}function fc(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function pc(t,e){t.stop(),t.b=Cn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=a.document,e=null;return Ur()||!t?Se():new we((function(n){e=function(){Ur()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){pc(t,!0)})).o((function(e){t.i(e)&&pc(t,!1)}))}function dc(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function vc(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function gc(t,e){t.b=Vi(e[Qa]||""),t.a=e.refreshToken,vc(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function mc(t,e){return function(t,e){return new we((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ss(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(ou(t)):t.access_token&&t.refresh_token?n(t):r(new k("internal-error")):r(new k("network-request-failed"))}),"POST",Xn(e).toString(),t.g,t.m.get()):r(new k("internal-error"))}))}(t.f,e).then((function(e){return t.b=Vi(e.access_token),t.a=e.refresh_token,vc(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function yc(t,e){this.a=t||null,this.b=e||null,Xr(this,{lastSignInTime:Vr(e||null),creationTime:Vr(t||null)})}function wc(t,e,n,r,i,o){Xr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function bc(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=Ce.SDK_VERSION?Sr(Ce.SDK_VERSION):null;this.a=new Xa(this.l,N(C),r),(this.u=t.emulatorConfig||null)&&is(this.a,this.u),this.h=new dc(this.a),Nc(this,e[Qa]),gc(this.h,e),Yr(this,"refreshToken",this.h.a),Pc(this,n||{}),bn.call(this),this.P=!1,this.s&&Ar()&&(this.b=Wl(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new fc((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.ba=w(this.ib,this);var i=this;this.za=null,this.Pa=function(t){i.xa(t.h)},this.qa=null,this.Ba=function(t){_c(i,t.c)},this.$=null,this.aa=[],this.Oa=function(t){Ic(i,t.f)},this.ja=null,this.S=new cc(this,n),Yr(this,"multiFactor",this.S)}function _c(t,e){t.u=e,is(t.a,e),t.b&&(e=t.b,t.b=Wl(t.s,t.l,t.m,t.u),t.P&&(jl(e,t),Rl(t.b,t)))}function xc(t,e){t.qa&&hn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&un(e,"languageCodeChanged",t.Pa)}function kc(t,e){t.$&&hn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&un(e,"emulatorConfigChanged",t.Ba)}function Ic(t,e){t.aa=e,as(t.a,Ce.SDK_VERSION?Sr(Ce.SDK_VERSION,t.aa):null)}function Cc(t,e){t.ja&&hn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&un(e,"frameworkChanged",t.Oa)}function Tc(t){try{return Ce.app(t.m).auth()}catch(e){throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Sc(t){t.J||t.D.b||(t.D.start(),hn(t,"tokenChanged",t.ba),un(t,"tokenChanged",t.ba))}function Ec(t){hn(t,"tokenChanged",t.ba),t.D.stop()}function Nc(t,e){t.Aa=e,Yr(t,"_lat",e)}function qc(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return qe(e).then((function(){return t}))}function Ac(t){t.b&&!t.P&&(t.P=!0,Rl(t.b,t))}function Pc(t,e){Xr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new yc(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Oc(){}function Rc(t){return Se().then((function(){if(t.J)throw new k("app-deleted")}))}function jc(t){return V(t.providerData,(function(t){return t.providerId}))}function $c(t,e){e&&(Dc(t,e.providerId),t.providerData.push(e))}function Dc(t,e){K(t.providerData,(function(t){return t.providerId==e}))}function Lc(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Yr(t,e,n)}function Mc(t,e){t!=e&&(Xr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Yr(t,"metadata",function(t){return new yc(t.a,t.b)}(e.metadata)):Yr(t,"metadata",new yc),z(e.providerData,(function(e){$c(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Yr(t,"refreshToken",t.h.a),hc(t.S,e.S.b))}function Fc(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return ru(t.a,Rs,{idToken:e}).then(w(t.Kc,t))}(t,e).then((function(){return n||Lc(t,"isAnonymous",!1),e}))}))}function zc(t,e){e[Qa]&&t.Aa!=e[Qa]&&(gc(t.h,e),t.dispatchEvent(new lc("tokenChanged")),Nc(t,e[Qa]),Lc(t,"refreshToken",t.h.a))}function Uc(t,e){return Fc(t).then((function(){if(B(jc(t),e))return qc(t).then((function(){throw new k("provider-already-linked")}))}))}function Vc(t,e,n){return Jr({user:t,credential:Lo(e),additionalUserInfo:e=Yi(e),operationType:n})}function Wc(t,e){return zc(t,e),t.reload().then((function(){return t}))}function Bc(t,e,n,r,i){if(!Ar())return Ee(new k("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ee(t.i);var o=Gi(n.providerId),a=Lr(t.uid+":::"),s=null;(!Rr()||wr())&&t.s&&n.isOAuthProvider&&(s=yu(t.s,t.l,t.m,e,n,null,a,Ce.SDK_VERSION||null,null,null,t.tenantId,t.u));var u=dr(s,o&&o.va,o&&o.ua);return r=r().then((function(){if(Kc(t),!i)return t.I().then((function(){}))})).then((function(){return Ll(t.b,u,e,n,a,!!s,t.tenantId)})).then((function(){return new we((function(n,r){t.na(e,null,new k("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=zl(t.b,t,e,u,a)}))})).then((function(t){return u&&pr(u),t?Jr(t):null})).o((function(t){throw u&&pr(u),t})),Gc(t,r,i)}function Hc(t,e,n,r,i){if(!Ar())return Ee(new k("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ee(t.i);var o=null,a=Lr(t.uid+":::");return r=r().then((function(){if(Kc(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,qc(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Jc,t.w(),e.a)),e})).then((function(){return Fl(t.b,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return Qc(t.ha);throw o})).then((function(){if(o)throw o})),Gc(t,r,i)}function Kc(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new k("internal-error");throw new k("auth-domain-config-required")}}function Gc(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Ee(t.i)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new lc("userInvalidated")),t.i=e),e}))}(t,e,n);return t.N.push(r),r.oa((function(){H(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=oc(e.w(),Tc(t),w(t.jc,t))),n||e}))}function Yc(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Qa]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new bc(e,n,t);return t.providerData&&z(t.providerData,(function(t){t&&$c(i,Jr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Xc(t){this.a=t,this.b=el()}ec.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then((function(t){var n=ft(e.f);return delete n[nc],delete n[rc],dt(n,t),e.g(n)}))},_(ic,k),ac.prototype.tb=function(t,e,n){return e.type==ao?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),dt(n,{phoneVerificationInfo:jo(t.a)}),ru(e,Ps,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return dt(n={mfaPendingCredential:n},{phoneVerificationInfo:jo(t.a)}),ru(e,Os,n)}))}(this,t,e)},_(sc,ac),_(uc,sc),_(lc,Ye),(t=cc.prototype).yc=function(t){hc(this,function(t){var e=[];return z(t.mfaInfo||[],(function(t){(t=ti(t))&&e.push(t)})),e}(t.hd))},t.Sb=function(){return this.a.I().then((function(t){return new oo(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then((function(n){return t.tb(r,n,e)})).then((function(t){return zc(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return ru(r,nu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=U(e.b,(function(t){return t.uid!=n}));return hc(e,r),zc(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:V(this.b,(function(t){return t.w()}))}}},fc.prototype.start=function(){this.a=this.c,pc(this,!0)},fc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dc.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dc.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ee(new k("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?mc(this,{grant_type:"refresh_token",refresh_token:this.a}):Se(null):Se({accessToken:this.b.toString(),refreshToken:this.a})},yc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(bc,bn),bc.prototype.xa=function(t){this.za=t,rs(this.a,t)},bc.prototype.la=function(){return this.za},bc.prototype.Ga=function(){return Y(this.aa)},bc.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Yr(bc.prototype,"providerId","firebase"),(t=bc.prototype).reload=function(){var t=this;return Gc(this,Rc(this).then((function(){return Fc(t).then((function(){return qc(t)})).then(Oc)})))},t.oc=function(t){return this.I(t).then((function(t){return new tc(t)}))},t.I=function(t){var e=this;return Gc(this,Rc(this).then((function(){return e.h.getToken(t)})).then((function(t){if(!t)throw new k("internal-error");return t.accessToken!=e.Aa&&(Nc(e,t.accessToken),e.dispatchEvent(new lc("tokenChanged"))),Lc(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new k("internal-error");Pc(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?V(t,(function(t){return new wc(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)$c(this,e[n]);Lc(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new lc("userReloaded",{hd:t}))},t.Lc=function(t){return Kr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Gc(this,t.c(this.a,this.uid).then((function(t){return zc(e,t),n=Vc(e,t,"reauthenticate"),e.i=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Kr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Gc(this,Uc(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Vc(e,t,"link"),Wc(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Gc(this,Uc(this,"phone").then((function(){return Zl(Tc(n),t,e,w(n.rb,n))})))},t.Mc=function(t,e){var n=this;return Gc(this,Se().then((function(){return Zl(Tc(n),t,e,w(n.ub,n))})),!0)},t.Cb=function(t){var e=this;return Gc(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return zc(e,t),e.reload()})))},t.ed=function(t){var e=this;return Gc(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return zc(e,t),e.reload()})))},t.Db=function(t){var e=this;return Gc(this,this.I().then((function(n){return e.a.Db(n,t)})).then((function(t){return zc(e,t),e.reload()})))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Rc(this);var e=this;return Gc(this,this.I().then((function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return zc(e,t),Lc(e,"displayName",t.displayName||null),Lc(e,"photoURL",t.photoUrl||null),z(e.providerData,(function(t){"password"===t.providerId&&(Yr(t,"displayName",e.displayName),Yr(t,"photoURL",e.photoURL))})),qc(e)})).then(Oc))},t.cd=function(t){var e=this;return Gc(this,Fc(this).then((function(n){return B(jc(e),t)?function(t,e,n){return ru(t,Ns,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return z(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),z(jc(e),(function(t){n[t]||Dc(e,t)})),n[$o.PROVIDER_ID]||Yr(e,"phoneNumber",null),qc(e)})):qc(e).then((function(){throw new k("no-such-provider")}))})))},t.delete=function(){var t=this;return Gc(this,this.I().then((function(e){return ru(t.a,Es,{idToken:e})})).then((function(){t.dispatchEvent(new lc("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");xc(t,null),kc(t,null),Cc(t,null),t.N=[],t.J=!0,Ec(t),Yr(t,"refreshToken",null),t.b&&jl(t.b,t)}))},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?w(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?w(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Mb,this):null},t.Ec=function(t){var e=this;return Bc(this,"linkViaPopup",t,(function(){return Uc(e,t.providerId).then((function(){return qc(e)}))}),!1)},t.Nc=function(t){return Bc(this,"reauthViaPopup",t,(function(){return Se()}),!0)},t.Fc=function(t){var e=this;return Hc(this,"linkViaRedirect",t,(function(){return Uc(e,t.providerId)}),!1)},t.Oc=function(t){return Hc(this,"reauthViaRedirect",t,(function(){return Se()}),!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gc(this,this.I().then((function(n){return _s(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Vc(i,t,"link"),Wc(i,t)})).then((function(){return o})))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gc(this,Se().then((function(){return lo(xs(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Vc(i,t,"reauthenticate"),zc(i,t),i.i=null,i.reload()})).then((function(){return o})),!0)},t.vb=function(t){var e=this,n=null;return Gc(this,this.I().then((function(e){return n=e,void 0===t||ht(t)?{}:Mi(new Ni(t))})).then((function(t){return e.a.vb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Fb=function(t,e){var n=this,r=null;return Gc(this,this.I().then((function(t){return r=t,void 0===e||ht(e)?{}:Mi(new Ni(e))})).then((function(e){return n.a.Fb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Gc(this,t=lo(Se(t),n.uid).then((function(t){return e=Vc(n,t,"reauthenticate"),zc(n,t),n.i=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&dt(t,this.metadata.w()),z(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),dt(t,this.S.w()),t};var Jc={name:"redirectUser",F:"session"};function Qc(t){return il(t.b,Jc,t.a)}function Zc(t){this.a=t,this.b=el(),this.c=null,this.f=function(t){var e=nh("local"),n=nh("session"),r=nh("none");return function(t,e,n){var r=rl(e,n),i=nl(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Dr(a.localStorage.getItem(r))}catch(t){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(eh,t.a).then((function(t){return t?nh(t):e}))}))}))})).then((function(e){return t.c=e,th(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(nh("local"),this.a,w(this.g,this))}function th(t,e){var n,r=[];for(n in Zu)Zu[n]!==e&&r.push(il(t.b,nh(Zu[n]),t.a));return r.push(il(t.b,eh,t.a)),function(t){return new we((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Ne(t[s],b(o,s),a);else e(i)}))}(r)}Zc.prototype.g=function(){var t=this,e=nh("local");ah(this,(function(){return Se().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return th(t,"local").then((function(){t.c=e}))}))}))};var eh={name:"persistence",F:"session"};function nh(t){return{name:"authUser",F:t}}function rh(t,e){return ah(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function ih(t){return ah(t,(function(){return il(t.b,t.c,t.a)}))}function oh(t,e,n){return ah(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Yc(t||{})}))}))}function ah(t,e){return t.f=t.f.then(e,e),t.f}function sh(t){if(this.l=!1,Yr(this,"settings",new Jl),Yr(this,"app",t),!gh(this).options||!gh(this).options.apiKey)throw new k("invalid-api-key");t=Ce.SDK_VERSION?Sr(Ce.SDK_VERSION):null,this.a=new Xa(gh(this).options&&gh(this).options.apiKey,N(C),t),this.P=[],this.s=[],this.N=[],this.Pa=Ce.INTERNAL.createSubscribe(w(this.zc,this)),this.W=void 0,this.ib=Ce.INTERNAL.createSubscribe(w(this.Ac,this)),dh(this,null),this.i=new Zc(gh(this).options.apiKey+":"+gh(this).name),this.D=new Xc(gh(this).options.apiKey+":"+gh(this).name),this.$=bh(this,function(t){var e=gh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Jc,t.a).then((function(t){return t&&e&&(t.authDomain=e),Yc(t||{})}))}(t.D,gh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Qc(t.D)}));return bh(t,e)}(t).then((function(){return oh(t.i,e,t.R)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return rh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:ih(t.i)}))):null})).then((function(e){dh(t,e||null)}));return bh(t,n)}(this)),this.h=bh(this,function(t){return t.$.then((function(){return fh(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(nh("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.qa=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(t){var e=gh(t).options.authDomain,n=gh(t).options.apiKey;e&&Ar()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Wl(e,n,gh(t).name,t.R),Rl(t.b,t),mh(t)&&Ac(mh(t)),t.m){Ac(t.m);var r=t.m;r.xa(t.la()),xc(r,t),Ic(r=t.m,t.J),Cc(r,t),_c(r=t.m,t.R),kc(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,bn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=Ln(this.R.url);t=Jr({protocol:t.c,host:t.a,port:t.g,options:Jr({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function uh(t){Ye.call(this,"languageCodeChanged"),this.h=t}function lh(t){Ye.call(this,"emulatorConfigChanged"),this.c=t}function ch(t){Ye.call(this,"frameworkChanged"),this.f=t}function hh(t){return t.Oa||Ee(new k("auth-domain-config-required"))}function fh(t){if(!Ar())return Ee(new k("operation-not-supported-in-this-environment"));var e=hh(t).then((function(){return t.b.ra()})).then((function(t){return t?Jr(t):null}));return bh(t,e)}function ph(t,e){var n={};return n.apiKey=gh(t).options.apiKey,n.authDomain=gh(t).options.authDomain,n.appName=gh(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then((function(){return function(t,e,n,r){var i=new bc(t,e);return n&&(i.ha=n),r&&Ic(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return mh(t)&&e.uid==mh(t).uid?(Mc(mh(t),e),t.da(e)):(dh(t,e),Ac(e),t.da(e))})).then((function(){wh(t)}))}function dh(t,e){mh(t)&&(function(t,e){K(t.W,(function(t){return t==e}))}(mh(t),t.Ba),hn(mh(t),"tokenChanged",t.qa),hn(mh(t),"userDeleted",t.za),hn(mh(t),"userInvalidated",t.Aa),Ec(mh(t))),e&&(e.W.push(t.Ba),un(e,"tokenChanged",t.qa),un(e,"userDeleted",t.za),un(e,"userInvalidated",t.Aa),0<t.u&&Sc(e)),Yr(t,"currentUser",e),e&&(e.xa(t.la()),xc(e,t),Ic(e,t.J),Cc(e,t),_c(e,t.R),kc(e,t))}function vh(t,e){var n=null,r=null;return bh(t,e.then((function(e){return n=Lo(e),r=Yi(e),ph(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=oc(e.w(),t,w(t.kc,t))),n||e})).then((function(){return Jr({user:mh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function gh(t){return t.app}function mh(t){return t.currentUser}function yh(t){return mh(t)&&mh(t)._lat||null}function wh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](yh(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](yh(t))}}function bh(t,e){return t.P.push(e),e.oa((function(){H(t.P,e)})),e}function _h(){}function xh(){this.a={},this.b=1e12}Zc.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new k("invalid-persistence-type"),n=new k("unsupported-persistence-type");t:{for(r in Zu)if(Zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(_r()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Pu()&&"none"!==t)throw n;break;default:if(!qr()&&"none"!==t)throw n}}(t),ah(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,th(n,t)})).then((function(){if(n.c=nh(t),e)return n.b.set(n.c,e,n.a)})):Se()}))},_(sh,bn),_(uh,Ye),_(lh,Ye),_(ch,Ye),(t=sh.prototype).yb=function(t){return bh(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,rs(this.a,this.aa),this.dispatchEvent(new uh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&mr().then((function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,is(this.a,this.R),this.dispatchEvent(new lh(this.R))}},t.Gc=function(t){this.J.push(t),as(this.a,Ce.SDK_VERSION?Sr(Ce.SDK_VERSION,this.J):null),this.dispatchEvent(new ch(this.J))},t.Ga=function(){return Y(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:gh(this).options.apiKey,authDomain:gh(this).options.authDomain,appName:gh(this).name,currentUser:mh(this)&&mh(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?w(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return vh(i,bs(i.a,o))}))},t.Xc=function(t){if(!Ar())return Ee(new k("operation-not-supported-in-this-environment"));var e=this,n=Gi(t.providerId),r=Lr(),i=null;(!Rr()||wr())&&gh(this).options.authDomain&&t.isOAuthProvider&&(i=yu(gh(this).options.authDomain,gh(this).options.apiKey,gh(this).name,"signInViaPopup",t,null,r,Ce.SDK_VERSION||null,null,null,this.T(),this.R));var o=dr(i,n&&n.va,n&&n.ua);return bh(this,n=hh(this).then((function(n){return Ll(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new we((function(t,n){e.na("signInViaPopup",null,new k("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=zl(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&pr(o),t?Jr(t):null})).o((function(t){throw o&&pr(o),t})))},t.Yc=function(t){if(!Ar())return Ee(new k("operation-not-supported-in-this-environment"));var e=this;return bh(this,hh(this).then((function(){return function(t){return ah(t,(function(){return t.b.set(eh,t.c.F,t.a)}))}(e.i)})).then((function(){return Fl(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.ra=function(){var t=this;return fh(this).then((function(e){return t.b&&Kl(t.b.b),e})).o((function(e){throw t.b&&Kl(t.b.b),e}))},t.dd=function(t){if(!t)return Ee(new k("null-user"));if(this.S!=t.tenantId)return Ee(new k("tenant-id-mismatch"));var e=this,n={};n.apiKey=gh(this).options.apiKey,n.authDomain=gh(this).options.authDomain,n.appName=gh(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[Qa]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new bc(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Ic(e,r),Mc(e,t),e}(t,n,e.D,e.Ga());return bh(this,this.h.then((function(){if(gh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return mh(e)&&t.uid==mh(e).uid?(Mc(mh(e),t),e.da(t)):(dh(e,r),Ac(r),e.da(r))})).then((function(){wh(e)})))},t.Bb=function(){var t=this;return bh(this,this.h.then((function(){return t.b&&Kl(t.b.b),mh(t)?(dh(t,null),ih(t.i).then((function(){wh(t)}))):Se()})))},t.Zc=function(){var t=this;return oh(this.i,gh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=mh(t)&&e){n=mh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Mc(mh(t),e),mh(t).I();(mh(t)||e)&&(dh(t,e),e&&(Ac(e),e.ha=t.D),t.b&&Rl(t.b,t),wh(t))}}))},t.da=function(t){return rh(this.i,t)},t.mc=function(){wh(this),this.da(mh(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then((function(){return vh(e,Se(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(mh(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),bh(t,t.h.then((function(){!t.l&&B(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(yh(t)))})))}(this,(function(){t.next(mh(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(mh(r)):"function"==typeof t.next&&t.next(mh(r))})),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof t?t(mh(r)):"function"==typeof t.next&&t.next(mh(r))})),this.ib(t,e,n)},t.nc=function(t){var e=this;return bh(this,this.h.then((function(){return mh(e)?mh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return vh(e,ru(e.a,Js,{token:t}))})).then((function(t){var n=t.user;return Lc(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return vh(n,ru(n.a,Qs,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return vh(n,ru(n.a,Ts,{email:t,password:e}))}))},t.ab=function(t){var e=this;return this.h.then((function(){return vh(e,t.ka(e.a))}))},t.Sc=function(t){return Kr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then((function(){var e=mh(t);if(e&&e.isAnonymous){var n=Jr({providerId:null,isNewUser:!1});return Jr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return vh(t,t.a.Ab()).then((function(e){var n=e.user;return Lc(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return mh(this)&&mh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&mh(this)&&Sc(mh(this))},t.Pc=function(t){var e=this;z(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&mh(this)&&Ec(mh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),bh(this,this.h.then((function(){e.l||B(e.s,t)&&t(yh(e))})))},t.removeAuthTokenListener=function(t){K(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(nh("local"),t.a,this.ja),this.b&&(jl(this.b,this),Kl(this.b.b)),Promise.resolve()},t.hc=function(t){return bh(this,function(t,e){return ru(t,Ss,{identifier:e,continueUri:Pr()?lr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!Po(t)},t.xb=function(t,e){var n=this;return bh(this,Se().then((function(){var t=new Ni(e);if(!t.c)throw new k("argument-error",Pi+" must be true when sending sign in link to email");return Mi(t)})).then((function(e){return n.a.xb(t,e)})).then((function(){})))},t.jd=function(t){return this.Sa(t).then((function(t){return t.data.email}))},t.ob=function(t,e){return bh(this,this.a.ob(t,e).then((function(){})))},t.Sa=function(t){return bh(this,this.a.Sa(t).then((function(t){return new ai(t)})))},t.kb=function(t){return bh(this,this.a.kb(t).then((function(){})))},t.wb=function(t,e){var n=this;return bh(this,Se().then((function(){return void 0===e||ht(e)?{}:Mi(new Ni(e))})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.Wc=function(t,e){return bh(this,Zl(this,t,e,w(this.ab,this)))},t.Vc=function(t,e){var n=this;return bh(this,Se().then((function(){var r=e||lr(),i=Ao(t,r);if(!(r=Po(r)))throw new k("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new k("tenant-id-mismatch");return n.ab(i)})))},_h.prototype.render=function(){},_h.prototype.reset=function(){},_h.prototype.getResponse=function(){},_h.prototype.execute=function(){};var kh=null;function Ih(t,e){return(e=Ch(e))&&t.a[e]||null}function Ch(t){return(t=void 0===t?1e12:t)?t.toString():null}function Th(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=se(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():un(this.f,"click",this.i)}function Sh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Eh(){}function Nh(){}xh.prototype.render=function(t,e){return this.a[this.b.toString()]=new Th(t,e),this.b++},xh.prototype.reset=function(t){var e=Ih(this,t);t=Ch(t),e&&t&&(e.delete(),delete this.a[t])},xh.prototype.getResponse=function(t){return(t=Ih(this,t))?t.getResponse():null},xh.prototype.execute=function(t){(t=Ih(this,t))&&t.execute()},Th.prototype.getResponse=function(){return Sh(this),this.b},Th.prototype.execute=function(){Sh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},Th.prototype.delete=function(){Sh(this),this.g=!0,clearTimeout(this.a),this.a=null,hn(this.f,"click",this.i)},Yr(Eh,"FACTOR_ID","phone"),Nh.prototype.g=function(){return kh||(kh=new xh),Se(kh)},Nh.prototype.c=function(){};var qh=null;function Ah(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ph=new gt(bt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Oh=new zr(3e4,6e4);Ah.prototype.g=function(t){var e=this;return new we((function(n,r){var i=setTimeout((function(){r(new k("network-request-failed"))}),Oh.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new k("internal-error"));delete a[e.a]},Se(Va(It(Ph,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},Ah.prototype.c=function(){this.b--};var Rh=null;function jh(t,e,n,r,i,o,s){if(Yr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,s?(qh||(qh=new Nh),s=qh):(Rh||(Rh=new Ah),s=Rh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Lh])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Mh],!a.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!se(e)||!this.i&&se(e).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Xa(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var l=this.a[$h];this.a[$h]=function(t){if(Fh(u,t),"function"==typeof l)l(t);else if("string"==typeof l){var e=Nr(l,a);"function"==typeof e&&e(t)}};var c=this.a[Dh];this.a[Dh]=function(){if(Fh(u,null),"function"==typeof c)c();else if("string"==typeof c){var t=Nr(c,a);"function"==typeof t&&t()}}}var $h="callback",Dh="expired-callback",Lh="sitekey",Mh="size";function Fh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function zh(t,e){return t.h.push(e),e.oa((function(){H(t.h,e)})),e}function Uh(t){if(t.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}function Vh(t,e,n){var r=!1;try{this.b=n||Ce.app()}catch(t){throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new k("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Ce.SDK_VERSION?Sr(Ce.SDK_VERSION,o):null,jh.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,N(C),r)}function Wh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Bh.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");n=Bh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new k("argument-error",t+" failed: "+r)}(t=jh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=zh(this,Se().then((function(){if(Pr()&&!br())return mr();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,ru(t.s,Fs,{})})).then((function(e){t.a[Lh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Uh(this);var t=this;return zh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=se(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ae&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',zt(a.name),'"'),a.type){o.push(' type="',zt(a.type),'"');var s={};dt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=pe(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ue(o,a)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Uh(this);var t=this;return zh(this,this.render().then((function(e){return new we((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){K(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Uh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Uh(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=se(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},_(Vh,jh);var Bh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Hh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Kh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Gh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:d}}function Yh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Xh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Jh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Qh(t,e){return d(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Zh(t){return d(t)&&"string"==typeof t.uid}function tf(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function ef(t,e){for(var n in e){var r=e[n].name;t[r]=of(r,t[n],e[n].j)}}function nf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:b((function(t){return this[t]}),n),set:b((function(t,e,n,r){Wh(t,[n],[r],!0),this[e]=r}),r,n,e[n].lb),enumerable:!0})}}function rf(t,e,n,r){t[e]=of(e,n,r)}function of(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Wh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}ef(sh.prototype,{kb:{name:"applyActionCode",j:[Hh("code")]},Sa:{name:"checkActionCode",j:[Hh("code")]},ob:{name:"confirmPasswordReset",j:[Hh("code"),Hh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Hh("email"),Hh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Hh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Hh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[tf(Gh(),Yh(),"nextOrObserver"),Yh("opt_error",!0),Yh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[tf(Gh(),Yh(),"nextOrObserver"),Yh("opt_error",!0),Yh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Hh("email"),tf(Gh("opt_actionCodeSettings",!0),Xh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Hh("email"),Gh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Hh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Jh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Jh()]},Tc:{name:"signInWithCustomToken",j:[Hh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Hh("email"),Hh("password")]},Vc:{name:"signInWithEmailLink",j:[Hh("email"),Hh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Hh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[tf({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof bc)}},Xh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Hh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Hh("url"),Gh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Hh("code")]}}),nf(sh.prototype,{lc:{name:"languageCode",lb:tf(Hh(),Xh(),"languageCode")},ti:{name:"tenantId",lb:tf(Hh(),Xh(),"tenantId")}}),sh.Persistence=Zu,sh.Persistence.LOCAL="local",sh.Persistence.SESSION="session",sh.Persistence.NONE="none",ef(bc.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Kh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Kh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Jh()]},rb:{name:"linkWithCredential",j:[Jh()]},Dc:{name:"linkWithPhoneNumber",j:[Hh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Jh()]},ub:{name:"reauthenticateWithCredential",j:[Jh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Hh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[tf(Gh("opt_actionCodeSettings",!0),Xh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Hh(null,!0)]},cd:{name:"unlink",j:[Hh("provider")]},Cb:{name:"updateEmail",j:[Hh("email")]},Db:{name:"updatePassword",j:[Hh("password")]},ed:{name:"updatePhoneNumber",j:[Jh("phone")]},Eb:{name:"updateProfile",j:[Gh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Hh("email"),tf(Gh("opt_actionCodeSettings",!0),Xh(null,!0),"opt_actionCodeSettings",!0)]}}),ef(xh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ef(_h.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ef(we.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),nf(Jl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Kh("appVerificationDisabledForTesting")}}),ef(Ql.prototype,{confirm:{name:"confirm",j:[Hh("verificationCode")]}}),rf(uo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[go,No,Ro,fo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[tf(Hh(),Gh(),"json")]),rf(qo,"credential",(function(t,e){return new Eo(t,e)}),[Hh("email"),Hh("password")]),ef(Eo.prototype,{w:{name:"toJSON",j:[Hh(null,!0)]}}),ef(bo.prototype,{Ca:{name:"addScope",j:[Hh("scope")]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),rf(bo,"credential",_o,[tf(Hh(),Gh(),"token")]),rf(qo,"credentialWithLink",Ao,[Hh("email"),Hh("emailLink")]),ef(xo.prototype,{Ca:{name:"addScope",j:[Hh("scope")]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),rf(xo,"credential",ko,[tf(Hh(),Gh(),"token")]),ef(Io.prototype,{Ca:{name:"addScope",j:[Hh("scope")]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),rf(Io,"credential",Co,[tf(Hh(),tf(Gh(),Xh()),"idToken"),tf(Hh(),Xh(),"accessToken",!0)]),ef(To.prototype,{Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),rf(To,"credential",So,[tf(Hh(),Gh(),"token"),Hh("secret",!0)]),ef(wo.prototype,{Ca:{name:"addScope",j:[Hh("scope")]},credential:{name:"credential",j:[tf(Hh(),tf(Gh(),Xh()),"optionsOrIdToken"),tf(Hh(),Xh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),ef(po.prototype,{w:{name:"toJSON",j:[Hh(null,!0)]}}),ef(co.prototype,{w:{name:"toJSON",j:[Hh(null,!0)]}}),rf($o,"credential",Do,[Hh("verificationId"),Hh("verificationCode")]),ef($o.prototype,{gb:{name:"verifyPhoneNumber",j:[tf(Hh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Qh(t.session,ao)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Qh(t.session,so)&&Zh(t.multiFactorHint):t.session&&t.multiFactorUid?Qh(t.session,so)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),ef(Oo.prototype,{w:{name:"toJSON",j:[Hh(null,!0)]}}),ef(k.prototype,{toJSON:{name:"toJSON",j:[Hh(null,!0)]}}),ef(Ho.prototype,{toJSON:{name:"toJSON",j:[Hh(null,!0)]}}),ef(Bo.prototype,{toJSON:{name:"toJSON",j:[Hh(null,!0)]}}),ef(ic.prototype,{toJSON:{name:"toJSON",j:[Hh(null,!0)]}}),ef(ec.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),ef(cc.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},Hh("displayName",!0)]},bd:{name:"unenroll",j:[tf({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Zh},Hh(),"multiFactorInfoIdentifier")]}}),ef(Vh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),rf(bi,"parseLink",Ei,[Hh("link")]),rf(Eh,"assertion",(function(t){return new uc(t)}),[Jh("phone")]),function(){if(void 0===Ce||!Ce.INTERNAL||!Ce.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ui,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:si,VERIFY_AND_CHANGE_EMAIL:li,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:sh,AuthCredential:uo,Error:k};rf(t,"EmailAuthProvider",qo,[]),rf(t,"FacebookAuthProvider",bo,[]),rf(t,"GithubAuthProvider",xo,[]),rf(t,"GoogleAuthProvider",Io,[]),rf(t,"TwitterAuthProvider",To,[]),rf(t,"OAuthProvider",wo,[Hh("providerId")]),rf(t,"SAMLAuthProvider",yo,[Hh("providerId")]),rf(t,"PhoneAuthProvider",$o,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof sh)}}]),rf(t,"RecaptchaVerifier",Vh,[tf(Hh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Gh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Ce.app.App)}}]),rf(t,"ActionCodeURL",bi,[]),rf(t,"PhoneMultiFactorGenerator",Eh,[]),Ce.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new sh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),Ce.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.nc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ce.registerVersion("@firebase/auth","0.16.8"),Ce.INTERNAL.extendNamespace({User:bc})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const Se=[];function Ee(e,n=t){let r;const i=new Set;function o(t){if(a(e,t)&&(e=t,r)){const t=!Se.length;for(const t of i)t[1](),Se.push(t,e);if(t){for(let t=0;t<Se.length;t+=2)Se[t][0](Se[t+1]);Se.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(a,s=t){const u=[a,s];return i.add(u),1===i.size&&(r=n(o)||t),a(e),()=>{i.delete(u),0===i.size&&(r(),r=null)}}}}const Ne=()=>{const t=Ce.auth();return{authStore:{subscribe:Ee({user:null,loading:!0},(e=>t.onAuthStateChanged((async t=>{e(t?{user:t,loading:!1}:{user:null,loading:!1})})))).subscribe},loginWithGoogle:()=>{const e=new Ce.auth.GoogleAuthProvider;return t.signInWithPopup(e).then((async({user:t,additionalUserInfo:e})=>{if(t&&e.isNewUser){const e=Ce.database().ref(`users/info/${t.uid}`);await e.set({name:t.displayName.split(" ")[0],photo:t.photoURL}),await t.updateProfile({displayName:t.displayName.split(" ")[0]})}}))},logout:()=>t.signOut()}};var qe="";function Ae(t){qe=t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Pe,Oe=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),jt(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Rt(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),Re=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Dt(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),je=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Oe(e)}}catch(t){}return new Re},$e=je("localStorage"),De=je("sessionStorage"),Le=new ce("@firebase/database"),Me=(Pe=1,function(){return Pe++}),Fe=function(t){var e=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,wt(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new zt;n.update(e);var r=n.digest();return xt.encodeByteArray(r)},ze=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=ze.apply(null,i):n+="object"==typeof i?jt(i):i,n+=" "}return n},Ue=null,Ve=!0,We=function(t,e){wt(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Le.logLevel=re.VERBOSE,Ue=Le.log.bind(Le),e&&De.set("logging_enabled",!0)):"function"==typeof t?Ue=t:(Ue=null,De.remove("logging_enabled"))},Be=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===Ve&&(Ve=!1,null===Ue&&!0===De.get("logging_enabled")&&We(!0)),Ue){var n=ze.apply(null,t);Ue(n)}},He=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Be.apply(void 0,gt([t],vt(e)))}},Ke=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+ze.apply(void 0,gt([],vt(t)));Le.error(n)},Ge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+ze.apply(void 0,gt([],vt(t)));throw Le.error(n),new Error(n)},Ye=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+ze.apply(void 0,gt([],vt(t)));Le.warn(n)},Xe=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Je="[MIN_NAME]",Qe="[MAX_NAME]",Ze=function(t,e){if(t===e)return 0;if(t===Je||e===Qe)return-1;if(e===Je||t===Qe)return 1;var n=cn(t),r=cn(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},tn=function(t,e){return t===e?0:t<e?-1:1},en=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+jt(e))},nn=function(t){if("object"!=typeof t||null===t)return jt(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=jt(e[i]),r+=":",r+=nn(t[e[i]]);return r+="}"},rn=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function on(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var an=function(t){wt(!Xe(t),"Invalid JSON number");var e,n,r,i,o,a=1023;0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),a))+a,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var u=s.join(""),l="";for(o=0;o<64;o+=8){var c=parseInt(u.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var sn=new RegExp("^-?(0*)\\d{1,10}$"),un=-2147483648,ln=2147483647,cn=function(t){if(sn.test(t)){var e=Number(t);if(e>=un&&e<=ln)return e}return null},hn=function(t){try{t()}catch(t){setTimeout((function(){var e=t.stack||"";throw Ye("Exception was thrown by user callback.",e),t}),Math.floor(0))}},fn=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},pn=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then((function(t){return n.appCheck=t}))}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise((function(n,r){setTimeout((function(){e.appCheck?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then((function(e){return e.addTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){Ye('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),dn=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(t){return r.auth_=t}))}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(Be("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):new Promise((function(n,r){setTimeout((function(){e.auth_?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ye(t)},t}(),vn=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),gn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mn="websocket",yn="long_polling",wn=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$e.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&$e.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){var t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+e},t}();function bn(t,e,n){var r;if(wt("string"==typeof e,"typeof type must == string"),wt("object"==typeof n,"typeof params must == object"),e===mn)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==yn)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var i=[];return on(n,(function(t,e){i.push(t+"="+e)})),r+i.join("&")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var _n=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Dt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return It(this.counters_)},t}(),xn={},kn={};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function In(t){var e=t.toString();return xn[e]||(xn[e]=new _n),xn[e]}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Cn=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&hn((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},t}(),Tn="start",Sn="close",En=function(){function t(t,e,n,r,i,o,a){var s=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=He(t),this.stats_=In(e),this.urlFn=function(t){return s.appCheckToken&&(t.ac=s.appCheckToken),bn(e,yn,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Cn(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Nn((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=vt(t,5),i=r[0],o=r[1],a=r[2];if(r[3],r[4],n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Tn)n.id=o,n.password=a;else{if(i!==Sn)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=vt(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&gn.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!!t.forceAllow_||!(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=jt(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n,r=(n=_t(e),xt.encodeByteArray(n,!0)),i=rn(r,1840),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.prototype.incrementIncomingBytes_=function(t){var e=jt(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Nn=function(){function t(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=Me(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(t){Be("frame writing exception"),t.stack&&Be(t.stack),Be(t)}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Be("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){Be("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}}),Math.floor(1))},t}(),qn=null;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */"undefined"!=typeof MozWebSocket?qn=MozWebSocket:"undefined"!=typeof WebSocket&&(qn=WebSocket);var An=function(){function t(e,n,r,i,o,a,s){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=He(this.connId),this.stats_=In(n),this.connURL=t.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,r){var i={v:"5"};return"undefined"!=typeof location&&location.hostname&&gn.test(location.hostname)&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),r&&(i.ac=r),bn(t,mn,i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$e.set("previous_websocket_failure",!0);try{if(Nt());else{var r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new qn(this.connURL,[],r)}}catch(t){this.log_("Error instantiating WebSocket.");var i=t.message||t.data;return i&&this.log_(i),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==qn&&!t.forceDisallow_},t.previouslyFailed=function(){return $e.isInMemoryStorage||!0===$e.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){$e.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Rt(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(wt(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=jt(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=rn(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Pn=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[En,An]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=An&&An.isAvailable(),o=i&&!An.previouslyFailed();if(e.webSocketOnly&&(i||Ye("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[An];else{var a=this.transports_=[];try{for(var s=dt(t.ALL_TRANSPORTS),u=s.next();!u.done;u=s.next()){var l=u.value;l&&l.isAvailable()&&a.push(l)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),On=function(){function t(t,e,n,r,i,o,a,s,u,l){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=He("c:"+this.id+":"),this.transportManager_=new Pn(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=fn((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=en("t",t),n=en("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=en("t",t),n=en("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=en("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?Ke("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ke("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&Ye("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),fn((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fn((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($e.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Rn=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),jn=function(){function t(t){this.allowedEvents_=t,this.listeners_={},wt(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=gt([],vt(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){wt(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),$n=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||St()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return ct(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return wt("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(jn),Dn=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ln(){return new Dn("")}function Mn(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Fn(t){return t.pieces_.length-t.pieceNum_}function zn(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new Dn(t.pieces_,e)}function Un(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Vn(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function Wn(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Dn(e,0)}function Bn(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Dn)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Dn(n,0)}function Hn(t){return t.pieceNum_>=t.pieces_.length}function Kn(t,e){var n=Mn(t),r=Mn(e);if(null===n)return e;if(n===r)return Kn(zn(t),zn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Gn(t,e){for(var n=Vn(t,0),r=Vn(e,0),i=0;i<n.length&&i<r.length;i++){var o=Ze(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Yn(t,e){if(Fn(t)!==Fn(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Xn(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(Fn(t)>Fn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Jn=function(t,e){this.errorPrefix_=e,this.parts_=Vn(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Yt(this.parts_[n]);Qn(this)};function Qn(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Zn(t))}function Zn(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var tr,er,nr=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return ct(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return wt("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(jn),rr=1e3,ir=function(t){function e(n,r,i,o,a,s,u,l){var c=t.call(this)||this;if(c.repoInfo_=n,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=o,c.onServerInfoUpdate_=a,c.authTokenProvider_=s,c.appCheckTokenProvider_=u,c.authOverride_=l,c.id=e.nextPersistentConnectionId_++,c.log_=He("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=rr,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!Nt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return nr.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&$n.getInstance().on("online",c.onOnline_,c),c}return ct(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(jt(i)),wt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new Tt,r={p:t._path.toString(),q:t._queryObject},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[o];void 0!==t&&i===t&&(delete e.outstandingGets_[o],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(o),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var i=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),wt(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),wt(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Dt(t,"w")){var n=Lt(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',i=e._path.toString();Ye("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){var e;(t&&40===t.length||"object"==typeof(e=$t(t).claims)&&!0===e.admin)&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},e.prototype.tryAuth=function(){var t,e=this;if(this.connected_&&this.authToken_){var n=this.authToken_,r=(t=$t(n).claims)&&"object"==typeof t&&t.hasOwnProperty("iat")?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,(function(t){var r=t.s,i=t.d||"error";e.authToken_===n&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(e){var n=e.s,r=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)}))},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),wt(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+jt(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):Ke("Unrecognized action received from server: "+jt(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;wt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=rr,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=rr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=rr),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return ft(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,l,c,h,f,p,d,v=this;return pt(this,(function(g){switch(g.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this.lastSessionId,a=!1,s=null,u=function(){s?s.close():(a=!0,r())},l=function(t){wt(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(t)},this.realtime_={close:u,sendRequest:l},c=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,g.label=1;case 1:return g.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)])];case 2:return h=vt.apply(void 0,[g.sent(),2]),f=h[0],p=h[1],a?Be("getToken() completed but was canceled"):(Be("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=p&&p.token,s=new On(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,(function(t){Ye(t+" ("+v.repoInfo_.toString()+")"),v.interrupt("server_kill")}),o)),[3,4];case 3:return d=g.sent(),this.log_("Failed to get token: "+d),a||(this.repoInfo_.nodeAdmin&&Ye(d),u()),[3,4];case 4:return[2]}}))}))},e.prototype.interrupt=function(t){Be("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){Be("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Mt(this.interruptReasons_)&&(this.reconnectDelay_=rr,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return nn(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new Dn(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){Be("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){Be("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=dt(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,dt(a.values())),u=s.next();!u.done;u=s.next()){var l=u.value;this.sendListen_(l)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(c=0;c<this.outstandingGets_.length;c++)this.outstandingGets_[c]&&this.sendGet_(c)},e.prototype.sendConnectStats_=function(){var t={};t["sdk.js."+qe.replace(/\./g,"-")]=1,St()?t["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=$n.getInstance().currentlyOnline();return Mt(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Rn),or=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),ar=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new or(Je,t),r=new or(Je,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return or.MIN},t}(),sr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ct(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return tr},set:function(t){tr=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return Ze(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw bt("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return or.MIN},e.prototype.maxPost=function(){return new or(Qe,tr)},e.prototype.makePost=function(t,e){return wt("string"==typeof t,"KeyIndex indexValue must always be a string."),new or(t,tr)},e.prototype.toString=function(){return".key"},e}(ar),ur=new sr,lr=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),cr=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:fr.EMPTY_NODE,this.right=null!=o?o:fr.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return fr.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return fr.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),hr=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new cr(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),fr=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,cr.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,cr.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new lr(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new lr(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new lr(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new lr(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new hr,t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function pr(t,e){return Ze(t.name,e.name)}function dr(t,e){return Ze(t,e)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var vr,gr,mr,yr=function(t){return"number"==typeof t?"number:"+an(t):"string:"+t},wr=function(t){if(t.isLeafNode()){var e=t.val();wt("string"==typeof e||"number"==typeof e||"object"==typeof e&&Dt(e,".sv"),"Priority must be a string or number.")}else wt(t===er||t.isEmpty(),"priority of unexpected type.");wt(t===er||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},br=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,wt(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),wr(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return vr},set:function(t){vr=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return Hn(e)?this:".priority"===Mn(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=Mn(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(wt(".priority"!==r||1===Fn(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(zn(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+yr(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?an(this.value_):this.value_,this.lazyHash_=Fe(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(wt(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return wt(i>=0,"Unknown leaf type: "+n),wt(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var _r,xr,kr=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ct(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?Ze(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return or.MIN},e.prototype.maxPost=function(){return new or(Qe,new br("[PRIORITY-POST]",mr))},e.prototype.makePost=function(t,e){var n=gr(t);return new or(e,new br("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(ar)),Ir=Math.log(2),Cr=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/Ir,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Tr=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,a,s=r-e;if(0===s)return null;if(1===s)return o=t[e],a=n?n(o):o,new cr(a,o.node,cr.BLACK,null,null);var u=parseInt(s/2,10)+e,l=i(e,u),c=i(u+1,r);return o=t[u],a=n?n(o):o,new cr(a,o.node,cr.BLACK,l,c)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var l=i(o+1,s),c=t[o],h=n?n(c):c;u(new cr(h,c.node,r,null,l))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},l=0;l<e.count;++l){var c=e.nextBitIsOne(),h=Math.pow(2,e.count-(l+1));c?s(h,cr.BLACK):(s(h,cr.BLACK),s(h,cr.RED))}return o}(new Cr(t.length));return new fr(r||e,o)},Sr={},Er=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return wt(Sr&&kr,"ChildrenNode.ts has not been loaded"),_r=_r||new t({".priority":Sr},{".priority":kr})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Lt(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof fr?e:null},t.prototype.hasIndex=function(t){return Dt(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){wt(e!==ur,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,a=n.getIterator(or.Wrap),s=a.getNext();s;)o=o||e.isDefinedOn(s.node),i.push(s),s=a.getNext();r=o?Tr(i,e.getCompare()):Sr;var u=e.toString(),l=ht({},this.indexSet_);l[u]=e;var c=ht({},this.indexes_);return c[u]=r,new t(c,l)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Ft(this.indexes_,(function(t,i){var o=Lt(r.indexSet_,i);if(wt(o,"Missing index implementation for "+i),t===Sr){if(o.isDefinedOn(e.node)){for(var a=[],s=n.getIterator(or.Wrap),u=s.getNext();u;)u.name!==e.name&&a.push(u),u=s.getNext();return a.push(e),Tr(a,o.getCompare())}return Sr}var l=n.get(e.name),c=t;return l&&(c=c.remove(new or(e.name,l))),c.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Ft(this.indexes_,(function(t){if(t===Sr)return t;var r=n.get(e.name);return r?t.remove(new or(e.name,r)):t})),this.indexSet_)},t}(),Nr=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&wr(this.priorityNode_),this.children_.isEmpty()&&wt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return xr||(xr=new t(new fr(dr),null,Er.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||xr},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?xr:e},t.prototype.getChild=function(t){var e=Mn(t);return null===e?this:this.getImmediateChild(e).getChild(zn(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(wt(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new or(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?xr:this.priorityNode_;return new t(i,a,o)},t.prototype.updateChild=function(t,e){var n=Mn(t);if(null===n)return e;wt(".priority"!==Mn(t)||1===Fn(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(zn(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(kr,(function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+yr(this.getPriority().val())+":"),this.forEachChild(kr,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":Fe(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new or(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new or(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new or(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,or.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,or.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===qr?-1:0},t.prototype.withIndex=function(e){if(e===ur||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===ur||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(kr),r=e.getIterator(kr),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===ur?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),qr=new(function(t){function e(){return t.call(this,new fr(dr),Nr.EMPTY_NODE,Er.Default)||this}return ct(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Nr.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Nr));Object.defineProperties(or,{MIN:{value:new or(Je,Nr.EMPTY_NODE)},MAX:{value:new or(Qe,qr)}}),sr.__EMPTY_NODE=Nr.EMPTY_NODE,br.__childrenNodeConstructor=Nr,er=qr,function(t){mr=t}(qr);function Ar(t,e){if(void 0===e&&(e=null),null===t)return Nr.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),wt(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new br(t,Ar(e));if(t instanceof Array){var n=Nr.EMPTY_NODE;return on(t,(function(e,r){if(Dt(t,e)&&"."!==e.substring(0,1)){var i=Ar(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Ar(e))}var r=[],i=!1;if(on(t,(function(t,e){if("."!==t.substring(0,1)){var n=Ar(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new or(t,n)))}})),0===r.length)return Nr.EMPTY_NODE;var o=Tr(r,pr,(function(t){return t.name}),dr);if(i){var a=Tr(r,kr.getCompare());return new Nr(o,Ar(e),new Er({".priority":a},{".priority":kr}))}return new Nr(o,Ar(e),Er.Default)}!function(t){gr=t}(Ar);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Pr,Or,Rr=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,wt(!Hn(e)&&".priority"!==Mn(e),"Can't create PathIndex with empty path or .priority key"),n}return ct(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?Ze(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Ar(t),r=Nr.EMPTY_NODE.updateChild(this.indexPath_,n);return new or(e,r)},e.prototype.maxPost=function(){var t=Nr.EMPTY_NODE.updateChild(this.indexPath_,qr);return new or(Qe,t)},e.prototype.toString=function(){return Vn(this.indexPath_,0).join("/")},e}(ar),jr=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ct(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?Ze(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return or.MIN},e.prototype.maxPost=function(){return or.MAX},e.prototype.makePost=function(t,e){var n=Ar(t);return new or(e,n)},e.prototype.toString=function(){return".value"},e}(ar)),$r="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Dr=(Pr=0,Or=[],function(t){var e,n=t===Pr;Pr=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=$r.charAt(t%64),t=Math.floor(t/64);wt(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===Or[e];e--)Or[e]=0;Or[e]++}else for(e=0;e<12;e++)Or[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=$r.charAt(Or[e]);return wt(20===i.length,"nextPushId: Length should be 20."),i}),Lr=function(t){if("2147483647"===t)return"-";var e=cn(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return Qe;var o=n[i],a=$r.charAt($r.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},Mr=function(t){if("-2147483648"===t)return Je;var e=cn(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=$r.charAt($r.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Fr(t){return{type:"value",snapshotNode:t}}function zr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ur(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Vr(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Wr=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){wt(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(Ur(e,a)):wt(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(zr(e,n)):o.trackChildChange(Vr(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(kr,(function(t,r){e.hasChild(t)||n.trackChildChange(Ur(t,r))})),e.isLeafNode()||e.forEachChild(kr,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(Vr(e,r,i))}else n.trackChildChange(zr(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Nr.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Br=function(){function t(e){this.indexedFilter_=new Wr(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new or(e,n))||(n=Nr.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Nr.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Nr.EMPTY_NODE);var i=this;return e.forEachChild(kr,(function(t,e){i.matches(new or(t,e))||(r=r.updateImmediateChild(t,Nr.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),Hr=function(){function t(t){this.rangedFilter_=new Br(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new or(e,n))||(n=Nr.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Nr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Nr.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Nr.EMPTY_NODE);var s=void 0,u=void 0,l=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();l=function(t,e){return c(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&l(s,a)<=0&&(h=!0),h&&o<this.limit_&&l(a,u)<=0?o++:r=r.updateImmediateChild(a.name,Nr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(t,e){return a(e,t)}}else o=this.index_.getCompare();var s=t;wt(s.numChildren()===this.limit_,"");var u=new or(e,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(u);if(s.hasChild(e)){for(var h=s.getImmediateChild(e),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===e||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:o(f,u);if(c&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(Vr(e,n,h)),s.updateImmediateChild(e,n);null!=i&&i.trackChildChange(Ur(e,h));var d=s.updateImmediateChild(e,Nr.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(zr(f.name,f.node)),d.updateImmediateChild(f.name,f.node)):d}return n.isEmpty()?t:c&&o(l,u)>=0?(null!=i&&(i.trackChildChange(Ur(l.name,l.node)),i.trackChildChange(zr(e,n))),s.updateImmediateChild(e,n).updateImmediateChild(l.name,Nr.EMPTY_NODE)):t},t}(),Kr=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=kr}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return wt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return wt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Je},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return wt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return wt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qe},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return wt(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===kr},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Gr(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Yr(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Xr(t,e){var n=t.copy();return n.index_=e,n}function Jr(t){var e,n={};return t.isDefault()||(t.index_===kr?e="$priority":t.index_===jr?e="$value":t.index_===ur?e="$key":(wt(t.index_ instanceof Rr,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=jt(e),t.startSet_&&(n.startAt=jt(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+jt(t.indexStartName_))),t.endSet_&&(n.endAt=jt(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+jt(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function Qr(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==kr&&(e.i=t.index_.toString()),e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Zr=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=He("p:rest:"),o.listens_={},o}return ct(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(wt(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);var s=e.getListenId_(t,r),u={};this.listens_[s]=u;var l=Jr(t._queryParams);this.restRequest_(a+".json",l,(function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(a,n,!1,r),Lt(o.listens_,s)===u)&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=Jr(t._queryParams),r=t._path.toString(),i=new Tt;return this.restRequest_(r+".json",n,(function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var o=vt(i,2),a=o[0],s=o[1];a&&a.accessToken&&(e.auth=a.accessToken),s&&s.token&&(e.ac=s.token);var u=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}(e);r.log_("Sending REST request for "+u);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(n&&4===l.readyState){r.log_("REST Response for "+u+" received. status:",l.status,"response:",l.responseText);var t=null;if(l.status>=200&&l.status<300){try{t=Rt(l.responseText)}catch(t){Ye("Failed to parse JSON response for "+u+": "+l.responseText)}n(null,t)}else 401!==l.status&&404!==l.status&&Ye("Got unsuccessful REST response for "+u+" Status: "+l.status),n(l.status);n=null}},l.open("GET",u,!0),l.send()}))},e}(Rn),ti=function(){function t(){this.rootNode_=Nr.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function ei(){return{value:null,children:new Map}}function ni(t,e,n){if(Hn(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=Mn(e);t.children.has(r)||t.children.set(r,ei()),ni(t.children.get(r),e=zn(e),n)}}function ri(t,e){if(Hn(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(kr,(function(e,n){ni(t,new Dn(e),n)})),ri(t,e)}if(t.children.size>0){var r=Mn(e);if(e=zn(e),t.children.has(r))ri(t.children.get(r),e)&&t.children.delete(r);return 0===t.children.size}return!0}function ii(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach((function(t,n){e(n,t)}))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,(function(t,r){ii(r,new Dn(e.toString()+"/"+t),n)}))}var oi,ai=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=ht({},t);return this.last_&&on(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),si=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new ai(t);var n=1e4+2e4*Math.random();fn(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;on(e,(function(e,i){i>0&&Dt(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),fn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ui(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(oi||(oi={}));var li,ci=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=oi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(Hn(this.path)){if(null!=this.affectedTree.value)return wt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Dn(e));return new t(Ln(),n,this.revert)}return wt(Mn(this.path)===e,"operationForChild called for unrelated child."),new t(zn(this.path),this.affectedTree,this.revert)},t}(),hi=function(){function t(t,e){this.source=t,this.path=e,this.type=oi.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return Hn(this.path)?new t(this.source,Ln()):new t(this.source,zn(this.path))},t}(),fi=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=oi.OVERWRITE}return t.prototype.operationForChild=function(e){return Hn(this.path)?new t(this.source,Ln(),this.snap.getImmediateChild(e)):new t(this.source,zn(this.path),this.snap)},t}(),pi=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=oi.MERGE}return t.prototype.operationForChild=function(e){if(Hn(this.path)){var n=this.children.subtree(new Dn(e));return n.isEmpty()?null:n.value?new fi(this.source,Ln(),n.value):new t(this.source,Ln(),n)}return wt(Mn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,zn(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),di=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(Hn(t))return this.isFullyInitialized()&&!this.filtered_;var e=Mn(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),vi=function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function gi(t,e,n,r,i,o){var a=r.filter((function(t){return t.type===n}));a.sort((function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw bt("Should only compare child_ events.");var r=new or(e.childName,e.snapshotNode),i=new or(n.childName,n.snapshotNode);return t.index_.compare(r,i)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,e,n)})),a.forEach((function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,o);i.forEach((function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))}))}))}function mi(t,e){return{eventCache:t,serverCache:e}}function yi(t,e,n,r){return mi(new di(e,n,r),t.serverCache)}function wi(t,e,n,r){return mi(t.eventCache,new di(e,n,r))}function bi(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function _i(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var xi=function(){function t(t,e){void 0===e&&(li||(li=new fr(tn)),e=li),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return on(e,(function(t,e){n=n.set(new Dn(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:Ln(),value:this.value};if(Hn(t))return null;var n=Mn(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(zn(t),e);return null!=i?{path:Bn(new Dn(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(Hn(e))return this;var n=Mn(e),r=this.children.get(n);return null!==r?r.subtree(zn(e)):new t(null)},t.prototype.set=function(e,n){if(Hn(e))return new t(n,this.children);var r=Mn(e),i=(this.children.get(r)||new t(null)).set(zn(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(Hn(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=Mn(e),r=this.children.get(n);if(r){var i=r.remove(zn(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(Hn(t))return this.value;var e=Mn(t),n=this.children.get(e);return n?n.get(zn(t)):null},t.prototype.setTree=function(e,n){if(Hn(e))return n;var r=Mn(e),i=(this.children.get(r)||new t(null)).setTree(zn(e),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(Ln(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Bn(t,r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,Ln(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(Hn(t))return null;var i=Mn(t),o=this.children.get(i);return o?o.findOnPath_(zn(t),Bn(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,Ln(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(Hn(e))return this;this.value&&r(n,this.value);var i=Mn(e),o=this.children.get(i);return o?o.foreachOnPath_(zn(e),Bn(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(Ln(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(Bn(t,n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t}(),ki=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new xi(null))},t}();function Ii(t,e,n){if(Hn(e))return new ki(new xi(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=Kn(i,e);return o=o.updateChild(a,n),new ki(t.writeTree_.set(i,o))}var s=new xi(n),u=t.writeTree_.setTree(e,s);return new ki(u)}function Ci(t,e,n){var r=t;return on(n,(function(t,n){r=Ii(r,Bn(e,t),n)})),r}function Ti(t,e){if(Hn(e))return ki.empty();var n=t.writeTree_.setTree(e,new xi(null));return new ki(n)}function Si(t,e){return null!=Ei(t,e)}function Ei(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Kn(n.path,e)):null}function Ni(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(kr,(function(t,n){e.push(new or(t,n))})):t.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new or(t,n.value))})),e}function qi(t,e){if(Hn(e))return t;var n=Ei(t,e);return new ki(null!=n?new xi(n):t.writeTree_.subtree(e))}function Ai(t){return t.writeTree_.isEmpty()}function Pi(t,e){return Oi(Ln(),t.writeTree_,e)}function Oi(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal((function(e,i){".priority"===e?(wt(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Oi(Bn(t,e),i,n)})),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(Bn(t,".priority"),r)),n}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ri(t,e){return Ki(e,t)}function ji(t,e){var n=t.allWrites.findIndex((function(t){return t.writeId===e}));wt(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=t.allWrites.length-1;i&&a>=0;){var s=t.allWrites[a];s.visible&&(a>=n&&$i(s,r.path)?i=!1:Xn(r.path,s.path)&&(o=!0)),a--}if(i){if(o)return function(t){t.visibleWrites=Li(t.allWrites,Di,Ln()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}(t),!0;r.snap?t.visibleWrites=Ti(t.visibleWrites,r.path):on(r.children,(function(e){t.visibleWrites=Ti(t.visibleWrites,Bn(r.path,e))}));return!0}return!1}function $i(t,e){if(t.snap)return Xn(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&Xn(Bn(t.path,n),e))return!0;return!1}function Di(t){return t.visible}function Li(t,e,n){for(var r=ki.empty(),i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,s=void 0;if(o.snap)Xn(n,a)?r=Ii(r,s=Kn(n,a),o.snap):Xn(a,n)&&(s=Kn(a,n),r=Ii(r,Ln(),o.snap.getChild(s)));else{if(!o.children)throw bt("WriteRecord should have .snap or .children");if(Xn(n,a))r=Ci(r,s=Kn(n,a),o.children);else if(Xn(a,n))if(Hn(s=Kn(a,n)))r=Ci(r,Ln(),o.children);else{var u=Lt(o.children,Mn(s));if(u){var l=u.getChild(zn(s));r=Ii(r,Ln(),l)}}}}}return r}function Mi(t,e,n,r,i){if(r||i){var o=qi(t.visibleWrites,e);if(!i&&Ai(o))return n;if(i||null!=n||Si(o,Ln())){return Pi(Li(t.allWrites,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(Xn(t.path,e)||Xn(e,t.path))}),e),n||Nr.EMPTY_NODE)}return null}var a=Ei(t.visibleWrites,e);if(null!=a)return a;var s=qi(t.visibleWrites,e);return Ai(s)?n:null!=n||Si(s,Ln())?Pi(s,n||Nr.EMPTY_NODE):null}function Fi(t,e,n,r){return Mi(t.writeTree,t.treePath,e,n,r)}function zi(t,e){return function(t,e,n){var r=Nr.EMPTY_NODE,i=Ei(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(kr,(function(t,e){r=r.updateImmediateChild(t,e)})),r;if(n){var o=qi(t.visibleWrites,e);return n.forEachChild(kr,(function(t,e){var n=Pi(qi(o,new Dn(t)),e);r=r.updateImmediateChild(t,n)})),Ni(o).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}return Ni(qi(t.visibleWrites,e)).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}(t.writeTree,t.treePath,e)}function Ui(t,e,n,r){return function(t,e,n,r,i){wt(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=Bn(e,n);if(Si(t.visibleWrites,o))return null;var a=qi(t.visibleWrites,o);return Ai(a)?i.getChild(n):Pi(a,i.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function Vi(t,e){return function(t,e){return Ei(t.visibleWrites,e)}(t.writeTree,Bn(t.treePath,e))}function Wi(t,e,n,r,i,o){return function(t,e,n,r,i,o,a){var s,u=qi(t.visibleWrites,e),l=Ei(u,Ln());if(null!=l)s=l;else{if(null==n)return[];s=Pi(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var c=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),p=f.getNext();p&&c.length<i;)0!==h(p,r)&&c.push(p),p=f.getNext();return c}(t.writeTree,t.treePath,e,n,r,i,o)}function Bi(t,e,n){return function(t,e,n,r){var i=Bn(e,n),o=Ei(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Pi(qi(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function Hi(t,e){return Ki(Bn(t.treePath,e),t.writeTree)}function Ki(t,e){return{treePath:t,writeTree:e}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Gi=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;wt("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),wt(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,Vr(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,Ur(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,zr(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw bt("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,Vr(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Yi=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Xi=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new di(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bi(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:_i(this.viewCache_),i=Wi(this.writes_,r,e,1,n,t);return 0===i.length?null:i[0]},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ji(t,e,n,r,i){var o,a,s=new Gi;if(n.type===oi.OVERWRITE){var u=n;u.source.fromUser?o=to(t,e,u.path,u.snap,r,i,s):(wt(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Hn(u.path),o=Zi(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===oi.MERGE){var l=n;l.source.fromUser?o=function(t,e,n,r,i,o,a){var s=e;return r.foreach((function(r,u){var l=Bn(n,r);eo(e,Mn(l))&&(s=to(t,s,l,u,i,o,a))})),r.foreach((function(r,u){var l=Bn(n,r);eo(e,Mn(l))||(s=to(t,s,l,u,i,o,a))})),s}(t,e,l.path,l.children,r,i,s):(wt(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=ro(t,e,l.path,l.children,r,i,a,s))}else if(n.type===oi.ACK_USER_WRITE){var c=n;o=c.revert?function(t,e,n,r,i,o){var a;if(null!=Vi(r,n))return e;var s=new Xi(r,e,i),u=e.eventCache.getNode(),l=void 0;if(Hn(n)||".priority"===Mn(n)){var c=void 0;if(e.serverCache.isFullyInitialized())c=Fi(r,_i(e));else{var h=e.serverCache.getNode();wt(h instanceof Nr,"serverChildren would be complete if leaf node"),c=zi(r,h)}c=c,l=t.filter.updateFullNode(u,c,o)}else{var f=Mn(n),p=Bi(r,f,e.serverCache);null==p&&e.serverCache.isCompleteForChild(f)&&(p=u.getImmediateChild(f)),(l=null!=p?t.filter.updateChild(u,f,p,zn(n),s,o):e.eventCache.getNode().hasChild(f)?t.filter.updateChild(u,f,Nr.EMPTY_NODE,zn(n),s,o):u).isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Fi(r,_i(e))).isLeafNode()&&(l=t.filter.updateFullNode(l,a,o))}return a=e.serverCache.isFullyInitialized()||null!=Vi(r,Ln()),yi(e,l,a,t.filter.filtersNodes())}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,e,c.path,r,i,s):function(t,e,n,r,i,o,a){if(null!=Vi(i,n))return e;var s=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(Hn(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Zi(t,e,n,u.getNode().getChild(n),i,o,s,a);if(Hn(n)){var l=new xi(null);return u.getNode().forEachChild(ur,(function(t,e){l=l.set(new Dn(t),e)})),ro(t,e,n,l,i,o,s,a)}return e}var c=new xi(null);return r.foreach((function(t,e){var r=Bn(n,t);u.isCompleteForPath(r)&&(c=c.set(t,u.getNode().getChild(r)))})),ro(t,e,n,c,i,o,s,a)}(t,e,c.path,c.affectedTree,r,i,s)}else{if(n.type!==oi.LISTEN_COMPLETE)throw bt("Unknown operation type: "+n.type);o=function(t,e,n,r,i){var o=e.serverCache,a=wi(e,o.getNode(),o.isFullyInitialized()||Hn(n),o.isFiltered());return Qi(t,a,n,r,Yi,i)}(t,e,n.path,r,s)}var h=s.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=bi(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Fr(bi(e)))}}(e,o,h),{viewCache:o,changes:h}}function Qi(t,e,n,r,i,o){var a=e.eventCache;if(null!=Vi(r,n))return e;var s=void 0,u=void 0;if(Hn(n))if(wt(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=_i(e),c=zi(r,l instanceof Nr?l:Nr.EMPTY_NODE);s=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{var h=Fi(r,_i(e));s=t.filter.updateFullNode(e.eventCache.getNode(),h,o)}else{var f=Mn(n);if(".priority"===f){wt(1===Fn(n),"Can't have a priority with additional path components");var p=a.getNode(),d=Ui(r,n,p,u=e.serverCache.getNode());s=null!=d?t.filter.updatePriority(p,d):a.getNode()}else{var v=zn(n),g=void 0;if(a.isCompleteForChild(f)){u=e.serverCache.getNode();var m=Ui(r,n,a.getNode(),u);g=null!=m?a.getNode().getImmediateChild(f).updateChild(v,m):a.getNode().getImmediateChild(f)}else g=Bi(r,f,e.serverCache);s=null!=g?t.filter.updateChild(a.getNode(),f,g,v,i,o):a.getNode()}}return yi(e,s,a.isFullyInitialized()||Hn(n),t.filter.filtersNodes())}function Zi(t,e,n,r,i,o,a,s){var u,l=e.serverCache,c=a?t.filter:t.filter.getIndexedFilter();if(Hn(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var h=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),h,null)}else{var f=Mn(n);if(!l.isCompleteForPath(n)&&Fn(n)>1)return e;var p=zn(n),d=l.getNode().getImmediateChild(f).updateChild(p,r);u=".priority"===f?c.updatePriority(l.getNode(),d):c.updateChild(l.getNode(),f,d,p,Yi,null)}var v=wi(e,u,l.isFullyInitialized()||Hn(n),c.filtersNodes());return Qi(t,v,n,i,new Xi(i,v,o),s)}function to(t,e,n,r,i,o,a){var s,u,l=e.eventCache,c=new Xi(i,e,o);if(Hn(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,a),s=yi(e,u,!0,t.filter.filtersNodes());else{var h=Mn(n);if(".priority"===h)u=t.filter.updatePriority(e.eventCache.getNode(),r),s=yi(e,u,l.isFullyInitialized(),l.isFiltered());else{var f=zn(n),p=l.getNode().getImmediateChild(h),d=void 0;if(Hn(f))d=r;else{var v=c.getCompleteChild(h);d=null!=v?".priority"===Un(f)&&v.getChild(Wn(f)).isEmpty()?v:v.updateChild(f,r):Nr.EMPTY_NODE}if(p.equals(d))s=e;else s=yi(e,t.filter.updateChild(l.getNode(),h,d,f,c,a),l.isFullyInitialized(),t.filter.filtersNodes())}}return s}function eo(t,e){return t.eventCache.isCompleteForChild(e)}function no(t,e,n){return n.foreach((function(t,n){e=e.updateChild(t,n)})),e}function ro(t,e,n,r,i,o,a,s){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u,l=e;u=Hn(n)?r:new xi(null).setTree(n,r);var c=e.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=no(0,e.serverCache.getNode().getImmediateChild(n),r);l=Zi(t,l,new Dn(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!u){var h=no(0,e.serverCache.getNode().getImmediateChild(n),r);l=Zi(t,l,new Dn(n),h,i,o,a,s)}})),l}var io,oo=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new Wr(r.getIndex()),o=(n=r).loadsAllData()?new Wr(n.getIndex()):n.hasLimit()?new Hr(n):new Br(n);this.processor_=
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t){return{filter:t}}(o);var a=e.serverCache,s=e.eventCache,u=i.updateFullNode(Nr.EMPTY_NODE,a.getNode(),null),l=o.updateFullNode(Nr.EMPTY_NODE,s.getNode(),null),c=new di(u,a.isFullyInitialized(),i.filtersNodes()),h=new di(l,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=mi(h,c),this.eventGenerator_=new vi(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function ao(t,e){var n=_i(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Hn(e)&&!n.getImmediateChild(Mn(e)).isEmpty())?n.getChild(e):null}function so(t){return 0===t.eventRegistrations_.length}function uo(t,e,n){var r=[];if(n){wt(null==e,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach((function(t){var e=t.createCancelEvent(n,i);e&&r.push(e)}))}if(e){for(var o=[],a=0;a<t.eventRegistrations_.length;++a){var s=t.eventRegistrations_[a];if(s.matches(e)){if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(a+1));break}}else o.push(s)}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function lo(t,e,n,r){e.type===oi.MERGE&&null!==e.source.queryId&&(wt(_i(t.viewCache_),"We should always have a full cache before handling merges"),wt(bi(t.viewCache_),"Missing event cache, even though we have a server cache"));var i,o,a=t.viewCache_,s=Ji(t.processor_,a,e,n,r);return i=t.processor_,o=s.viewCache,wt(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),wt(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),wt(s.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,co(t,s.changes,s.viewCache.eventCache.getNode(),null)}function co(t,e,n,r){var i=r?[r]:t.eventRegistrations_;return function(t,e,n,r){var i=[],o=[];return e.forEach((function(e){var n;"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push((n=e.childName,{type:"child_moved",snapshotNode:e.snapshotNode,childName:n}))})),gi(t,i,"child_removed",e,r,n),gi(t,i,"child_added",e,r,n),gi(t,i,"child_moved",o,r,n),gi(t,i,"child_changed",e,r,n),gi(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,i)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ho,fo=function(){this.views=new Map};function po(t,e,n,r){var i,o,a=e.source.queryId;if(null!==a){var s=t.views.get(a);return wt(null!=s,"SyncTree gave us an op for an invalid query."),lo(s,e,n,r)}var u=[];try{for(var l=dt(t.views.values()),c=l.next();!c.done;c=l.next()){s=c.value;u=u.concat(lo(s,e,n,r))}}catch(t){i={error:t}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return u}function vo(t,e,n,r,i){var o=e._queryIdentifier,a=t.views.get(o);if(!a){var s=Fi(n,i?r:null),u=!1;s?u=!0:r instanceof Nr?(s=zi(n,r),u=!1):(s=Nr.EMPTY_NODE,u=!1);var l=mi(new di(s,u,!1),new di(r,i,!1));return new oo(e,l)}return a}function go(t,e,n,r,i,o){var a=vo(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),function(t,e){t.eventRegistrations_.push(e)}(a,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(kr,(function(t,e){r.push(zr(t,e))})),n.isFullyInitialized()&&r.push(Fr(n.getNode())),co(t,r,n.getNode(),e)}(a,n)}function mo(t,e,n,r){var i,o,a=e._queryIdentifier,s=[],u=[],l=xo(t);if("default"===a)try{for(var c=dt(t.views.entries()),h=c.next();!h.done;h=c.next()){var f=vt(h.value,2),p=f[0],d=f[1];u=u.concat(uo(d,n,r)),so(d)&&(t.views.delete(p),d.query._queryParams.loadsAllData()||s.push(d.query))}}catch(t){i={error:t}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}else(d=t.views.get(a))&&(u=u.concat(uo(d,n,r)),so(d)&&(t.views.delete(a),d.query._queryParams.loadsAllData()||s.push(d.query)));return l&&!xo(t)&&s.push(new(wt(io,"Reference.ts has not been loaded"),io)(e._repo,e._path)),{removed:s,events:u}}function yo(t){var e,n,r=[];try{for(var i=dt(t.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function wo(t,e){var n,r,i=null;try{for(var o=dt(t.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;i=i||ao(s,e)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function bo(t,e){if(e._queryParams.loadsAllData())return ko(t);var n=e._queryIdentifier;return t.views.get(n)}function _o(t,e){return null!=bo(t,e)}function xo(t){return null!=ko(t)}function ko(t){var e,n;try{for(var r=dt(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Io=1,Co=function(t){this.listenProvider_=t,this.syncPointTree_=new xi(null),this.pendingWriteTree_={visibleWrites:ki.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function To(t,e,n,r,i){return function(t,e,n,r,i){wt(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ii(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Ro(t,new fi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function So(t,e,n,r){!function(t,e,n,r){wt(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ci(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var i=xi.fromObject(n);return Ro(t,new pi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}function Eo(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(ji(t.pendingWriteTree_,e)){var i=new xi(null);return null!=r.snap?i=i.set(Ln(),!0):on(r.children,(function(t){i=i.set(new Dn(t),!0)})),Ro(t,new ci(r.path,i,n))}return[]}function No(t,e,n){return Ro(t,new fi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function qo(t,e,n,r){var i=e._path,o=t.syncPointTree_.get(i),a=[];if(o&&("default"===e._queryIdentifier||_o(o,e))){var s=mo(o,e,n,r);0===o.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(i));var u=s.removed;a=s.events;var l=-1!==u.findIndex((function(t){return t._queryParams.loadsAllData()})),c=t.syncPointTree_.findOnPath(i,(function(t,e){return xo(e)}));if(l&&!c){var h=t.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=function(t){return t.fold((function(t,e,n){if(e&&xo(e))return[ko(e)];var r=[];return e&&(r=yo(e)),on(n,(function(t,e){r=r.concat(e)})),r}))}(h),p=0;p<f.length;++p){var d=f[p],v=d.query,g=Do(t,d);t.listenProvider_.startListening(Vo(v),Lo(t,v),g.hashFn,g.onComplete)}}if(!c&&u.length>0&&!r)if(l){t.listenProvider_.stopListening(Vo(e),null)}else u.forEach((function(e){var n=t.queryToTagMap.get(Mo(e));t.listenProvider_.stopListening(Vo(e),n)}));!function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=Mo(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,u)}return a}function Ao(t,e,n){var r=e._path,i=null,o=!1;t.syncPointTree_.foreachOnPath(r,(function(t,e){var n=Kn(t,r);i=i||wo(e,n),o=o||xo(e)}));var a,s=t.syncPointTree_.get(r);(s?(o=o||xo(s),i=i||wo(s,Ln())):(s=new fo,t.syncPointTree_=t.syncPointTree_.set(r,s)),null!=i)?a=!0:(a=!1,i=Nr.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=wo(e,Ln());n&&(i=i.updateImmediateChild(t,n))})));var u=_o(s,e);if(!u&&!e._queryParams.loadsAllData()){var l=Mo(e);wt(!t.queryToTagMap.has(l),"View does not exist, but we have a tag");var c=Io++;t.queryToTagMap.set(l,c),t.tagToQueryMap.set(c,l)}var h=go(s,e,n,Ri(t.pendingWriteTree_,r),i,a);if(!u&&!o){var f=bo(s,e);h=h.concat(function(t,e,n){var r=e._path,i=Lo(t,e),o=Do(t,n),a=t.listenProvider_.startListening(Vo(e),i,o.hashFn,o.onComplete),s=t.syncPointTree_.subtree(r);if(i)wt(!xo(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(t,e,n){if(!Hn(t)&&e&&xo(e))return[ko(e).query];var r=[];return e&&(r=r.concat(yo(e).map((function(t){return t.query})))),on(n,(function(t,e){r=r.concat(e)})),r})),l=0;l<u.length;++l){var c=u[l];t.listenProvider_.stopListening(Vo(c),Lo(t,c))}return a}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,e,f))}return h}function Po(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(function(t,n){var r=wo(n,Kn(t,e));if(r)return r}));return Mi(r,e,i,n,!0)}function Oo(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(function(t,e){var i=Kn(t,n);r=r||wo(e,i)}));var i=t.syncPointTree_.get(n);i?r=r||wo(i,Ln()):(i=new fo,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,a=o?new di(r,!0,!1):null;return function(t){return bi(t.viewCache_)}(vo(i,e,Ri(t.pendingWriteTree_,e._path),o?a.getNode():Nr.EMPTY_NODE,o))}function Ro(t,e){return jo(e,t.syncPointTree_,null,Ri(t.pendingWriteTree_,Ln()))}function jo(t,e,n,r){if(Hn(t.path))return $o(t,e,n,r);var i=e.get(Ln());null==n&&null!=i&&(n=wo(i,Ln()));var o=[],a=Mn(t.path),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var l=n?n.getImmediateChild(a):null,c=Hi(r,a);o=o.concat(jo(s,u,l,c))}return i&&(o=o.concat(po(i,t,r,n))),o}function $o(t,e,n,r){var i=e.get(Ln());null==n&&null!=i&&(n=wo(i,Ln()));var o=[];return e.children.inorderTraversal((function(e,i){var a=n?n.getImmediateChild(e):null,s=Hi(r,e),u=t.operationForChild(e);u&&(o=o.concat($o(u,i,a,s)))})),i&&(o=o.concat(po(i,t,r,n))),o}function Do(t,e){var n=e.query,r=Lo(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||Nr.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=Fo(t,n);if(r){var i=zo(r),o=i.path,a=i.queryId,s=Kn(o,e);return Uo(t,o,new hi(ui(a),s))}return[]}(t,n._path,r):function(t,e){return Ro(t,new hi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return qo(t,n,null,i)}}}function Lo(t,e){var n=Mo(e);return t.queryToTagMap.get(n)}function Mo(t){return t._path.toString()+"$"+t._queryIdentifier}function Fo(t,e){return t.tagToQueryMap.get(e)}function zo(t){var e=t.indexOf("$");return wt(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Dn(t.substr(0,e))}}function Uo(t,e,n){var r=t.syncPointTree_.get(e);return wt(r,"Missing sync point for query tag that we're tracking"),po(r,n,Ri(t.pendingWriteTree_,e),null)}function Vo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(wt(ho,"Reference.ts has not been loaded"),ho)(t._repo,t._path):t}var Wo=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),Bo=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=Bn(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Po(this.syncTree_,this.path_)},t}(),Ho=function(t,e,n){return t&&"object"==typeof t?(wt(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Ko(t[".sv"],e,n):"object"==typeof t[".sv"]?Go(t[".sv"],e):void wt(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Ko=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:wt(!1,"Unexpected server value: "+t)}},Go=function(t,e,n){t.hasOwnProperty("increment")||wt(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&wt(!1,"Unexpected increment value: "+r);var i=e.node();if(wt(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},Yo=function(t,e,n,r){return Jo(e,new Bo(n,t),r)},Xo=function(t,e,n){return Jo(t,new Wo(e),n)};function Jo(t,e,n){var r,i=t.getPriority().val(),o=Ho(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=Ho(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new br(s,Ar(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new br(o))),u.forEachChild(kr,(function(t,i){var o=Jo(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Qo=function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n};function Zo(t,e){for(var n=e instanceof Dn?e:new Dn(e),r=t,i=Mn(n);null!==i;){var o=Lt(r.node.children,i)||{children:{},childCount:0};r=new Qo(i,r,o),i=Mn(n=zn(n))}return r}function ta(t){return t.node.value}function ea(t,e){t.node.value=e,aa(t)}function na(t){return t.node.childCount>0}function ra(t,e){on(t.node.children,(function(n,r){e(new Qo(n,t,r))}))}function ia(t,e,n,r){n&&!r&&e(t),ra(t,(function(t){ia(t,e,!0,r)})),n&&r&&e(t)}function oa(t){return new Dn(null===t.parent?t.name:oa(t.parent)+"/"+t.name)}function aa(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===ta(t)&&!na(t)}(n),i=Dt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,aa(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,aa(t))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t.parent,t.name,t)}var sa=/[\[\].#$\/\u0000-\u001F\u007F]/,ua=/[\[\].#$\u0000-\u001F\u007F]/,la=10485760,ca=function(t){return"string"==typeof t&&0!==t.length&&!sa.test(t)},ha=function(t){return"string"==typeof t&&0!==t.length&&!ua.test(t)},fa=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!Xe(t)||t&&"object"==typeof t&&Dt(t,".sv")},pa=function(t,e,n,r){r&&void 0===e||da(Ht(t,"value"),e,n)},da=function(t,e,n){var r=n instanceof Dn?new Jn(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Zn(r));if("function"==typeof e)throw new Error(t+"contains a function "+Zn(r)+" with contents = "+e.toString());if(Xe(e))throw new Error(t+"contains "+e.toString()+" "+Zn(r));if("string"==typeof e&&e.length>la/3&&Yt(e)>la)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Zn(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,o=!1;if(on(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!ca(e)))throw new Error(t+" contains an invalid key ("+e+") "+Zn(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,s;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Yt(e),Qn(t)}(r,e),da(t,n,r),s=(a=r).parts_.pop(),a.byteLength_-=Yt(s),a.parts_.length>0&&(a.byteLength_-=1)})),i&&o)throw new Error(t+' contains ".value" child '+Zn(r)+" in addition to actual children.")}},va=function(t,e,n,r){if(!r||void 0!==e){var i=Ht(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var o=[];on(e,(function(t,e){var r=new Dn(t);if(da(i,e,Bn(n,r)),".priority"===Un(r)&&!fa(e))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=Vn(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!ca(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Gn);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&Xn(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,o)}},ga=function(t,e,n){if(!n||void 0!==e){if(Xe(e))throw new Error(Ht(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!fa(e))throw new Error(Ht(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ma=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Ht(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ya=function(t,e,n,r){if(!(r&&void 0===n||ca(n)))throw new Error(Ht(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},wa=function(t,e,n,r){if(!(r&&void 0===n||ha(n)))throw new Error(Ht(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ba=function(t,e){if(".info"===Mn(e))throw new Error(t+" failed = Can't modify data under /.info/")},_a=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!ca(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ha(t)}(n))throw new Error(Ht(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},xa=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Ht(t,e)+"must be a boolean.")},ka=function(){this.eventLists_=[],this.recursionDepth_=0};function Ia(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||Yn(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Ca(t,e,n){Ia(t,n),Sa(t,(function(t){return Yn(t,e)}))}function Ta(t,e,n){Ia(t,n),Sa(t,(function(t){return Xn(t,e)||Xn(e,t)}))}function Sa(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];if(i)e(i.path)?(Ea(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}n&&(t.eventLists_=[]),t.recursionDepth_--}function Ea(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();Ue&&Be("event: "+n.toString()),hn(r)}}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Na="repo_interrupt",qa=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ka,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ei(),this.transactionQueueTree_=new Qo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Aa(t,e,n){if(t.stats_=In(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Zr(t.repoInfo_,(function(e,n,r,i){Ra(t,e,n,r,i)}),t.authTokenProvider_,t.appCheckProvider_),setTimeout((function(){return ja(t,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{jt(n)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}t.persistentConnection_=new ir(t.repoInfo_,e,(function(e,n,r,i){Ra(t,e,n,r,i)}),(function(e){ja(t,e)}),(function(e){!function(t,e){on(e,(function(e,n){$a(t,e,n)}))}(t,e)}),t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}var r,i,o;t.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),t.appCheckProvider_.addTokenChangeListener((function(e){t.server_.refreshAppCheckToken(e.token)})),t.statsReporter_=(r=t.repoInfo_,i=function(){return new si(t.stats_,t.server_)},o=r.toString(),kn[o]||(kn[o]=i()),kn[o]),t.infoData_=new ti,t.infoSyncTree_=new Co({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e._path);return a.isEmpty()||(o=No(t.infoSyncTree_,e._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),$a(t,"connected",!1),t.serverSyncTree_=new Co({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);Ta(t.eventQueue_,e._path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}function Pa(t){var e=t.infoData_.getNode(new Dn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Oa(t){return(e=(e={timestamp:Pa(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function Ra(t,e,n,r,i){t.dataUpdateCount++;var o=new Dn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var s=Ft(n,(function(t){return Ar(t)}));a=function(t,e,n,r){var i=Fo(t,r);if(i){var o=zo(i),a=o.path,s=o.queryId,u=Kn(a,e),l=xi.fromObject(n);return Uo(t,a,new pi(ui(s),u,l))}return[]}(t.serverSyncTree_,o,s,i)}else{var u=Ar(n);a=function(t,e,n,r){var i=Fo(t,r);if(null!=i){var o=zo(i),a=o.path,s=o.queryId,u=Kn(a,e);return Uo(t,a,new fi(ui(s),u,n))}return[]}(t.serverSyncTree_,o,u,i)}else if(r){var l=Ft(n,(function(t){return Ar(t)}));a=function(t,e,n){var r=xi.fromObject(n);return Ro(t,new pi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,o,l)}else{var c=Ar(n);a=No(t.serverSyncTree_,o,c)}var h=o;a.length>0&&(h=Ka(t,o)),Ta(t.eventQueue_,h,a)}function ja(t,e){$a(t,"connected",e),!1===e&&function(t){Va(t,"onDisconnectEvents");var e=Oa(t),n=ei();ii(t.onDisconnect_,Ln(),(function(r,i){var o=Yo(r,i,t.serverSyncTree_,e);ni(n,r,o)}));var r=[];ii(n,Ln(),(function(e,n){r=r.concat(No(t.serverSyncTree_,e,n));var i=Qa(t,e);Ka(t,i)})),t.onDisconnect_=ei(),Ta(t.eventQueue_,Ln(),r)}(t)}function $a(t,e,n){var r=new Dn("/.info/"+e),i=Ar(n);t.infoData_.updateSnapshot(r,i);var o=No(t.infoSyncTree_,r,i);Ta(t.eventQueue_,r,o)}function Da(t){return t.nextWriteId_++}function La(t,e,n,r,i){Va(t,"set",{path:e.toString(),value:n,priority:r});var o=Oa(t),a=Ar(n,r),s=Po(t.serverSyncTree_,e),u=Xo(a,s,o),l=Da(t),c=To(t.serverSyncTree_,e,u,l,!0);Ia(t.eventQueue_,c),t.server_.put(e.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||Ye("set at "+e+" failed: "+n);var a=Eo(t.serverSyncTree_,l,!o);Ta(t.eventQueue_,e,a),Wa(t,i,n,r)}));var h=Qa(t,e);Ka(t,h),Ta(t.eventQueue_,h,[])}function Ma(t,e,n){t.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&ri(t.onDisconnect_,e),Wa(t,n,r,i)}))}function Fa(t,e,n,r){var i=Ar(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(function(n,o){"ok"===n&&ni(t.onDisconnect_,e,i),Wa(t,r,n,o)}))}function za(t,e,n){var r;r=".info"===Mn(e._path)?qo(t.infoSyncTree_,e,n):qo(t.serverSyncTree_,e,n),Ca(t.eventQueue_,e._path,r)}function Ua(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Na)}function Va(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),Be.apply(void 0,gt([r],vt(e)))}function Wa(t,e,n,r){e&&hn((function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}}))}function Ba(t,e,n){return Po(t.serverSyncTree_,e,n)||Nr.EMPTY_NODE}function Ha(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||Ja(t,e),ta(e)){var n=Ya(t,e);wt(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return 0===t.status}))&&function(t,e,n){for(var r=n.map((function(t){return t.currentWriteId})),i=Ba(t,e,r),o=i,a=i.hash(),s=0;s<n.length;s++){var u=n[s];wt(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=Kn(e,u.path);o=o.updateChild(l,u.currentOutputSnapshotRaw)}var c=o.val(!0),h=e;t.server_.put(h.toString(),c,(function(r){Va(t,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(e){n[e].status=2,i=i.concat(Eo(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push((function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)})),n[e].unwatcher()},s=0;s<n.length;s++)a(s);Ja(t,Zo(t.transactionQueueTree_,e)),Ha(t,t.transactionQueueTree_),Ta(t.eventQueue_,e,i);for(s=0;s<o.length;s++)hn(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{Ye("transaction at "+h.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}Ka(t,e)}}),a)}(t,oa(e),n)}else na(e)&&ra(e,(function(e){Ha(t,e)}))}function Ka(t,e){var n=Ga(t,e),r=oa(n);return function(t,e,n){if(0===e.length)return;for(var r=[],i=[],o=e.filter((function(t){return 0===t.status})).map((function(t){return t.currentWriteId})),a=function(a){var s,u,l=e[a],c=Kn(n,l.path),h=!1;if(wt(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)h=!0,s=l.abortReason,i=i.concat(Eo(t.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)h=!0,s="maxretry",i=i.concat(Eo(t.serverSyncTree_,l.currentWriteId,!0));else{var f=Ba(t,l.path,o);l.currentInputSnapshot=f;var p=e[a].update(f.val());if(void 0!==p){da("transaction failed: Data returned ",p,l.path);var d=Ar(p);"object"==typeof p&&null!=p&&Dt(p,".priority")||(d=d.updatePriority(f.getPriority()));var v=l.currentWriteId,g=Oa(t),m=Xo(d,f,g);l.currentOutputSnapshotRaw=d,l.currentOutputSnapshotResolved=m,l.currentWriteId=Da(t),o.splice(o.indexOf(v),1),i=(i=i.concat(To(t.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally))).concat(Eo(t.serverSyncTree_,v,!0))}else h=!0,s="nodata",i=i.concat(Eo(t.serverSyncTree_,l.currentWriteId,!0))}Ta(t.eventQueue_,n,i),i=[],h&&(e[a].status=2,u=e[a].unwatcher,setTimeout(u,Math.floor(0)),e[a].onComplete&&("nodata"===s?r.push((function(){return e[a].onComplete(null,!1,e[a].currentInputSnapshot)})):r.push((function(){return e[a].onComplete(new Error(s),!1,null)}))))},s=0;s<e.length;s++)a(s);Ja(t,t.transactionQueueTree_);for(s=0;s<r.length;s++)hn(r[s]);Ha(t,t.transactionQueueTree_)}(t,Ya(t,n),r),r}function Ga(t,e){var n,r=t.transactionQueueTree_;for(n=Mn(e);null!==n&&void 0===ta(r);)r=Zo(r,n),n=Mn(e=zn(e));return r}function Ya(t,e){var n=[];return Xa(t,e,n),n.sort((function(t,e){return t.order-e.order})),n}function Xa(t,e,n){var r=ta(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);ra(e,(function(e){Xa(t,e,n)}))}function Ja(t,e){var n=ta(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,ea(e,n.length>0?n:void 0)}ra(e,(function(e){Ja(t,e)}))}function Qa(t,e){var n=oa(Ga(t,e)),r=Zo(t.transactionQueueTree_,e);return function(t,e,n){for(var r=n?t:t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,(function(e){Za(t,e)})),Za(t,r),ia(r,(function(e){Za(t,e)})),n}function Za(t,e){var n=ta(e);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(wt(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(wt(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Eo(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));-1===o?ea(e,void 0):n.length=o+1,Ta(t.eventQueue_,oa(e),i);for(a=0;a<r.length;a++)hn(r[a])}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ts=function(t,e){var n=es(t),r=n.namespace;"firebase.com"===n.domain&&Ge(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Ge("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ye("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new wn(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new Dn(n.pathString)}},es=function(t){var e="",n="",r="",i="",o="",a=!0,s="https",u=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(s=t.substring(0,l-1),t=t.substring(l+2));var c=t.indexOf("/");-1===c&&(c=t.length);var h=t.indexOf("?");-1===h&&(h=t.length),e=t.substring(0,Math.min(c,h)),c<h&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}(t.substring(c,h)));var f=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=dt(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var s=a.split("=");2===s.length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Ye("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,h)));(l=e.indexOf(":"))>=0?(a="https"===s||"wss"===s,u=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var d=e.indexOf(".");r=e.substring(0,d).toLowerCase(),n=e.substring(d+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},ns=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+jt(this.snapshot.exportVal())},t}(),rs=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),is=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return wt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),os=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new Tt;return Ma(this._repo,this._path,t.wrapCallback((function(){}))),t.promise},t.prototype.remove=function(){ba("OnDisconnect.remove",this._path);var t=new Tt;return Fa(this._repo,this._path,null,t.wrapCallback((function(){}))),t.promise},t.prototype.set=function(t){ba("OnDisconnect.set",this._path),pa("OnDisconnect.set",t,this._path,!1);var e=new Tt;return Fa(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t.prototype.setWithPriority=function(t,e){ba("OnDisconnect.setWithPriority",this._path),pa("OnDisconnect.setWithPriority",t,this._path,!1),ga("OnDisconnect.setWithPriority",e,!1);var n=new Tt;return function(t,e,n,r,i){var o=Ar(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(function(n,r){"ok"===n&&ni(t.onDisconnect_,e,o),Wa(0,i,n,r)}))}(this._repo,this._path,t,e,n.wrapCallback((function(){}))),n.promise},t.prototype.update=function(t){ba("OnDisconnect.update",this._path),va("OnDisconnect.update",t,this._path,!1);var e=new Tt;return function(t,e,n,r){if(Mt(n))return Be("onDisconnect().update() called with empty data.  Don't do anything."),void Wa(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(function(i,o){"ok"===i&&on(n,(function(n,r){var i=Ar(r);ni(t.onDisconnect_,Bn(e,n),i)})),Wa(0,r,i,o)}))}(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t}(),as=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return Hn(this._path)?null:Un(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new cs(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=Qr(this._queryParams),e=nn(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return Qr(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=Xt(e))instanceof t))return!1;var n=this._repo===e._repo,r=Yn(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function ss(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function us(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===ur){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Je)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Qe)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===kr){if(null!=e&&!fa(e)||null!=n&&!fa(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(wt(t.getIndex()instanceof Rr||t.getIndex()===jr,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ls(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var cs=function(t){function e(e,n){return t.call(this,e,n,new Kr,!1)||this}return ct(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=Wn(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(as),hs=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new Dn(e),r=ds(this.ref,e);return new t(this._node.getChild(n),r,kr)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return e(new t(i,ds(n.ref,r),kr))}))},t.prototype.hasChild=function(t){var e=new Dn(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function fs(t,e){return(t=Xt(t))._checkNotDeleted("ref"),void 0!==e?ds(t._root,e):t._root}function ps(t,e){(t=Xt(t))._checkNotDeleted("refFromURL");var n=ts(e,t._repo.repoInfo_.nodeAdmin);_a("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||Ge("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),fs(t,n.path.toString())}function ds(t,e){var n,r,i,o;return null===Mn((t=Xt(t))._path)?(n="child",r="path",o=!1,(i=e)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),wa(n,r,i,o)):wa("child","path",e,!1),new cs(t._repo,Bn(t._path,e))}function vs(t,e){t=Xt(t),ba("push",t._path),pa("push",e,t._path,!0);var n,r=Pa(t._repo),i=Dr(r),o=ds(t,i),a=ds(t,i);return n=null!=e?ms(a,e).then((function(){return a})):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),o}function gs(t){return ba("remove",t._path),ms(t,null)}function ms(t,e){t=Xt(t),ba("set",t._path),pa("set",e,t._path,!1);var n=new Tt;return La(t._repo,t._path,e,null,n.wrapCallback((function(){}))),n.promise}function ys(t,e){t=Xt(t),ba("setPriority",t._path),ga("setPriority",e,!1);var n=new Tt;return La(t._repo,Bn(t._path,".priority"),e,null,n.wrapCallback((function(){}))),n.promise}function ws(t,e,n){if(ba("setWithPriority",t._path),pa("setWithPriority",e,t._path,!1),ga("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new Tt;return La(t._repo,t._path,e,n,r.wrapCallback((function(){}))),r.promise}function bs(t,e){va("update",e,t._path,!1);var n=new Tt;return function(t,e,n,r){Va(t,"update",{path:e.toString(),value:n});var i=!0,o=Oa(t),a={};if(on(n,(function(n,r){i=!1,a[n]=Yo(Bn(e,n),Ar(r),t.serverSyncTree_,o)})),i)Be("update() called with empty data.  Don't do anything."),Wa(0,r,"ok",void 0);else{var s=Da(t),u=So(t.serverSyncTree_,e,a,s);Ia(t.eventQueue_,u),t.server_.merge(e.toString(),n,(function(n,i){var o="ok"===n;o||Ye("update at "+e+" failed: "+n);var a=Eo(t.serverSyncTree_,s,!o),u=a.length>0?Ka(t,e):e;Ta(t.eventQueue_,u,a),Wa(0,r,n,i)})),on(n,(function(n){var r=Qa(t,Bn(e,n));Ka(t,r)})),Ta(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback((function(){}))),n.promise}function _s(t){return function(t,e){var n=Oo(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then((function(n){var r=Ar(n).withIndex(e._queryParams.getIndex()),i=No(t.serverSyncTree_,e._path,r);return Ca(t.eventQueue_,e._path,i),Promise.resolve(r)}),(function(n){return Va(t,"get for query "+jt(e)+" failed: "+n),Promise.reject(new Error(n))}))}((t=Xt(t))._repo,t).then((function(e){return new hs(e,new cs(t._repo,t._path),t._queryParams.getIndex())}))}var xs=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new ns("value",this,new hs(t.snapshotNode,new cs(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new rs(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),ks=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new rs(this,t,e):null},t.prototype.createEvent=function(t,e){wt(null!=t.childName,"Child events should have a childName.");var n=ds(new cs(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new ns(t.type,this,new hs(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function Is(t,e,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(e,n){za(t._repo,t,l),a(e,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new is(n,o||void 0),l="value"===e?new xs(u):new ks(e,u);return function(t,e,n){var r;r=".info"===Mn(e._path)?Ao(t.infoSyncTree_,e,n):Ao(t.serverSyncTree_,e,n),Ca(t.eventQueue_,e._path,r)}(t._repo,t,l),function(){return za(t._repo,t,l)}}function Cs(t,e,n,r){return Is(t,"value",e,n,r)}function Ts(t,e,n,r){return Is(t,"child_added",e,n,r)}function Ss(t,e,n,r){return Is(t,"child_changed",e,n,r)}function Es(t,e,n,r){return Is(t,"child_moved",e,n,r)}function Ns(t,e,n,r){return Is(t,"child_removed",e,n,r)}function qs(t,e,n){var r=null,i=n?new is(n):null;"value"===e?r=new xs(i):e&&(r=new ks(e,i)),za(t._repo,t,r)}var As=function(){},Ps=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return ct(e,t),e.prototype._apply=function(t){pa("endAt",this._value,t._path,!0);var e=Yr(t._queryParams,this._value,this._key);if(ls(e),us(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new as(t._repo,t._path,e,t._orderByCalled)},e}(As);function Os(t,e){return ya("endAt","key",e,!0),new Ps(t,e)}var Rs=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return ct(e,t),e.prototype._apply=function(t){pa("endBefore",this._value,t._path,!1);var e,n,r,i,o=(e=t._queryParams,n=this._value,r=this._key,e.index_===ur?("string"==typeof n&&(n=Mr(n)),i=Yr(e,n,r)):i=Yr(e,n,null==r?Je:Mr(r)),i.endBeforeSet_=!0,i);if(ls(o),us(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new as(t._repo,t._path,o,t._orderByCalled)},e}(As);function js(t,e){return ya("endBefore","key",e,!0),new Rs(t,e)}var $s=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return ct(e,t),e.prototype._apply=function(t){pa("startAt",this._value,t._path,!0);var e=Gr(t._queryParams,this._value,this._key);if(ls(e),us(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new as(t._repo,t._path,e,t._orderByCalled)},e}(As);function Ds(t,e){return void 0===t&&(t=null),ya("startAt","key",e,!0),new $s(t,e)}var Ls=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return ct(e,t),e.prototype._apply=function(t){pa("startAfter",this._value,t._path,!1);var e=function(t,e,n){var r;t.index_===ur?("string"==typeof e&&(e=Lr(e)),r=Gr(t,e,n)):r=Gr(t,e,null==n?Qe:Lr(n));return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(ls(e),us(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new as(t._repo,t._path,e,t._orderByCalled)},e}(As);function Ms(t,e){return ya("startAfter","key",e,!0),new Ls(t,e)}var Fs=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return ct(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new as(t._repo,t._path,(e=t._queryParams,n=this._limit,(r=e.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="l",r),t._orderByCalled);var e,n,r},e}(As);function zs(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Fs(t)}var Us=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return ct(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new as(t._repo,t._path,(e=t._queryParams,n=this._limit,(r=e.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="r",r),t._orderByCalled);var e,n,r},e}(As);function Vs(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Us(t)}var Ws=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return ct(e,t),e.prototype._apply=function(t){ss(t,"orderByChild");var e=new Dn(this._path);if(Hn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new Rr(e),r=Xr(t._queryParams,n);return us(r),new as(t._repo,t._path,r,!0)},e}(As);function Bs(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return wa("orderByChild","path",t,!1),new Ws(t)}var Hs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ct(e,t),e.prototype._apply=function(t){ss(t,"orderByKey");var e=Xr(t._queryParams,ur);return us(e),new as(t._repo,t._path,e,!0)},e}(As);function Ks(){return new Hs}var Gs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ct(e,t),e.prototype._apply=function(t){ss(t,"orderByPriority");var e=Xr(t._queryParams,kr);return us(e),new as(t._repo,t._path,e,!0)},e}(As);function Ys(){return new Gs}var Xs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ct(e,t),e.prototype._apply=function(t){ss(t,"orderByValue");var e=Xr(t._queryParams,jr);return us(e),new as(t._repo,t._path,e,!0)},e}(As);function Js(){return new Xs}var Qs=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return ct(e,t),e.prototype._apply=function(t){if(pa("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ps(this._value,this._key)._apply(new $s(this._value,this._key)._apply(t))},e}(As);function Zs(t,e){return ya("equalTo","key",e,!0),new Qs(t,e)}function tu(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=Xt(t);try{for(var a=dt(r),s=a.next();!s.done;s=a.next()){var u=s.value;o=u._apply(o)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o}!function(t){wt(!io,"__referenceConstructor has already been defined"),io=t}(cs),function(t){wt(!ho,"__referenceConstructor has already been defined"),ho=t}(cs);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var eu={},nu=!1;function ru(t,e,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||Ge("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Be("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a,s=ts(o,i),u=s.repoInfo,l=void 0;"undefined"!=typeof process&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(a=!0,o="http://"+l+"?ns="+u.namespace,u=(s=ts(o,i)).repoInfo):a=!s.repoInfo.secure;var c=i&&a?new vn(vn.OWNER):new dn(t.name,t.options,e);_a("Invalid Firebase Database URL",s),Hn(s.path)||Ge("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(t,e,n,r){var i=eu[e.name];i||(i={},eu[e.name]=i);var o=i[t.toURLString()];o&&Ge("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new qa(t,nu,n,r),i[t.toURLString()]=o,o}(u,t,c,new pn(t.name,n));return new iu(h,t)}var iu=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(Aa(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new cs(this._repo,Ln())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return null!==this._rootInternal&&(t=this._repo,e=this.app.name,(n=eu[e])&&n[t.key]===t||Ge("Database "+e+"("+t.repoInfo_+") has already been deleted."),Ua(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&Ge("Cannot call "+t+" on a deleted database.")},t}();function ou(t,e,n,r){void 0===r&&(r={}),(t=Xt(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Ge("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ge('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new vn(vn.OWNER);else if(r.mockUserToken){var a=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=ht({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xt.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),xt.encodeString(JSON.stringify(o),!1),""].join(".")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(r.mockUserToken,t.app.options.projectId);o=new vn(a)}!function(t,e,n,r){t.repoInfo_=new wn(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(i,e,n,o)}function au(t){(t=Xt(t))._checkNotDeleted("goOffline"),Ua(t._repo)}function su(t){var e;(t=Xt(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume(Na)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var uu={".sv":"timestamp"};
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var lu=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function cu(t,e,n){var r;if(t=Xt(t),ba("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,o=new Tt,a=Cs(t,(function(){}));return function(t,e,n,r,i,o){Va(t,"transaction on "+e);var a={path:e,update:n,onComplete:r,status:null,order:Me(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=Ba(t,e,void 0);a.currentInputSnapshot=s;var u=a.update(s.val());if(void 0===u)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{da("transaction failed: Data returned ",u,a.path),a.status=0;var l=Zo(t.transactionQueueTree_,e),c=ta(l)||[];c.push(a),ea(l,c);var h=void 0;"object"==typeof u&&null!==u&&Dt(u,".priority")?(h=Lt(u,".priority"),wt(fa(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(Po(t.serverSyncTree_,e)||Nr.EMPTY_NODE).getPriority().val();var f=Oa(t),p=Ar(u,h),d=Xo(p,s,f);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=d,a.currentWriteId=Da(t);var v=To(t.serverSyncTree_,e,d,a.currentWriteId,a.applyLocally);Ta(t.eventQueue_,e,v),Ha(t,t.transactionQueueTree_)}}(t._repo,t._path,e,(function(e,n,r){var i=null;e?o.reject(e):(i=new hs(r,new cs(t._repo,t._path),kr),o.resolve(new lu(n,i)))}),a,i),o.promise}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var hu=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){Bt("OnDisconnect.cancel",0,1,arguments.length),Kt("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.remove=function(t){Bt("OnDisconnect.remove",0,1,arguments.length),Kt("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.set=function(t,e){Bt("OnDisconnect.set",1,2,arguments.length),Kt("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},t.prototype.setWithPriority=function(t,e,n){Bt("OnDisconnect.setWithPriority",2,3,arguments.length),Kt("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},t.prototype.update=function(t,e){if(Bt("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,Ye("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Kt("OnDisconnect.update","onComplete",e,!0);var i=this._delegate.update(t);return e&&i.then((function(){return e(null)}),(function(t){return e(t)})),i},t}(),fu=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Bt("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),pu=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return Bt("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Bt("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Bt("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Bt("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return Bt("DataSnapshot.child",0,1,arguments.length),e=String(e),wa("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return Bt("DataSnapshot.hasChild",1,1,arguments.length),wa("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return Bt("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Bt("DataSnapshot.forEach",1,1,arguments.length),Kt("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((function(r){return e(new t(n._database,r))}))},t.prototype.hasChildren=function(){return Bt("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Bt("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Bt("DataSnapshot.ref",0,0,arguments.length),new vu(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),du=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,i){var o,a=this;Bt("Query.on",2,4,arguments.length),Kt("Query.on","callback",n,!1);var s=t.getCancelAndContextArgs_("Query.on",r,i),u=function(t,e){n.call(s.context,new pu(a.database,t),e)};u.userCallback=n,u.context=s.context;var l=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(e){case"value":return Cs(this._delegate,u,l),n;case"child_added":return Ts(this._delegate,u,l),n;case"child_removed":return Ns(this._delegate,u,l),n;case"child_changed":return Ss(this._delegate,u,l),n;case"child_moved":return Es(this._delegate,u,l),n;default:throw new Error(Ht("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if(Bt("Query.off",0,3,arguments.length),ma("Query.off",t,!0),Kt("Query.off","callback",e,!0),Gt("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,qs(this._delegate,t,r)}else qs(this._delegate,t)},t.prototype.get=function(){var t=this;return _s(this._delegate).then((function(e){return new pu(t.database,e)}))},t.prototype.once=function(e,n,r,i){var o=this;Bt("Query.once",1,4,arguments.length),Kt("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),s=new Tt,u=function(t,e){var r=new pu(o.database,t);n&&n.call(a.context,r,e),s.resolve(r)};u.userCallback=n,u.context=a.context;var l=function(t){a.cancel&&a.cancel.call(a.context,t),s.reject(t)};switch(e){case"value":Cs(this._delegate,u,l,{onlyOnce:!0});break;case"child_added":Ts(this._delegate,u,l,{onlyOnce:!0});break;case"child_removed":Ns(this._delegate,u,l,{onlyOnce:!0});break;case"child_changed":Ss(this._delegate,u,l,{onlyOnce:!0});break;case"child_moved":Es(this._delegate,u,l,{onlyOnce:!0});break;default:throw new Error(Ht("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise},t.prototype.limitToFirst=function(e){return Bt("Query.limitToFirst",1,1,arguments.length),new t(this.database,tu(this._delegate,zs(e)))},t.prototype.limitToLast=function(e){return Bt("Query.limitToLast",1,1,arguments.length),new t(this.database,tu(this._delegate,Vs(e)))},t.prototype.orderByChild=function(e){return Bt("Query.orderByChild",1,1,arguments.length),new t(this.database,tu(this._delegate,Bs(e)))},t.prototype.orderByKey=function(){return Bt("Query.orderByKey",0,0,arguments.length),new t(this.database,tu(this._delegate,Ks()))},t.prototype.orderByPriority=function(){return Bt("Query.orderByPriority",0,0,arguments.length),new t(this.database,tu(this._delegate,Ys()))},t.prototype.orderByValue=function(){return Bt("Query.orderByValue",0,0,arguments.length),new t(this.database,tu(this._delegate,Js()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),Bt("Query.startAt",0,2,arguments.length),new t(this.database,tu(this._delegate,Ds(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),Bt("Query.startAfter",0,2,arguments.length),new t(this.database,tu(this._delegate,Ms(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),Bt("Query.endAt",0,2,arguments.length),new t(this.database,tu(this._delegate,Os(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),Bt("Query.endBefore",0,2,arguments.length),new t(this.database,tu(this._delegate,js(e,n)))},t.prototype.equalTo=function(e,n){return Bt("Query.equalTo",1,2,arguments.length),new t(this.database,tu(this._delegate,Zs(e,n)))},t.prototype.toString=function(){return Bt("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Bt("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Bt("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,Kt(t,"cancel",r.cancel,!0),r.context=n,Gt(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Ht(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new vu(this.database,new cs(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),vu=function(t){function e(e,n){var r=t.call(this,e,new as(n._repo,n._path,new Kr,!1))||this;return r.database=e,r._delegate=n,r}return ct(e,t),e.prototype.getKey=function(){return Bt("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return Bt("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,ds(this._delegate,t))},e.prototype.getParent=function(){Bt("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return Bt("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){Bt("Reference.set",1,2,arguments.length),Kt("Reference.set","onComplete",e,!0);var n=ms(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.update=function(t,e){if(Bt("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,Ye("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ba("Reference.update",this._delegate._path),Kt("Reference.update","onComplete",e,!0);var i=bs(this._delegate,t);return e&&i.then((function(){return e(null)}),(function(t){return e(t)})),i},e.prototype.setWithPriority=function(t,e,n){Bt("Reference.setWithPriority",2,3,arguments.length),Kt("Reference.setWithPriority","onComplete",n,!0);var r=ws(this._delegate,t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},e.prototype.remove=function(t){Bt("Reference.remove",0,1,arguments.length),Kt("Reference.remove","onComplete",t,!0);var e=gs(this._delegate);return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},e.prototype.transaction=function(t,e,n){var r=this;Bt("Reference.transaction",1,3,arguments.length),Kt("Reference.transaction","transactionUpdate",t,!1),Kt("Reference.transaction","onComplete",e,!0),xa("Reference.transaction","applyLocally",n,!0);var i=cu(this._delegate,t,{applyLocally:n}).then((function(t){return new fu(t.committed,new pu(r.database,t.snapshot))}));return e&&i.then((function(t){return e(null,t.committed,t.snapshot)}),(function(t){return e(t,!1,null)})),i},e.prototype.setPriority=function(t,e){Bt("Reference.setPriority",1,2,arguments.length),Kt("Reference.setPriority","onComplete",e,!0);var n=ys(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.push=function(t,n){var r=this;Bt("Reference.push",0,2,arguments.length),Kt("Reference.push","onComplete",n,!0);var i=vs(this._delegate,t),o=i.then((function(t){return new e(r.database,t)}));n&&o.then((function(){return n(null)}),(function(t){return n(t)}));var a=new e(this.database,i);return a.then=o.then.bind(o),a.catch=o.catch.bind(o,void 0),a},e.prototype.onDisconnect=function(){return ba("Reference.onDisconnect",this._delegate._path),new hu(new os(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(du),gu=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),ou(this._delegate,t,e,n)},t.prototype.ref=function(t){if(Bt("database.ref",0,1,arguments.length),t instanceof vu){var e=ps(this._delegate,t.toString());return new vu(this,e)}e=fs(this._delegate,t);return new vu(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";Bt(e,1,1,arguments.length);var n=ps(this._delegate,t);return new vu(this,n)},t.prototype.goOffline=function(){return Bt("database.goOffline",0,0,arguments.length),au(this._delegate)},t.prototype.goOnline=function(){return Bt("database.goOnline",0,0,arguments.length),su(this._delegate)},t.ServerValue={TIMESTAMP:uu,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var mu=Object.freeze({__proto__:null,forceLongPolling:function(){An.forceDisallow(),En.forceAllow()},forceWebSockets:function(){En.forceDisallow()},isWebSocketsAvailable:function(){return An.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new ai(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce((function(t,e){return Math.max(e.length,t)}),0);on(n,(function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)}))}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){var n,r;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */t.stats_.incrementCounter(e),n=t.statsReporter_,r=e,n.statsToReport_[r]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,s=void 0!==a&&a;Ae(r);var u=new Zt("auth-internal",new ee("database-standalone"));return u.setComponent(new Jt("auth-internal",(function(){return i}),"PRIVATE")),{instance:new gu(ru(e,u,void 0,n,s),e),namespace:o}}}),yu=ir;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */ir.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},ir.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var wu=On,bu=wn,_u=Object.freeze({__proto__:null,DataConnection:yu,RealTimeConnection:wu,hijackHash:function(t){var e=ir.prototype.put;return ir.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){ir.prototype.put=e}},ConnectionTarget:bu,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){nu=t}(t)}}),xu=gu.ServerValue;function ku(t){w(t,"svelte-2b216e",".h-4.svelte-2b216e{height:1rem\n}.w-4.svelte-2b216e{width:1rem\n}")}function Iu(e){let n,r,i,o;return{c(){n=I("svg"),r=I("path"),i=I("polyline"),o=I("line"),N(r,"d","M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"),N(i,"points","16 17 21 12 16 7"),N(o,"x1","21"),N(o,"y1","12"),N(o,"x2","9"),N(o,"y2","12"),N(n,"xmlns","http://www.w3.org/2000/svg"),N(n,"width","24"),N(n,"height","24"),N(n,"viewBox","0 0 24 24"),N(n,"fill","none"),N(n,"stroke","currentColor"),N(n,"stroke-width","2"),N(n,"stroke-linecap","round"),N(n,"stroke-linejoin","round"),N(n,"class","h-4 w-4 svelte-2b216e")},m(t,e){b(t,n,e),y(n,r),y(n,i),y(n,o)},p:t,i:t,o:t,d(t){t&&_(n)}}}!function(t){Ae(t.SDK_VERSION),t.INTERNAL.registerComponent(new Jt("database",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new gu(ru(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:vu,Query:du,Database:gu,DataSnapshot:pu,enableLogging:We,INTERNAL:mu,ServerValue:xu,TEST_ACCESS:_u}).setMultipleInstances(!0)),t.registerVersion("@firebase/database","0.10.9")}(Ce);class Cu extends ut{constructor(t){super(),st(this,t,null,Iu,a,{},ku)}}var Tu=function(t){var e=t.map((function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})),n={},r={};t.forEach((function(t,i){n[t]=e[i],r[e[i]]=t}));var i=new RegExp("["+(t.join("").replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+"]"),"g"),o=new RegExp(e.join("|"),"g");return{encode:function(t){return t.replace(i,(function(t){return n[t]}))},decode:function(t){return t.replace(o,(function(t){return r[t]}))}}},Su=Tu(".$[]#/%".split("")),Eu=Su.encode;Su.decode;var Nu=Tu(".$[]#%".split(""));Nu.encode,Nu.decode;var qu=Eu;function Au(t){w(t,"svelte-x17qtt",'.svelte-x17qtt.svelte-x17qtt,.svelte-x17qtt.svelte-x17qtt::before,.svelte-x17qtt.svelte-x17qtt::after{box-sizing:border-box}button.svelte-x17qtt.svelte-x17qtt{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button.svelte-x17qtt.svelte-x17qtt{text-transform:none}button.svelte-x17qtt.svelte-x17qtt,[type=\'button\'].svelte-x17qtt.svelte-x17qtt{-webkit-appearance:button}.svelte-x17qtt.svelte-x17qtt::-moz-focus-inner{border-style:none;padding:0}.svelte-x17qtt.svelte-x17qtt:-moz-focusring{outline:1px dotted ButtonText}.svelte-x17qtt.svelte-x17qtt:-moz-ui-invalid{box-shadow:none}.svelte-x17qtt.svelte-x17qtt::-webkit-inner-spin-button,.svelte-x17qtt.svelte-x17qtt::-webkit-outer-spin-button{height:auto}.svelte-x17qtt.svelte-x17qtt::-webkit-search-decoration{-webkit-appearance:none}.svelte-x17qtt.svelte-x17qtt::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}button.svelte-x17qtt.svelte-x17qtt{background-color:transparent;background-image:none}.svelte-x17qtt.svelte-x17qtt,.svelte-x17qtt.svelte-x17qtt::before,.svelte-x17qtt.svelte-x17qtt::after{box-sizing:border-box;border-width:0;border-style:solid;border-color:currentColor}button.svelte-x17qtt.svelte-x17qtt{cursor:pointer}button.svelte-x17qtt.svelte-x17qtt{padding:0;line-height:inherit;color:inherit}.svelte-x17qtt.svelte-x17qtt,.svelte-x17qtt.svelte-x17qtt::before,.svelte-x17qtt.svelte-x17qtt::after{--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-ring-inset:var(--tw-empty,/*!*/ /*!*/);--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59, 130, 246, 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-blur:var(--tw-empty,/*!*/ /*!*/);--tw-brightness:var(--tw-empty,/*!*/ /*!*/);--tw-contrast:var(--tw-empty,/*!*/ /*!*/);--tw-grayscale:var(--tw-empty,/*!*/ /*!*/);--tw-hue-rotate:var(--tw-empty,/*!*/ /*!*/);--tw-invert:var(--tw-empty,/*!*/ /*!*/);--tw-saturate:var(--tw-empty,/*!*/ /*!*/);--tw-sepia:var(--tw-empty,/*!*/ /*!*/);--tw-drop-shadow:var(--tw-empty,/*!*/ /*!*/);--tw-filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.form-input.svelte-x17qtt.svelte-x17qtt,.form-textarea.svelte-x17qtt.svelte-x17qtt,.form-select.svelte-x17qtt.svelte-x17qtt,.form-multiselect.svelte-x17qtt.svelte-x17qtt{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#6b7280;border-width:1px;border-radius:0px;padding-top:0.5rem;padding-right:0.75rem;padding-bottom:0.5rem;padding-left:0.75rem;font-size:1rem;line-height:1.5rem}.form-input.svelte-x17qtt.svelte-x17qtt:focus,.form-textarea.svelte-x17qtt.svelte-x17qtt:focus,.form-select.svelte-x17qtt.svelte-x17qtt:focus,.form-multiselect.svelte-x17qtt.svelte-x17qtt:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-inset:var(--tw-empty,/*!*/ /*!*/);--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#2563eb;--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);border-color:#2563eb}.form-input.svelte-x17qtt.svelte-x17qtt::-moz-placeholder,.form-textarea.svelte-x17qtt.svelte-x17qtt::-moz-placeholder{color:#6b7280;opacity:1}.form-input.svelte-x17qtt.svelte-x17qtt:-ms-input-placeholder,.form-textarea.svelte-x17qtt.svelte-x17qtt:-ms-input-placeholder{color:#6b7280;opacity:1}.form-input.svelte-x17qtt.svelte-x17qtt::placeholder,.form-textarea.svelte-x17qtt.svelte-x17qtt::placeholder{color:#6b7280;opacity:1}.prose.svelte-x17qtt.svelte-x17qtt{color:#374151;max-width:65ch}.prose.svelte-x17qtt.svelte-x17qtt{font-size:1rem;line-height:1.75}.prose.svelte-x17qtt>.svelte-x17qtt:first-child{margin-top:0}.prose.svelte-x17qtt>.svelte-x17qtt:last-child{margin-bottom:0}.mx-auto.svelte-x17qtt.svelte-x17qtt{margin-left:auto;margin-right:auto}.my-16.svelte-x17qtt.svelte-x17qtt{margin-top:4rem;margin-bottom:4rem}.mx-4.svelte-x17qtt.svelte-x17qtt{margin-left:1rem;margin-right:1rem}.mt-4.svelte-x17qtt.svelte-x17qtt{margin-top:1rem}.mt-16.svelte-x17qtt.svelte-x17qtt{margin-top:4rem}.mb-2.svelte-x17qtt.svelte-x17qtt{margin-bottom:0.5rem}.mt-8.svelte-x17qtt.svelte-x17qtt{margin-top:2rem}.mr-2.svelte-x17qtt.svelte-x17qtt{margin-right:0.5rem}.flex.svelte-x17qtt.svelte-x17qtt{display:flex}.h-9.svelte-x17qtt.svelte-x17qtt{height:2.25rem}.h-28.svelte-x17qtt.svelte-x17qtt{height:7rem}.h-12.svelte-x17qtt.svelte-x17qtt{height:3rem}.h-6.svelte-x17qtt.svelte-x17qtt{height:1.5rem}.h-4.svelte-x17qtt.svelte-x17qtt{height:1rem}.w-full.svelte-x17qtt.svelte-x17qtt{width:100%}.w-3\\/4.svelte-x17qtt.svelte-x17qtt{width:75%}.w-12.svelte-x17qtt.svelte-x17qtt{width:3rem}.w-6.svelte-x17qtt.svelte-x17qtt{width:1.5rem}.w-4.svelte-x17qtt.svelte-x17qtt{width:1rem}.max-w-none.svelte-x17qtt.svelte-x17qtt{max-width:none}.flex-grow.svelte-x17qtt.svelte-x17qtt{flex-grow:1}.flex-col.svelte-x17qtt.svelte-x17qtt{flex-direction:column}.items-center.svelte-x17qtt.svelte-x17qtt{align-items:center}.justify-end.svelte-x17qtt.svelte-x17qtt{justify-content:flex-end}.gap-10.svelte-x17qtt.svelte-x17qtt{gap:2.5rem}.gap-2.svelte-x17qtt.svelte-x17qtt{gap:0.5rem}.gap-4.svelte-x17qtt.svelte-x17qtt{gap:1rem}.self-end.svelte-x17qtt.svelte-x17qtt{align-self:flex-end}.rounded-md.svelte-x17qtt.svelte-x17qtt{border-radius:0.375rem}.rounded-full.svelte-x17qtt.svelte-x17qtt{border-radius:9999px}.\\!rounded-lg.svelte-x17qtt.svelte-x17qtt{border-radius:0.5rem !important}.border-gray-300.svelte-x17qtt.svelte-x17qtt{--tw-border-opacity:1;border-color:rgba(209, 213, 219, var(--tw-border-opacity))}.bg-gray-100.svelte-x17qtt.svelte-x17qtt{--tw-bg-opacity:1;background-color:rgba(243, 244, 246, var(--tw-bg-opacity))}.bg-primary-100.svelte-x17qtt.svelte-x17qtt{--tw-bg-opacity:1;background-color:rgba(224, 242, 254, var(--tw-bg-opacity))}.bg-primary-50.svelte-x17qtt.svelte-x17qtt{--tw-bg-opacity:1;background-color:rgba(240, 249, 255, var(--tw-bg-opacity))}.\\!bg-primary-200.svelte-x17qtt.svelte-x17qtt{--tw-bg-opacity:1 !important;background-color:rgba(186, 230, 253, var(--tw-bg-opacity)) !important}.\\!bg-white.svelte-x17qtt.svelte-x17qtt{--tw-bg-opacity:1 !important;background-color:rgba(255, 255, 255, var(--tw-bg-opacity)) !important}.bg-gradient-to-r.svelte-x17qtt.svelte-x17qtt{background-image:linear-gradient(to right, var(--tw-gradient-stops))}.from-primary-100.svelte-x17qtt.svelte-x17qtt{--tw-gradient-from:#e0f2fe;--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to, rgba(224, 242, 254, 0))}.via-blue-100.svelte-x17qtt.svelte-x17qtt{--tw-gradient-stops:var(--tw-gradient-from), #dbeafe, var(--tw-gradient-to, rgba(219, 234, 254, 0))}.to-purple-100.svelte-x17qtt.svelte-x17qtt{--tw-gradient-to:#ede9fe}.py-1.svelte-x17qtt.svelte-x17qtt{padding-top:0.25rem;padding-bottom:0.25rem}.px-6.svelte-x17qtt.svelte-x17qtt{padding-left:1.5rem;padding-right:1.5rem}.py-4.svelte-x17qtt.svelte-x17qtt{padding-top:1rem;padding-bottom:1rem}.px-4.svelte-x17qtt.svelte-x17qtt{padding-left:1rem;padding-right:1rem}.px-2.svelte-x17qtt.svelte-x17qtt{padding-left:0.5rem;padding-right:0.5rem}.py-2.svelte-x17qtt.svelte-x17qtt{padding-top:0.5rem;padding-bottom:0.5rem}.\\!px-3.svelte-x17qtt.svelte-x17qtt{padding-left:0.75rem !important;padding-right:0.75rem !important}.\\!py-1\\.5.svelte-x17qtt.svelte-x17qtt{padding-top:0.375rem !important;padding-bottom:0.375rem !important}.\\!py-1.svelte-x17qtt.svelte-x17qtt{padding-top:0.25rem !important;padding-bottom:0.25rem !important}.font-sans.svelte-x17qtt.svelte-x17qtt{font-family:ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"}.text-3xl.svelte-x17qtt.svelte-x17qtt{font-size:1.875rem;line-height:2.25rem}.text-2xl.svelte-x17qtt.svelte-x17qtt{font-size:1.5rem;line-height:2rem}.text-base.svelte-x17qtt.svelte-x17qtt{font-size:1rem;line-height:1.5rem}.text-lg.svelte-x17qtt.svelte-x17qtt{font-size:1.125rem;line-height:1.75rem}.font-bold.svelte-x17qtt.svelte-x17qtt{font-weight:700}.font-medium.svelte-x17qtt.svelte-x17qtt{font-weight:500}.font-normal.svelte-x17qtt.svelte-x17qtt{font-weight:400}.font-semibold.svelte-x17qtt.svelte-x17qtt{font-weight:600}.text-primary-600.svelte-x17qtt.svelte-x17qtt{--tw-text-opacity:1;color:rgba(2, 132, 199, var(--tw-text-opacity))}.text-primary-900.svelte-x17qtt.svelte-x17qtt{--tw-text-opacity:1;color:rgba(12, 74, 110, var(--tw-text-opacity))}.text-gray-600.svelte-x17qtt.svelte-x17qtt{--tw-text-opacity:1;color:rgba(75, 85, 99, var(--tw-text-opacity))}.text-primary-800.svelte-x17qtt.svelte-x17qtt{--tw-text-opacity:1;color:rgba(7, 89, 133, var(--tw-text-opacity))}.text-primary-500.svelte-x17qtt.svelte-x17qtt{--tw-text-opacity:1;color:rgba(14, 165, 233, var(--tw-text-opacity))}.text-gray-400.svelte-x17qtt.svelte-x17qtt{--tw-text-opacity:1;color:rgba(156, 163, 175, var(--tw-text-opacity))}.text-red-600.svelte-x17qtt.svelte-x17qtt{--tw-text-opacity:1;color:rgba(220, 38, 38, var(--tw-text-opacity))}.text-pink-600.svelte-x17qtt.svelte-x17qtt{--tw-text-opacity:1;color:rgba(219, 39, 119, var(--tw-text-opacity))}.\\!ring-1.svelte-x17qtt.svelte-x17qtt{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color) !important;--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color) !important;box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000) !important}.\\!ring-primary-500.svelte-x17qtt.svelte-x17qtt{--tw-ring-opacity:1 !important;--tw-ring-color:rgba(14, 165, 233, var(--tw-ring-opacity)) !important}.filter.svelte-x17qtt.svelte-x17qtt{filter:var(--tw-filter)}.hover\\:bg-primary-100.svelte-x17qtt.svelte-x17qtt:hover{--tw-bg-opacity:1;background-color:rgba(224, 242, 254, var(--tw-bg-opacity))}.hover\\:bg-primary-200.svelte-x17qtt.svelte-x17qtt:hover{--tw-bg-opacity:1;background-color:rgba(186, 230, 253, var(--tw-bg-opacity))}.hover\\:bg-red-100\\/60.svelte-x17qtt.svelte-x17qtt:hover{background-color:rgba(254, 226, 226, 0.6)}.hover\\:bg-pink-100\\/60.svelte-x17qtt.svelte-x17qtt:hover{background-color:rgba(252, 231, 243, 0.6)}.hover\\:\\!bg-primary-100.svelte-x17qtt.svelte-x17qtt:hover{--tw-bg-opacity:1 !important;background-color:rgba(224, 242, 254, var(--tw-bg-opacity)) !important}.hover\\:\\!bg-primary-50.svelte-x17qtt.svelte-x17qtt:hover{--tw-bg-opacity:1 !important;background-color:rgba(240, 249, 255, var(--tw-bg-opacity)) !important}.hover\\:from-primary-200.svelte-x17qtt.svelte-x17qtt:hover{--tw-gradient-from:#bae6fd;--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to, rgba(186, 230, 253, 0))}.hover\\:via-blue-200.svelte-x17qtt.svelte-x17qtt:hover{--tw-gradient-stops:var(--tw-gradient-from), #bfdbfe, var(--tw-gradient-to, rgba(191, 219, 254, 0))}.hover\\:to-purple-200.svelte-x17qtt.svelte-x17qtt:hover{--tw-gradient-to:#ddd6fe}.hover\\:underline.svelte-x17qtt.svelte-x17qtt:hover{text-decoration:underline}.hover\\:\\!shadow-md.svelte-x17qtt.svelte-x17qtt:hover{--tw-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow) !important}.hover\\:\\!ring-2.svelte-x17qtt.svelte-x17qtt:hover{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color) !important;--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color) !important;box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000) !important}.disabled\\:cursor-not-allowed.svelte-x17qtt.svelte-x17qtt:disabled{cursor:not-allowed}.disabled\\:bg-gray-100.svelte-x17qtt.svelte-x17qtt:disabled{--tw-bg-opacity:1;background-color:rgba(243, 244, 246, var(--tw-bg-opacity))}.disabled\\:text-gray-600.svelte-x17qtt.svelte-x17qtt:disabled{--tw-text-opacity:1;color:rgba(75, 85, 99, var(--tw-text-opacity))}.disabled\\:saturate-50.svelte-x17qtt.svelte-x17qtt:disabled{--tw-saturate:saturate(.5);filter:var(--tw-filter)}.disabled\\:hover\\:bg-gray-100.svelte-x17qtt.svelte-x17qtt:disabled:hover{--tw-bg-opacity:1;background-color:rgba(243, 244, 246, var(--tw-bg-opacity))}.disabled\\:hover\\:from-primary-100.svelte-x17qtt.svelte-x17qtt:disabled:hover{--tw-gradient-from:#e0f2fe;--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to, rgba(224, 242, 254, 0))}.disabled\\:hover\\:via-blue-100.svelte-x17qtt.svelte-x17qtt:disabled:hover{--tw-gradient-stops:var(--tw-gradient-from), #dbeafe, var(--tw-gradient-to, rgba(219, 234, 254, 0))}')}function Pu(t,e,n){const r=t.slice();return r[17]=e[n],r[19]=n,r}function Ou(t,e){let n,r,i,o,a,s,u,l,c,h=e[17]+"",f=(e[4]?"-":e[3][e[17]])+"";function p(){return e[8](e[17])}return{key:t,first:null,c(){n=k("button"),r=k("span"),i=C(h),o=T(),a=C(f),s=T(),N(r,"class","mr-2 svelte-x17qtt"),N(n,"type","button"),N(n,"class",u=m((e[2].includes(e[17])?"!bg-primary-200 hover:!bg-primary-100":"!bg-white hover:!bg-primary-50")+" !px-3 !py-1.5 !rounded-lg !ring-1 !ring-primary-500 hover:!ring-2 hover:!shadow-md")+" svelte-x17qtt"),this.first=n},m(t,e){b(t,n,e),y(n,r),y(r,i),y(n,o),y(n,a),y(n,s),l||(c=E(n,"click",p),l=!0)},p(t,r){e=t,1&r&&h!==(h=e[17]+"")&&q(i,h),25&r&&f!==(f=(e[4]?"-":e[3][e[17]])+"")&&q(a,f),5&r&&u!==(u=m((e[2].includes(e[17])?"!bg-primary-200 hover:!bg-primary-100":"!bg-white hover:!bg-primary-50")+" !px-3 !py-1.5 !rounded-lg !ring-1 !ring-primary-500 hover:!ring-2 hover:!shadow-md")+" svelte-x17qtt")&&N(n,"class",u)},d(t){t&&_(n),l=!1,c()}}}function Ru(e){let n,r=[],i=new Map,o=e[0];const a=t=>t[19];for(let t=0;t<o.length;t+=1){let n=Pu(e,o,t),s=a(n);i.set(s,r[t]=Ou(s,n))}return{c(){n=k("div");for(let t=0;t<r.length;t+=1)r[t].c();N(n,"class","flex gap-4 text-2xl mt-8 svelte-x17qtt")},m(t,e){b(t,n,e);for(let t=0;t<r.length;t+=1)r[t].m(n,null)},p(t,[e]){61&e&&(o=t[0],r=tt(r,e,a,1,t,o,i,n,Q,Ou,null,Pu))},i:t,o:t,d(t){t&&_(n);for(let t=0;t<r.length;t+=1)r[t].d()}}}function ju(e,n,r){let i,o=t;e.$$.on_destroy.push((()=>o()));let a,s,u,{reactions:l=["","","",""]}=n,{page:h=(window.location.pathname.endsWith("/")?window.location.pathname:window.location.pathname+"/")}=n;try{const t=Ne();a=t.authStore,o(),o=c(a,(t=>r(7,i=t))),s=t.loginWithGoogle,u=t.logout}catch(t){throw t}const f=Ce.database();let p=[],d={};l.forEach((t=>r(3,d[t]=0,d)));let v=!0,g=!0;const m=t=>{!i.user||g||v||(p.includes(t)?(async t=>{r(2,p=p.filter((e=>e!==t))),r(3,d[t]--,d),r(3,d={...d});const e=`posts/${qu(h)}/reactions`,n=`users/activity/${i.user.uid}/${qu(h)}/reactions`,o={};o[`${e}/count/${t}`]=Ce.database.ServerValue.increment(-1),o[`${e}/users/${t}/${i.user.uid}`]=null,o[`${n}/${t}`]=null,f.ref().update(o)})(t):(async t=>{r(2,p=[...p,t]),r(3,d[t]++,d),r(3,d={...d});const e=`posts/${qu(h)}/reactions`,n=`users/activity/${i.user.uid}/${qu(h)}/reactions`,o={};o[`${e}/count/${t}`]=Ce.database.ServerValue.increment(1),o[`${e}/users/${t}/${i.user.uid}`]=!0,o[`${n}/${t}`]=!0,f.ref().update(o)})(t))};return e.$$set=t=>{"reactions"in t&&r(0,l=t.reactions),"page"in t&&r(6,h=t.page)},e.$$.update=()=>{192&e.$$.dirty&&(f.ref(`posts/${qu(h)}/reactions/count`).once("value").then((t=>t.val())).then((t=>(t=>{Object.entries(t??{}).forEach((([t,e])=>{r(3,d[t]=e,d)})),r(4,g=!1)})(t??{}))),i.user?f.ref(`users/activity/${i.user.uid}/${qu(h)}/reactions`).once("value").then((t=>t.val())).then((t=>(t=>{r(2,p=Object.keys(t)),v=!1})(t??{}))):r(2,p=[]))},[l,a,p,d,g,m,h,i,t=>m(t)]}class $u extends ut{constructor(t){super(),st(this,t,ju,Ru,a,{reactions:0,page:6},Au)}}var Du="en",Lu={},Mu={};function Fu(){return Du}function zu(t){return Lu[t]?t:Mu[t.toLowerCase()]?Mu[t.toLowerCase()]:void 0}function Uu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.localeMatcher||"lookup";switch(n){case"lookup":case"best fit":return Vu(t);default:throw new RangeError('Invalid "localeMatcher" option: '.concat(n))}}function Vu(t){var e=zu(t);if(e)return e;for(var n=t.split("-");t.length>1;){n.pop();var r=zu(t=n.join("-"));if(r)return r}}var Wu={af:function(t){return 1==t?"one":"other"},am:function(t){return t>=0&&t<=1?"one":"other"},ar:function(t){var e=String(t).split("."),n=Number(e[0])==t&&e[0].slice(-2);return 0==t?"zero":1==t?"one":2==t?"two":n>=3&&n<=10?"few":n>=11&&n<=99?"many":"other"},ast:function(t){var e=!String(t).split(".")[1];return 1==t&&e?"one":"other"},be:function(t){var e=String(t).split("."),n=Number(e[0])==t,r=n&&e[0].slice(-1),i=n&&e[0].slice(-2);return 1==r&&11!=i?"one":r>=2&&r<=4&&(i<12||i>14)?"few":n&&0==r||r>=5&&r<=9||i>=11&&i<=14?"many":"other"},br:function(t){var e=String(t).split("."),n=Number(e[0])==t,r=n&&e[0].slice(-1),i=n&&e[0].slice(-2),o=n&&e[0].slice(-6);return 1==r&&11!=i&&71!=i&&91!=i?"one":2==r&&12!=i&&72!=i&&92!=i?"two":(3==r||4==r||9==r)&&(i<10||i>19)&&(i<70||i>79)&&(i<90||i>99)?"few":0!=t&&n&&0==o?"many":"other"},bs:function(t){var e=String(t).split("."),n=e[0],r=e[1]||"",i=!e[1],o=n.slice(-1),a=n.slice(-2),s=r.slice(-1),u=r.slice(-2);return i&&1==o&&11!=a||1==s&&11!=u?"one":i&&o>=2&&o<=4&&(a<12||a>14)||s>=2&&s<=4&&(u<12||u>14)?"few":"other"},cs:function(t){var e=String(t).split("."),n=e[0],r=!e[1];return 1==t&&r?"one":n>=2&&n<=4&&r?"few":r?"other":"many"},cy:function(t){return 0==t?"zero":1==t?"one":2==t?"two":3==t?"few":6==t?"many":"other"},da:function(t){var e=String(t).split("."),n=e[0],r=Number(e[0])==t;return 1!=t&&(r||0!=n&&1!=n)?"other":"one"},dsb:function(t){var e=String(t).split("."),n=e[0],r=e[1]||"",i=!e[1],o=n.slice(-2),a=r.slice(-2);return i&&1==o||1==a?"one":i&&2==o||2==a?"two":i&&(3==o||4==o)||3==a||4==a?"few":"other"},dz:function(t){return"other"},fil:function(t){var e=String(t).split("."),n=e[0],r=e[1]||"",i=!e[1],o=n.slice(-1),a=r.slice(-1);return i&&(1==n||2==n||3==n)||i&&4!=o&&6!=o&&9!=o||!i&&4!=a&&6!=a&&9!=a?"one":"other"},fr:function(t){return t>=0&&t<2?"one":"other"},ga:function(t){var e=String(t).split("."),n=Number(e[0])==t;return 1==t?"one":2==t?"two":n&&t>=3&&t<=6?"few":n&&t>=7&&t<=10?"many":"other"},gd:function(t){var e=String(t).split("."),n=Number(e[0])==t;return 1==t||11==t?"one":2==t||12==t?"two":n&&t>=3&&t<=10||n&&t>=13&&t<=19?"few":"other"},he:function(t){var e=String(t).split("."),n=e[0],r=!e[1],i=Number(e[0])==t,o=i&&e[0].slice(-1);return 1==t&&r?"one":2==n&&r?"two":r&&(t<0||t>10)&&i&&0==o?"many":"other"},is:function(t){var e=String(t).split("."),n=e[0],r=Number(e[0])==t,i=n.slice(-1),o=n.slice(-2);return r&&1==i&&11!=o||!r?"one":"other"},ksh:function(t){return 0==t?"zero":1==t?"one":"other"},lt:function(t){var e=String(t).split("."),n=e[1]||"",r=Number(e[0])==t,i=r&&e[0].slice(-1),o=r&&e[0].slice(-2);return 1==i&&(o<11||o>19)?"one":i>=2&&i<=9&&(o<11||o>19)?"few":0!=n?"many":"other"},lv:function(t){var e=String(t).split("."),n=e[1]||"",r=n.length,i=Number(e[0])==t,o=i&&e[0].slice(-1),a=i&&e[0].slice(-2),s=n.slice(-2),u=n.slice(-1);return i&&0==o||a>=11&&a<=19||2==r&&s>=11&&s<=19?"zero":1==o&&11!=a||2==r&&1==u&&11!=s||2!=r&&1==u?"one":"other"},mk:function(t){var e=String(t).split("."),n=e[0],r=e[1]||"",i=!e[1],o=n.slice(-1),a=n.slice(-2),s=r.slice(-1),u=r.slice(-2);return i&&1==o&&11!=a||1==s&&11!=u?"one":"other"},mt:function(t){var e=String(t).split("."),n=Number(e[0])==t&&e[0].slice(-2);return 1==t?"one":0==t||n>=2&&n<=10?"few":n>=11&&n<=19?"many":"other"},pa:function(t){return 0==t||1==t?"one":"other"},pl:function(t){var e=String(t).split("."),n=e[0],r=!e[1],i=n.slice(-1),o=n.slice(-2);return 1==t&&r?"one":r&&i>=2&&i<=4&&(o<12||o>14)?"few":r&&1!=n&&(0==i||1==i)||r&&i>=5&&i<=9||r&&o>=12&&o<=14?"many":"other"},pt:function(t){var e=String(t).split(".")[0];return 0==e||1==e?"one":"other"},ro:function(t){var e=String(t).split("."),n=!e[1],r=Number(e[0])==t&&e[0].slice(-2);return 1==t&&n?"one":!n||0==t||1!=t&&r>=1&&r<=19?"few":"other"},ru:function(t){var e=String(t).split("."),n=e[0],r=!e[1],i=n.slice(-1),o=n.slice(-2);return r&&1==i&&11!=o?"one":r&&i>=2&&i<=4&&(o<12||o>14)?"few":r&&0==i||r&&i>=5&&i<=9||r&&o>=11&&o<=14?"many":"other"},se:function(t){return 1==t?"one":2==t?"two":"other"},si:function(t){var e=String(t).split("."),n=e[0],r=e[1]||"";return 0==t||1==t||0==n&&1==r?"one":"other"},sl:function(t){var e=String(t).split("."),n=e[0],r=!e[1],i=n.slice(-2);return r&&1==i?"one":r&&2==i?"two":r&&(3==i||4==i)||!r?"few":"other"}};Wu.as=Wu.am,Wu.az=Wu.af,Wu.bg=Wu.af,Wu.bn=Wu.am,Wu.ca=Wu.ast,Wu.ce=Wu.af,Wu.chr=Wu.af,Wu.de=Wu.ast,Wu.ee=Wu.af,Wu.el=Wu.af,Wu.en=Wu.ast,Wu.es=Wu.af,Wu.et=Wu.ast,Wu.eu=Wu.af,Wu.fa=Wu.am,Wu.fi=Wu.ast,Wu.fo=Wu.af,Wu.fur=Wu.af,Wu.fy=Wu.ast,Wu.gl=Wu.ast,Wu.gu=Wu.am,Wu.hi=Wu.am,Wu.hr=Wu.bs,Wu.hsb=Wu.dsb,Wu.hu=Wu.af,Wu.hy=Wu.fr,Wu.ia=Wu.ast,Wu.id=Wu.dz,Wu.it=Wu.ast,Wu.ja=Wu.dz,Wu.jgo=Wu.af,Wu.jv=Wu.dz,Wu.ka=Wu.af,Wu.kea=Wu.dz,Wu.kk=Wu.af,Wu.kl=Wu.af,Wu.km=Wu.dz,Wu.kn=Wu.am,Wu.ko=Wu.dz,Wu.ku=Wu.af,Wu.ky=Wu.af,Wu.lb=Wu.af,Wu.lkt=Wu.dz,Wu.lo=Wu.dz,Wu.ml=Wu.af,Wu.mn=Wu.af,Wu.mr=Wu.am,Wu.ms=Wu.dz,Wu.my=Wu.dz,Wu.nb=Wu.af,Wu.ne=Wu.af,Wu.nl=Wu.ast,Wu.nn=Wu.af,Wu.or=Wu.af,Wu.ps=Wu.af,Wu["pt-PT"]=Wu.ast,Wu.sah=Wu.dz,Wu.sd=Wu.af,Wu.sk=Wu.cs,Wu.so=Wu.af,Wu.sq=Wu.af,Wu.sr=Wu.bs,Wu.sv=Wu.ast,Wu.sw=Wu.ast,Wu.ta=Wu.af,Wu.te=Wu.af,Wu.th=Wu.dz,Wu.ti=Wu.pa,Wu.tk=Wu.af,Wu.to=Wu.dz,Wu.tr=Wu.af,Wu.ug=Wu.af,Wu.uk=Wu.ru,Wu.ur=Wu.ast,Wu.uz=Wu.af,Wu.vi=Wu.dz,Wu.wae=Wu.af,Wu.yi=Wu.ast,Wu.yue=Wu.dz,Wu.zh=Wu.dz,Wu.zu=Wu.am;var Bu=Wu;function Hu(t){return"pt-PT"===t?t:function(t){var e=t.match(Ku);if(!e)throw new TypeError("Invalid locale: ".concat(t));return e[1]}(t)}var Ku=/^([a-z0-9]+)/i;function Gu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Yu=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=t.supportedLocalesOf(e);if(0===r.length)throw new RangeError("Unsupported locale: "+e);if(n&&"cardinal"!==n.type)throw new RangeError('Only "cardinal" "type" is supported');this.$=Bu[Hu(r[0])]}var e,n,r;return e=t,r=[{key:"supportedLocalesOf",value:function(t){return"string"==typeof t&&(t=[t]),t.filter((function(t){return Bu[Hu(t)]}))}}],(n=[{key:"select",value:function(t){return this.$(t)}}])&&Gu(e.prototype,n),r&&Gu(e,r),t}();function Xu(t){return(Xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ju(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){el(t,e,n[e])}))}return t}function Qu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Zu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function el(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nl=["second","minute","hour","day","week","month","quarter","year"],rl=["auto","always"],il=["long","short","narrow"],ol=["lookup","best fit"],al=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Zu(this,t),el(this,"numeric","always"),el(this,"style","long"),el(this,"localeMatcher","lookup");var r=n.numeric,i=n.style,o=n.localeMatcher;if(void 0!==r){if(rl.indexOf(r)<0)throw new RangeError('Invalid "numeric" option: '.concat(r));this.numeric=r}if(void 0!==i){if(il.indexOf(i)<0)throw new RangeError('Invalid "style" option: '.concat(i));this.style=i}if(void 0!==o){if(ol.indexOf(o)<0)throw new RangeError('Invalid "localeMatcher" option: '.concat(o));this.localeMatcher=o}if("string"==typeof e&&(e=[e]),e.push(Fu()),this.locale=t.supportedLocalesOf(e,{localeMatcher:this.localeMatcher})[0],!this.locale)throw new Error("No supported locale was found");Yu.supportedLocalesOf(this.locale).length>0?this.pluralRules=new Yu(this.locale):console.warn('"'.concat(this.locale,'" locale is not supported')),"undefined"!=typeof Intl&&Intl.NumberFormat?(this.numberFormat=new Intl.NumberFormat(this.locale),this.numberingSystem=this.numberFormat.resolvedOptions().numberingSystem):this.numberingSystem="latn",this.locale=Uu(this.locale,{localeMatcher:this.localeMatcher})}var e,n,r;return e=t,(n=[{key:"format",value:function(){var t=cl(arguments),e=Qu(t,2),n=e[0],r=e[1];return this.getRule(n,r).replace("{0}",this.formatNumber(Math.abs(n)))}},{key:"formatToParts",value:function(){var t=cl(arguments),e=Qu(t,2),n=e[0],r=e[1],i=this.getRule(n,r),o=i.indexOf("{0}");if(o<0)return[{type:"literal",value:i}];var a=[];return o>0&&a.push({type:"literal",value:i.slice(0,o)}),a=a.concat(this.formatNumberToParts(Math.abs(n)).map((function(t){return Ju({},t,{unit:r})}))),o+"{0}".length<i.length-1&&a.push({type:"literal",value:i.slice(o+"{0}".length)}),a}},{key:"getRule",value:function(t,e){var n=function(t){return Lu[t]}(this.locale)[this.style][e];if("auto"===this.numeric)if(-2===t||-1===t){var r=n["previous".concat(-1===t?"":"-"+Math.abs(t))];if(r)return r}else if(1===t||2===t){var i=n["next".concat(1===t?"":"-"+Math.abs(t))];if(i)return i}else if(0===t&&n.current)return n.current;var o,a=n[(o=t,o<0||0===o&&function(t){return 1/t==-1/0}(o)?"past":"future")];return"string"==typeof a?a:a[this.pluralRules&&this.pluralRules.select(Math.abs(t))||"other"]||a.other}},{key:"formatNumber",value:function(t){return this.numberFormat?this.numberFormat.format(t):String(t)}},{key:"formatNumberToParts",value:function(t){return this.numberFormat&&this.numberFormat.formatToParts?this.numberFormat.formatToParts(t):[{type:"integer",value:this.formatNumber(t)}]}},{key:"resolvedOptions",value:function(){return{locale:this.locale,style:this.style,numeric:this.numeric,numberingSystem:this.numberingSystem}}}])&&tl(e.prototype,n),r&&tl(e,r),t}();al.supportedLocalesOf=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof t)t=[t];else if(!Array.isArray(t))throw new TypeError('Invalid "locales" argument');return t.filter((function(t){return Uu(t,e)}))},al.addLocale=function(t){if(!t)throw new Error("No locale data passed");Lu[t.locale]=t,Mu[t.locale.toLowerCase()]=t.locale},al.setDefaultLocale=function(t){Du=t},al.getDefaultLocale=Fu,al.PluralRules=Yu;var sl='Invalid "unit" argument';function ul(t){if("symbol"===Xu(t))throw new TypeError(sl);if("string"!=typeof t)throw new RangeError("".concat(sl,": ").concat(t));if("s"===t[t.length-1]&&(t=t.slice(0,t.length-1)),nl.indexOf(t)<0)throw new RangeError("".concat(sl,": ").concat(t));return t}function ll(t){if(t=Number(t),Number.isFinite&&!Number.isFinite(t))throw new RangeError("".concat('Invalid "number" argument',": ").concat(t));return t}function cl(t){if(t.length<2)throw new TypeError('"unit" argument is required');return[ll(t[0]),ul(t[1])]}function hl(t){return(hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var pl=function(){function t(){var e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r={},(n="cache")in(e=this)?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}var e,n,r;return e=t,(n=[{key:"get",value:function(){for(var t=this.cache,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0;i<n.length;i++){var o=n[i];if("object"!==hl(t))return;t=t[o]}return t}},{key:"put",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.pop(),i=e.pop(),o=this.cache,a=0;a<e.length;a++){var s=e[a];"object"!==hl(o[s])&&(o[s]={}),o=o[s]}return o[i]=r}}])&&fl(e.prototype,n),r&&fl(e,r),t}();function dl(t){return(dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vl(t,e){var n=t,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var a=o;if(e(a))return a;for(var s=a.split("-");s.length>1;)if(s.pop(),e(a=s.join("-")))return a}throw new Error("No locale data has been registered for any of the locales: ".concat(t.join(", ")))}var gl=60,ml=3600,yl=86400,wl=7*yl,bl=2630016,_l=31556952;function xl(t){switch(t){case"second":return 1;case"minute":return gl;case"hour":return ml;case"day":return yl;case"week":return wl;case"month":return bl;case"year":return _l}}function kl(t){return void 0!==t.factor?t.factor:xl(t.unit||t.formatAs)||1}function Il(t){switch(t){case"floor":return Math.floor;default:return Math.round}}function Cl(t){switch(t){case"floor":return 1;default:return.5}}function Tl(t){return(Tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sl(t,e){var n,r=e.prevStep,i=e.timestamp,o=e.now,a=e.future,s=e.round;return r&&(r.id||r.unit)&&(n=t["threshold_for_".concat(r.id||r.unit)]),void 0===n&&void 0!==t.threshold&&"function"==typeof(n=t.threshold)&&(n=n(o,a)),void 0===n&&(n=t.minTime),"object"===Tl(n)&&(n=r&&r.id&&void 0!==n[r.id]?n[r.id]:n.default),"function"==typeof n&&(n=n(i,{future:a,getMinTimeForUnit:function(t,e){return El(t,e||r&&r.formatAs,{round:s})}})),void 0===n&&t.test&&(n=t.test(i,{now:o,future:a})?0:9007199254740991),void 0===n&&(r?t.formatAs&&r.formatAs&&(n=El(t.formatAs,r.formatAs,{round:s})):n=0),void 0===n&&console.warn("[javascript-time-ago] A step should specify `minTime`:\n"+JSON.stringify(t,null,2)),n}function El(t,e,n){var r,i=n.round,o=xl(t);if(r=xl("now"===e?t:e),void 0!==o&&void 0!==r)return o-r*(1-Cl(i))}function Nl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){ql(t,e,n[e])}))}return t}function ql(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Al(t,e,n){var r=n.now,i=n.future,o=n.round,a=n.units,s=n.getNextStep,u=function(t,e,n){var r=n.now,i=n.future,o=n.round;if(0===t.length)return;var a=Pl(t,e,{now:r,future:i||e<0,round:o});if(-1===a)return;var s=t[a];if(s.granularity){if(0===Il(o)(Math.abs(e)/kl(s)/s.granularity)*s.granularity&&a>0)return t[a-1]}return s}(t=function(t,e){return t.filter((function(t){var n=t.unit,r=t.formatAs;return!(n=n||r)||e.indexOf(n)>=0}))}(t,a),e,{now:r,future:i,round:o});return s?u?[t[t.indexOf(u)-1],u,t[t.indexOf(u)+1]]:[void 0,void 0,t[0]]:u}function Pl(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=Sl(t[r],Nl({prevStep:t[r-1],timestamp:n.now-1e3*e},n));return void 0===i||Math.abs(e)<i?r-1:r===t.length-1?r:Pl(t,e,n,r+1)}function Ol(t,e,n){var r=n.now,i=n.round;if(xl(t)){var o=1e3*xl(t),a=e>r,s=Math.abs(e-r),u=Il(i)(s/o)*o;return a?u>0?s-u+function(t,e){return(1-Cl(t))*e+1}(i,o):s-u+1:-(s-u)+function(t,e){return Cl(t)*e}(i,o)}}var Rl=31536e9;function jl(t,e,n){var r=n.prevStep,i=n.nextStep,o=n.now,a=n.future,s=n.round,u=t.getTime?t.getTime():t,l=function(t){return Ol(t,u,{now:o,round:s})},c=function(t,e,n){var r=n.now,i=n.future,o=n.round,a=n.prevStep;if(t){var s=function(t,e,n){var r=n.now,i=n.future,o=n.round,a=n.prevStep,s=Sl(t,{timestamp:e,now:r,future:i,round:o,prevStep:a});if(void 0===s)return;return i?e-1e3*s+1:0===s&&e===r?Rl:e+1e3*s}(t,e,{now:r,future:i,round:o,prevStep:a});if(void 0===s)return;return s-r}return i?e-r+1:Rl}(a?e:i,u,{future:a,now:o,round:s,prevStep:a?r:e});if(void 0!==c){var h;if(e&&(e.getTimeToNextUpdate&&(h=e.getTimeToNextUpdate(u,{getTimeToNextUpdateForUnit:l,getRoundFunction:Il,now:o,future:a,round:s})),void 0===h)){var f=e.unit||e.formatAs;f&&(h=l(f))}return void 0===h?c:Math.min(h,c)}}var $l={};function Dl(t){return $l[t]}function Ll(t){if(!t)throw new Error("[javascript-time-ago] No locale data passed.");$l[t.locale]=t}var Ml={steps:[{formatAs:"now"},{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"}],labels:"long"};function Fl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zl=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){Fl(t,e,n[e])}))}return t}({},Ml,{steps:Ml.steps.filter((function(t){return"second"!==t.formatAs}))}),Ul=[{factor:1,unit:"now"},{threshold:1,threshold_for_now:45.5,factor:1,unit:"second"},{threshold:45.5,factor:gl,unit:"minute"},{threshold:150,granularity:5,factor:gl,unit:"minute"},{threshold:1350,factor:1800,unit:"half-hour"},{threshold:2550,threshold_for_minute:3150,factor:ml,unit:"hour"},{threshold:73800,factor:yl,unit:"day"},{threshold:475200,factor:wl,unit:"week"},{threshold:2116800,factor:bl,unit:"month"},{threshold:27615168,factor:_l,unit:"year"}],Vl={gradation:Ul,flavour:"long",units:["now","minute","hour","day","week","month","year"]},Wl={gradation:Ul,flavour:"long-time",units:["now","minute","hour","day","week","month","year"]};function Bl(t){return t instanceof Date?t:new Date(t)}var Hl=[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"}],Kl={},Gl={minTime:function(t,e){return e.future,(0,e.getMinTimeForUnit)("day")},format:function(t,e){return Kl[e]||(Kl[e]={}),Kl[e].dayMonth||(Kl[e].dayMonth=new Intl.DateTimeFormat(e,{month:"short",day:"numeric"})),Kl[e].dayMonth.format(Bl(t))}},Yl={minTime:function(t,e){return e.future?(t-(new Date(new Date(t).getFullYear(),0).getTime()-1))/1e3:(new Date(new Date(t).getFullYear()+1,0).getTime()-t)/1e3},format:function(t,e){return Kl[e]||(Kl[e]={}),Kl[e].dayMonthYear||(Kl[e].dayMonthYear=new Intl.DateTimeFormat(e,{year:"numeric",month:"short",day:"numeric"})),Kl[e].dayMonthYear.format(Bl(t))}};"object"===("undefined"==typeof Intl?"undefined":dl(Intl))&&"function"==typeof Intl.DateTimeFormat?Hl.push(Gl,Yl):Hl.push({formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"});var Xl={steps:Hl,labels:["mini","short-time","narrow","short"]};function Jl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ql=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){Jl(t,e,n[e])}))}return t}({},Xl,{steps:[{formatAs:"now"}].concat(Xl.steps)});function Zl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tc=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){Zl(t,e,n[e])}))}return t}({},Xl,{steps:Xl.steps.filter((function(t){return"second"!==t.formatAs}))});function ec(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nc=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){ec(t,e,n[e])}))}return t}({},tc,{steps:[{formatAs:"now"}].concat(tc.steps)});function rc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){ic(t,e,n[e])}))}return t}function ic(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var oc=rc({},Xl,{steps:Xl.steps.filter((function(t){return"second"!==t.formatAs})).map((function(t){return"minute"===t.formatAs?rc({},t,{minTime:gl}):t}))}),ac={steps:[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"month"},{formatAs:"year"}],labels:["mini","short-time","narrow","short"]};function sc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var uc=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){sc(t,e,n[e])}))}return t}({},ac,{steps:[{formatAs:"now"}].concat(ac.steps)});function lc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var cc=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){lc(t,e,n[e])}))}return t}({},ac,{steps:ac.steps.filter((function(t){return"second"!==t.formatAs}))});function hc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fc=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){hc(t,e,n[e])}))}return t}({},cc,{steps:[{formatAs:"now"}].concat(cc.steps)});function pc(t){switch(t){case"default":case"round":return Ml;case"round-minute":return zl;case"approximate":return Vl;case"time":case"approximate-time":return Wl;case"mini":return ac;case"mini-now":return uc;case"mini-minute":return cc;case"mini-minute-now":return fc;case"twitter":return Xl;case"twitter-now":return Ql;case"twitter-minute":return tc;case"twitter-minute-now":return nc;case"twitter-first-minute":return oc;default:return Vl}}function dc(t){return(dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function gc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var yc,wc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.polyfill;gc(this,t),"string"==typeof e&&(e=[e]),this.locale=vl(e.concat(t.getDefaultLocale()),Dl),"undefined"!=typeof Intl&&Intl.NumberFormat&&(this.numberFormat=new Intl.NumberFormat(this.locale)),!1===r?(this.IntlRelativeTimeFormat=Intl.RelativeTimeFormat,this.IntlPluralRules=Intl.PluralRules):(this.IntlRelativeTimeFormat=al,this.IntlPluralRules=al.PluralRules),this.relativeTimeFormatCache=new pl,this.pluralRulesCache=new pl}var e,n,r;return e=t,(n=[{key:"format",value:function(t,e,n){var r,i;n||(!e||"string"==typeof(r=e)||function(t){return void 0!==dc(t)&&null!==t&&t.constructor===_c}(i=r)&&(Array.isArray(i.steps)||Array.isArray(i.gradation)||Array.isArray(i.flavour)||"string"==typeof i.flavour||Array.isArray(i.labels)||"string"==typeof i.labels||Array.isArray(i.units)||"function"==typeof i.custom)?n={}:(n=e,e=void 0)),e||(e=zl),"string"==typeof e&&(e=pc(e));var o,a=function(t){if(t.constructor===Date||function(t){return"object"===dc(t)&&"function"==typeof t.getTime}(t))return t.getTime();if("number"==typeof t)return t;throw new Error("Unsupported relative time formatter input: ".concat(dc(t),", ").concat(t))}(t),s=this.getLabels(e.flavour||e.labels),u=s.labels,l=s.labelsType;void 0!==e.now&&(o=e.now),void 0===o&&void 0!==n.now&&(o=n.now),void 0===o&&(o=Date.now());var c=(o-a)/1e3,h=n.future||c<0,f=function(t,e,n,r){var i=t.now||e&&e.now;return i?"string"==typeof i?i:r?i.future:i.past:n&&n.second&&n.second.current?n.second.current:void 0}(u,Dl(this.locale).now,Dl(this.locale).long,h);if(e.custom){var p=e.custom({now:o,date:new Date(a),time:a,elapsed:c,locale:this.locale});if(void 0!==p)return p}var d=function(t,e,n){var r=Object.keys(e);return n&&r.push("now"),t&&(r=t.filter((function(t){return"now"===t||r.indexOf(t)>=0}))),r}(e.units,u,f),v=n.round||e.round,g=vc(Al(e.gradation||e.steps||zl.steps,c,{now:o,units:d,round:v,future:h,getNextStep:!0}),3),m=g[0],y=g[1],w=g[2],b=this.formatDateForStep(a,y,c,{labels:u,labelsType:l,nowLabel:f,now:o,future:h,round:v})||"";return n.getTimeToNextUpdate?[b,jl(a,y,{nextStep:w,prevStep:m,now:o,future:h,round:v})]:b}},{key:"formatDateForStep",value:function(t,e,n,r){var i=this,o=r.labels,a=r.labelsType,s=r.nowLabel,u=r.now,l=r.future,c=r.round;if(e){if(e.format)return e.format(t,this.locale,{formatAs:function(t,e){return i.formatValue(e,t,{labels:o,future:l})},now:u,future:l});var h=e.unit||e.formatAs;if(!h)throw new Error("[javascript-time-ago] Each step must define either `formatAs` or `format()`. Step: ".concat(JSON.stringify(e)));if("now"===h)return s;var f=Math.abs(n)/kl(e);e.granularity&&(f=Il(c)(f/e.granularity)*e.granularity);var p=-1*Math.sign(n)*Il(c)(f);switch(0===p&&(p=l?0:-0),a){case"long":case"short":case"narrow":return this.getFormatter(a).format(p,h);default:return this.formatValue(p,h,{labels:o,future:l})}}}},{key:"formatValue",value:function(t,e,n){var r=n.labels,i=n.future;return this.getFormattingRule(r,e,t,{future:i}).replace("{0}",this.formatNumber(Math.abs(t)))}},{key:"getFormattingRule",value:function(t,e,n,r){var i=r.future;if(this.locale,"string"==typeof(t=t[e]))return t;var o=t[0===n?i?"future":"past":n<0?"past":"future"]||t;return"string"==typeof o?o:o[this.getPluralRules().select(Math.abs(n))]||o.other}},{key:"formatNumber",value:function(t){return this.numberFormat?this.numberFormat.format(t):String(t)}},{key:"getFormatter",value:function(t){return this.relativeTimeFormatCache.get(this.locale,t)||this.relativeTimeFormatCache.put(this.locale,t,new this.IntlRelativeTimeFormat(this.locale,{style:t}))}},{key:"getPluralRules",value:function(){return this.pluralRulesCache.get(this.locale)||this.pluralRulesCache.put(this.locale,new this.IntlPluralRules(this.locale))}},{key:"getLabels",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];"string"==typeof t&&(t=[t]),t=(t=t.map((function(t){switch(t){case"tiny":case"mini-time":return"mini";default:return t}}))).concat("long");var e=Dl(this.locale),n=t,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var a=o;if(e[a])return{labelsType:a,labels:e[a]}}}}])&&mc(e.prototype,n),r&&mc(e,r),t}(),bc="en";wc.getDefaultLocale=function(){return bc},wc.setDefaultLocale=function(t){return bc=t},wc.addDefaultLocale=function(t){if(yc)return console.error("[javascript-time-ago] `TimeAgo.addDefaultLocale()` can only be called once. To add other locales, use `TimeAgo.addLocale()`.");yc=!0,wc.setDefaultLocale(t.locale),wc.addLocale(t)},wc.addLocale=function(t){Ll(t),al.addLocale(t)},wc.locale=wc.addLocale,wc.addLabels=function(t,e,n){var r=Dl(t);r||(Ll({locale:t}),r=Dl(t)),r[e]=n};var _c={}.constructor;var xc={locale:"en",long:{year:{previous:"last year",current:"this year",next:"next year",past:{one:"{0} year ago",other:"{0} years ago"},future:{one:"in {0} year",other:"in {0} years"}},quarter:{previous:"last quarter",current:"this quarter",next:"next quarter",past:{one:"{0} quarter ago",other:"{0} quarters ago"},future:{one:"in {0} quarter",other:"in {0} quarters"}},month:{previous:"last month",current:"this month",next:"next month",past:{one:"{0} month ago",other:"{0} months ago"},future:{one:"in {0} month",other:"in {0} months"}},week:{previous:"last week",current:"this week",next:"next week",past:{one:"{0} week ago",other:"{0} weeks ago"},future:{one:"in {0} week",other:"in {0} weeks"}},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:{one:"{0} hour ago",other:"{0} hours ago"},future:{one:"in {0} hour",other:"in {0} hours"}},minute:{current:"this minute",past:{one:"{0} minute ago",other:"{0} minutes ago"},future:{one:"in {0} minute",other:"in {0} minutes"}},second:{current:"now",past:{one:"{0} second ago",other:"{0} seconds ago"},future:{one:"in {0} second",other:"in {0} seconds"}}},short:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0} yr. ago",future:"in {0} yr."},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},future:{one:"in {0} qtr.",other:"in {0} qtrs."}},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0} mo. ago",future:"in {0} mo."},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0} wk. ago",future:"in {0} wk."},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:"{0} hr. ago",future:"in {0} hr."},minute:{current:"this minute",past:"{0} min. ago",future:"in {0} min."},second:{current:"now",past:"{0} sec. ago",future:"in {0} sec."}},narrow:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0} yr. ago",future:"in {0} yr."},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},future:{one:"in {0} qtr.",other:"in {0} qtrs."}},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0} mo. ago",future:"in {0} mo."},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0} wk. ago",future:"in {0} wk."},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:"{0} hr. ago",future:"in {0} hr."},minute:{current:"this minute",past:"{0} min. ago",future:"in {0} min."},second:{current:"now",past:"{0} sec. ago",future:"in {0} sec."}},now:{now:{current:"now",future:"in a moment",past:"just now"}},mini:{year:"{0}yr",month:"{0}mo",week:"{0}wk",day:"{0}d",hour:"{0}h",minute:"{0}m",second:"{0}s",now:"now"},"short-time":{year:"{0} yr.",month:"{0} mo.",week:"{0} wk.",day:{one:"{0} day",other:"{0} days"},hour:"{0} hr.",minute:"{0} min.",second:"{0} sec."},"long-time":{year:{one:"{0} year",other:"{0} years"},month:{one:"{0} month",other:"{0} months"},week:{one:"{0} week",other:"{0} weeks"},day:{one:"{0} day",other:"{0} days"},hour:{one:"{0} hour",other:"{0} hours"},minute:{one:"{0} minute",other:"{0} minutes"},second:{one:"{0} second",other:"{0} seconds"}}};function kc(t,e,n){const r=t.slice();return r[15]=e[n],r}function Ic(t,e,n){const r=t.slice();return r[15]=e[n],r}function Cc(t,e,n){const r=t.slice();return r[8]=e[n],r}function Tc(t,e,n){const r=t.slice();return r[11]=e[n],r[13]=n,r}function Sc(t,e,n){const r=t.slice();return r[11]=e[n],r[13]=n,r}function Ec(t,e,n){const r=t.slice();return r[5]=e[n],r}function Nc(t){let e,n,r,i;const o=[Oc,Pc,Ac],a=[];function s(t,e){return"table"===t[0]?0:"list"===t[0]?1:2}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=S()},m(t,n){a[e].m(t,n),b(t,r,n),i=!0},p(t,i){let u=e;e=s(t),e===u?a[e].p(t,i):(G(),J(a[u],1,1,(()=>{a[u]=null})),Y(),n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),X(n,1),n.m(r.parentNode,r))},i(t){i||(X(n),i=!0)},o(t){J(n),i=!1},d(t){a[e].d(t),t&&_(r)}}}function qc(t){let e,n,r=t[1],i=[];for(let e=0;e<r.length;e+=1)i[e]=eh(Ec(t,r,e));const o=t=>J(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=S()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);b(t,e,r),n=!0},p(t,n){if(10&n){let a;for(r=t[1],a=0;a<r.length;a+=1){const o=Ec(t,r,a);i[a]?(i[a].p(o,n),X(i[a],1)):(i[a]=eh(o),i[a].c(),X(i[a],1),i[a].m(e.parentNode,e))}for(G(),a=r.length;a<i.length;a+=1)o(a);Y()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)X(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)J(i[t]);n=!1},d(t){x(i,t),t&&_(e)}}}function Ac(t){let n,r,i;const o=[t[4]];var a=t[3][t[0]];function s(t){let n={$$slots:{default:[$c]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)n=e(n,o[t]);return{props:n}}return a&&(n=new a(s(t))),{c(){n&&rt(n.$$.fragment),r=S()},m(t,e){n&&it(n,t,e),b(t,r,e),i=!0},p(t,e){const i=16&e?et(o,[nt(t[4])]):{};if(1048602&e&&(i.$$scope={dirty:e,ctx:t}),a!==(a=t[3][t[0]])){if(n){G();const t=n;J(t.$$.fragment,1,0,(()=>{ot(t,1)})),Y()}a?(n=new a(s(t)),rt(n.$$.fragment),X(n.$$.fragment,1),it(n,r.parentNode,r)):n=null}else a&&n.$set(i)},i(t){i||(n&&X(n.$$.fragment,t),i=!0)},o(t){n&&J(n.$$.fragment,t),i=!1},d(t){t&&_(r),n&&ot(n,t)}}}function Pc(t){let e,n,r,i;const o=[Lc,Dc],a=[];function s(t,e){return t[2]?0:1}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=S()},m(t,n){a[e].m(t,n),b(t,r,n),i=!0},p(t,i){let u=e;e=s(t),e===u?a[e].p(t,i):(G(),J(a[u],1,1,(()=>{a[u]=null})),Y(),n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),X(n,1),n.m(r.parentNode,r))},i(t){i||(X(n),i=!0)},o(t){J(n),i=!1},d(t){a[e].d(t),t&&_(r)}}}function Oc(t){let e,n,r;var i=t[3].table;function o(t){return{props:{$$slots:{default:[th]},$$scope:{ctx:t}}}}return i&&(e=new i(o(t))),{c(){e&&rt(e.$$.fragment),n=S()},m(t,i){e&&it(e,t,i),b(t,n,i),r=!0},p(t,r){const a={};if(1048602&r&&(a.$$scope={dirty:r,ctx:t}),i!==(i=t[3].table)){if(e){G();const t=e;J(t.$$.fragment,1,0,(()=>{ot(t,1)})),Y()}i?(e=new i(o(t)),rt(e.$$.fragment),X(e.$$.fragment,1),it(e,n.parentNode,n)):e=null}else i&&e.$set(a)},i(t){r||(e&&X(e.$$.fragment,t),r=!0)},o(t){e&&J(e.$$.fragment,t),r=!1},d(t){t&&_(n),e&&ot(e,t)}}}function Rc(e){let n,r=e[4].raw+"";return{c(){n=C(r)},m(t,e){b(t,n,e)},p(t,e){16&e&&r!==(r=t[4].raw+"")&&q(n,r)},i:t,o:t,d(t){t&&_(n)}}}function jc(t){let e,n;return e=new ih({props:{tokens:t[1],renderers:t[3]}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.tokens=t[1]),8&n&&(r.renderers=t[3]),e.$set(r)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function $c(t){let e,n,r,i;const o=[jc,Rc],a=[];function s(t,e){return t[1]?0:1}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=S()},m(t,n){a[e].m(t,n),b(t,r,n),i=!0},p(t,i){let u=e;e=s(t),e===u?a[e].p(t,i):(G(),J(a[u],1,1,(()=>{a[u]=null})),Y(),n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),X(n,1),n.m(r.parentNode,r))},i(t){i||(X(n),i=!0)},o(t){J(n),i=!1},d(t){a[e].d(t),t&&_(r)}}}function Dc(t){let n,r,i;const o=[{ordered:t[2]},t[4]];var a=t[3].list;function s(t){let n={$$slots:{default:[zc]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)n=e(n,o[t]);return{props:n}}return a&&(n=new a(s(t))),{c(){n&&rt(n.$$.fragment),r=S()},m(t,e){n&&it(n,t,e),b(t,r,e),i=!0},p(t,e){const i=20&e?et(o,[4&e&&{ordered:t[2]},16&e&&nt(t[4])]):{};if(1048600&e&&(i.$$scope={dirty:e,ctx:t}),a!==(a=t[3].list)){if(n){G();const t=n;J(t.$$.fragment,1,0,(()=>{ot(t,1)})),Y()}a?(n=new a(s(t)),rt(n.$$.fragment),X(n.$$.fragment,1),it(n,r.parentNode,r)):n=null}else a&&n.$set(i)},i(t){i||(n&&X(n.$$.fragment,t),i=!0)},o(t){n&&J(n.$$.fragment,t),i=!1},d(t){t&&_(r),n&&ot(n,t)}}}function Lc(t){let n,r,i;const o=[{ordered:t[2]},t[4]];var a=t[3].list;function s(t){let n={$$slots:{default:[Wc]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)n=e(n,o[t]);return{props:n}}return a&&(n=new a(s(t))),{c(){n&&rt(n.$$.fragment),r=S()},m(t,e){n&&it(n,t,e),b(t,r,e),i=!0},p(t,e){const i=20&e?et(o,[4&e&&{ordered:t[2]},16&e&&nt(t[4])]):{};if(1048600&e&&(i.$$scope={dirty:e,ctx:t}),a!==(a=t[3].list)){if(n){G();const t=n;J(t.$$.fragment,1,0,(()=>{ot(t,1)})),Y()}a?(n=new a(s(t)),rt(n.$$.fragment),X(n.$$.fragment,1),it(n,r.parentNode,r)):n=null}else a&&n.$set(i)},i(t){i||(n&&X(n.$$.fragment,t),i=!0)},o(t){n&&J(n.$$.fragment,t),i=!1},d(t){t&&_(r),n&&ot(n,t)}}}function Mc(t){let e,n,r;return e=new ih({props:{tokens:t[15].tokens,renderers:t[3]}}),{c(){rt(e.$$.fragment),n=T()},m(t,i){it(e,t,i),b(t,n,i),r=!0},p(t,n){const r={};16&n&&(r.tokens=t[15].tokens),8&n&&(r.renderers=t[3]),e.$set(r)},i(t){r||(X(e.$$.fragment,t),r=!0)},o(t){J(e.$$.fragment,t),r=!1},d(t){ot(e,t),t&&_(n)}}}function Fc(t){let n,r,i;const o=[t[15]];var a=t[3].unorderedlistitem||t[3].listitem;function s(t){let n={$$slots:{default:[Mc]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)n=e(n,o[t]);return{props:n}}return a&&(n=new a(s(t))),{c(){n&&rt(n.$$.fragment),r=S()},m(t,e){n&&it(n,t,e),b(t,r,e),i=!0},p(t,e){const i=16&e?et(o,[nt(t[15])]):{};if(1048600&e&&(i.$$scope={dirty:e,ctx:t}),a!==(a=t[3].unorderedlistitem||t[3].listitem)){if(n){G();const t=n;J(t.$$.fragment,1,0,(()=>{ot(t,1)})),Y()}a?(n=new a(s(t)),rt(n.$$.fragment),X(n.$$.fragment,1),it(n,r.parentNode,r)):n=null}else a&&n.$set(i)},i(t){i||(n&&X(n.$$.fragment,t),i=!0)},o(t){n&&J(n.$$.fragment,t),i=!1},d(t){t&&_(r),n&&ot(n,t)}}}function zc(t){let e,n,r=t[4].items,i=[];for(let e=0;e<r.length;e+=1)i[e]=Fc(kc(t,r,e));const o=t=>J(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=S()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);b(t,e,r),n=!0},p(t,n){if(24&n){let a;for(r=t[4].items,a=0;a<r.length;a+=1){const o=kc(t,r,a);i[a]?(i[a].p(o,n),X(i[a],1)):(i[a]=Fc(o),i[a].c(),X(i[a],1),i[a].m(e.parentNode,e))}for(G(),a=r.length;a<i.length;a+=1)o(a);Y()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)X(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)J(i[t]);n=!1},d(t){x(i,t),t&&_(e)}}}function Uc(t){let e,n,r;return e=new ih({props:{tokens:t[15].tokens,renderers:t[3]}}),{c(){rt(e.$$.fragment),n=T()},m(t,i){it(e,t,i),b(t,n,i),r=!0},p(t,n){const r={};16&n&&(r.tokens=t[15].tokens),8&n&&(r.renderers=t[3]),e.$set(r)},i(t){r||(X(e.$$.fragment,t),r=!0)},o(t){J(e.$$.fragment,t),r=!1},d(t){ot(e,t),t&&_(n)}}}function Vc(t){let n,r,i;const o=[t[15]];var a=t[3].orderedlistitem||t[3].listitem;function s(t){let n={$$slots:{default:[Uc]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)n=e(n,o[t]);return{props:n}}return a&&(n=new a(s(t))),{c(){n&&rt(n.$$.fragment),r=S()},m(t,e){n&&it(n,t,e),b(t,r,e),i=!0},p(t,e){const i=16&e?et(o,[nt(t[15])]):{};if(1048600&e&&(i.$$scope={dirty:e,ctx:t}),a!==(a=t[3].orderedlistitem||t[3].listitem)){if(n){G();const t=n;J(t.$$.fragment,1,0,(()=>{ot(t,1)})),Y()}a?(n=new a(s(t)),rt(n.$$.fragment),X(n.$$.fragment,1),it(n,r.parentNode,r)):n=null}else a&&n.$set(i)},i(t){i||(n&&X(n.$$.fragment,t),i=!0)},o(t){n&&J(n.$$.fragment,t),i=!1},d(t){t&&_(r),n&&ot(n,t)}}}function Wc(t){let e,n,r=t[4].items,i=[];for(let e=0;e<r.length;e+=1)i[e]=Vc(Ic(t,r,e));const o=t=>J(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=S()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);b(t,e,r),n=!0},p(t,n){if(24&n){let a;for(r=t[4].items,a=0;a<r.length;a+=1){const o=Ic(t,r,a);i[a]?(i[a].p(o,n),X(i[a],1)):(i[a]=Vc(o),i[a].c(),X(i[a],1),i[a].m(e.parentNode,e))}for(G(),a=r.length;a<i.length;a+=1)o(a);Y()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)X(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)J(i[t]);n=!1},d(t){x(i,t),t&&_(e)}}}function Bc(t){let e,n,r;return e=new ih({props:{tokens:t[11],renderers:t[3]}}),{c(){rt(e.$$.fragment),n=T()},m(t,i){it(e,t,i),b(t,n,i),r=!0},p(t,n){const r={};2&n&&(r.tokens=t[11]),8&n&&(r.renderers=t[3]),e.$set(r)},i(t){r||(X(e.$$.fragment,t),r=!0)},o(t){J(e.$$.fragment,t),r=!1},d(t){ot(e,t),t&&_(n)}}}function Hc(t){let e,n,r;var i=t[3].tablecell;function o(t){return{props:{header:!0,align:t[4].align[t[13]]||"center",$$slots:{default:[Bc]},$$scope:{ctx:t}}}}return i&&(e=new i(o(t))),{c(){e&&rt(e.$$.fragment),n=S()},m(t,i){e&&it(e,t,i),b(t,n,i),r=!0},p(t,r){const a={};if(16&r&&(a.align=t[4].align[t[13]]||"center"),1048586&r&&(a.$$scope={dirty:r,ctx:t}),i!==(i=t[3].tablecell)){if(e){G();const t=e;J(t.$$.fragment,1,0,(()=>{ot(t,1)})),Y()}i?(e=new i(o(t)),rt(e.$$.fragment),X(e.$$.fragment,1),it(e,n.parentNode,n)):e=null}else i&&e.$set(a)},i(t){r||(e&&X(e.$$.fragment,t),r=!0)},o(t){e&&J(e.$$.fragment,t),r=!1},d(t){t&&_(n),e&&ot(e,t)}}}function Kc(t){let e,n,r=t[1].header,i=[];for(let e=0;e<r.length;e+=1)i[e]=Hc(Sc(t,r,e));const o=t=>J(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=S()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);b(t,e,r),n=!0},p(t,n){if(26&n){let a;for(r=t[1].header,a=0;a<r.length;a+=1){const o=Sc(t,r,a);i[a]?(i[a].p(o,n),X(i[a],1)):(i[a]=Hc(o),i[a].c(),X(i[a],1),i[a].m(e.parentNode,e))}for(G(),a=r.length;a<i.length;a+=1)o(a);Y()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)X(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)J(i[t]);n=!1},d(t){x(i,t),t&&_(e)}}}function Gc(t){let e,n,r;var i=t[3].tablerow;function o(t){return{props:{$$slots:{default:[Kc]},$$scope:{ctx:t}}}}return i&&(e=new i(o(t))),{c(){e&&rt(e.$$.fragment),n=S()},m(t,i){e&&it(e,t,i),b(t,n,i),r=!0},p(t,r){const a={};if(1048602&r&&(a.$$scope={dirty:r,ctx:t}),i!==(i=t[3].tablerow)){if(e){G();const t=e;J(t.$$.fragment,1,0,(()=>{ot(t,1)})),Y()}i?(e=new i(o(t)),rt(e.$$.fragment),X(e.$$.fragment,1),it(e,n.parentNode,n)):e=null}else i&&e.$set(a)},i(t){r||(e&&X(e.$$.fragment,t),r=!0)},o(t){e&&J(e.$$.fragment,t),r=!1},d(t){t&&_(n),e&&ot(e,t)}}}function Yc(t){let e,n;return e=new ih({props:{tokens:t[11],renderers:t[3]}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.tokens=t[11]),8&n&&(r.renderers=t[3]),e.$set(r)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function Xc(t){let e,n,r;var i=t[3].tablecell;function o(t){return{props:{header:!1,align:t[4].align[t[13]]||"center",$$slots:{default:[Yc]},$$scope:{ctx:t}}}}return i&&(e=new i(o(t))),{c(){e&&rt(e.$$.fragment),n=S()},m(t,i){e&&it(e,t,i),b(t,n,i),r=!0},p(t,r){const a={};if(16&r&&(a.align=t[4].align[t[13]]||"center"),1048586&r&&(a.$$scope={dirty:r,ctx:t}),i!==(i=t[3].tablecell)){if(e){G();const t=e;J(t.$$.fragment,1,0,(()=>{ot(t,1)})),Y()}i?(e=new i(o(t)),rt(e.$$.fragment),X(e.$$.fragment,1),it(e,n.parentNode,n)):e=null}else i&&e.$set(a)},i(t){r||(e&&X(e.$$.fragment,t),r=!0)},o(t){e&&J(e.$$.fragment,t),r=!1},d(t){t&&_(n),e&&ot(e,t)}}}function Jc(t){let e,n,r=t[8],i=[];for(let e=0;e<r.length;e+=1)i[e]=Xc(Tc(t,r,e));const o=t=>J(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=T()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);b(t,e,r),n=!0},p(t,n){if(26&n){let a;for(r=t[8],a=0;a<r.length;a+=1){const o=Tc(t,r,a);i[a]?(i[a].p(o,n),X(i[a],1)):(i[a]=Xc(o),i[a].c(),X(i[a],1),i[a].m(e.parentNode,e))}for(G(),a=r.length;a<i.length;a+=1)o(a);Y()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)X(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)J(i[t]);n=!1},d(t){x(i,t),t&&_(e)}}}function Qc(t){let e,n,r;var i=t[3].tablerow;function o(t){return{props:{$$slots:{default:[Jc]},$$scope:{ctx:t}}}}return i&&(e=new i(o(t))),{c(){e&&rt(e.$$.fragment),n=S()},m(t,i){e&&it(e,t,i),b(t,n,i),r=!0},p(t,r){const a={};if(1048602&r&&(a.$$scope={dirty:r,ctx:t}),i!==(i=t[3].tablerow)){if(e){G();const t=e;J(t.$$.fragment,1,0,(()=>{ot(t,1)})),Y()}i?(e=new i(o(t)),rt(e.$$.fragment),X(e.$$.fragment,1),it(e,n.parentNode,n)):e=null}else i&&e.$set(a)},i(t){r||(e&&X(e.$$.fragment,t),r=!0)},o(t){e&&J(e.$$.fragment,t),r=!1},d(t){t&&_(n),e&&ot(e,t)}}}function Zc(t){let e,n,r=t[1].cells,i=[];for(let e=0;e<r.length;e+=1)i[e]=Qc(Cc(t,r,e));const o=t=>J(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=S()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);b(t,e,r),n=!0},p(t,n){if(26&n){let a;for(r=t[1].cells,a=0;a<r.length;a+=1){const o=Cc(t,r,a);i[a]?(i[a].p(o,n),X(i[a],1)):(i[a]=Qc(o),i[a].c(),X(i[a],1),i[a].m(e.parentNode,e))}for(G(),a=r.length;a<i.length;a+=1)o(a);Y()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)X(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)J(i[t]);n=!1},d(t){x(i,t),t&&_(e)}}}function th(t){let e,n,r,i,o;var a=t[3].tablehead;function s(t){return{props:{$$slots:{default:[Gc]},$$scope:{ctx:t}}}}a&&(e=new a(s(t)));var u=t[3].tablebody;function l(t){return{props:{$$slots:{default:[Zc]},$$scope:{ctx:t}}}}return u&&(r=new u(l(t))),{c(){e&&rt(e.$$.fragment),n=T(),r&&rt(r.$$.fragment),i=S()},m(t,a){e&&it(e,t,a),b(t,n,a),r&&it(r,t,a),b(t,i,a),o=!0},p(t,o){const c={};if(1048602&o&&(c.$$scope={dirty:o,ctx:t}),a!==(a=t[3].tablehead)){if(e){G();const t=e;J(t.$$.fragment,1,0,(()=>{ot(t,1)})),Y()}a?(e=new a(s(t)),rt(e.$$.fragment),X(e.$$.fragment,1),it(e,n.parentNode,n)):e=null}else a&&e.$set(c);const h={};if(1048602&o&&(h.$$scope={dirty:o,ctx:t}),u!==(u=t[3].tablebody)){if(r){G();const t=r;J(t.$$.fragment,1,0,(()=>{ot(t,1)})),Y()}u?(r=new u(l(t)),rt(r.$$.fragment),X(r.$$.fragment,1),it(r,i.parentNode,i)):r=null}else u&&r.$set(h)},i(t){o||(e&&X(e.$$.fragment,t),r&&X(r.$$.fragment,t),o=!0)},o(t){e&&J(e.$$.fragment,t),r&&J(r.$$.fragment,t),o=!1},d(t){e&&ot(e,t),t&&_(n),t&&_(i),r&&ot(r,t)}}}function eh(t){let n,r;const i=[t[5],{renderers:t[3]}];let o={};for(let t=0;t<i.length;t+=1)o=e(o,i[t]);return n=new ih({props:o}),{c(){rt(n.$$.fragment)},m(t,e){it(n,t,e),r=!0},p(t,e){const r=10&e?et(i,[2&e&&nt(t[5]),8&e&&{renderers:t[3]}]):{};n.$set(r)},i(t){r||(X(n.$$.fragment,t),r=!0)},o(t){J(n.$$.fragment,t),r=!1},d(t){ot(n,t)}}}function nh(t){let e,n,r,i;const o=[qc,Nc],a=[];function s(t,e){return t[0]?t[3][t[0]]?1:-1:0}return~(e=s(t))&&(n=a[e]=o[e](t)),{c(){n&&n.c(),r=S()},m(t,n){~e&&a[e].m(t,n),b(t,r,n),i=!0},p(t,[i]){let u=e;e=s(t),e===u?~e&&a[e].p(t,i):(n&&(G(),J(a[u],1,1,(()=>{a[u]=null})),Y()),~e?(n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),X(n,1),n.m(r.parentNode,r)):n=null)},i(t){i||(X(n),i=!0)},o(t){J(n),i=!1},d(t){~e&&a[e].d(t),t&&_(r)}}}function rh(t,n,r){const i=["type","tokens","ordered","renderers"];let o=g(n,i),{type:a}=n,{tokens:s}=n,{ordered:u=!1}=n,{renderers:l}=n;return t.$$set=t=>{n=e(e({},n),function(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}(t)),r(4,o=g(n,i)),"type"in t&&r(0,a=t.type),"tokens"in t&&r(1,s=t.tokens),"ordered"in t&&r(2,u=t.ordered),"renderers"in t&&r(3,l=t.renderers)},[a,s,u,l,o]}class ih extends ut{constructor(t){super(),st(this,t,rh,nh,a,{type:0,tokens:1,ordered:2,renderers:3})}}function oh(e){let n;return{c(){n=C(e[1])},m(t,e){b(t,n,e)},p(t,e){2&e&&q(n,t[1])},i:t,o:t,d(t){t&&_(n)}}}function ah(t){let e,n;const r=t[3].default,i=h(r,t,t[2],null);return{c(){e=k("h6"),i&&i.c()},m(t,r){b(t,e,r),i&&i.m(e,null),n=!0},p(t,e){i&&i.p&&(!n||4&e)&&d(i,r,t,t[2],n?p(r,t[2],e,null):v(t[2]),null)},i(t){n||(X(i,t),n=!0)},o(t){J(i,t),n=!1},d(t){t&&_(e),i&&i.d(t)}}}function sh(t){let e,n;const r=t[3].default,i=h(r,t,t[2],null);return{c(){e=k("h5"),i&&i.c()},m(t,r){b(t,e,r),i&&i.m(e,null),n=!0},p(t,e){i&&i.p&&(!n||4&e)&&d(i,r,t,t[2],n?p(r,t[2],e,null):v(t[2]),null)},i(t){n||(X(i,t),n=!0)},o(t){J(i,t),n=!1},d(t){t&&_(e),i&&i.d(t)}}}function uh(t){let e,n;const r=t[3].default,i=h(r,t,t[2],null);return{c(){e=k("h4"),i&&i.c()},m(t,r){b(t,e,r),i&&i.m(e,null),n=!0},p(t,e){i&&i.p&&(!n||4&e)&&d(i,r,t,t[2],n?p(r,t[2],e,null):v(t[2]),null)},i(t){n||(X(i,t),n=!0)},o(t){J(i,t),n=!1},d(t){t&&_(e),i&&i.d(t)}}}function lh(t){let e,n;const r=t[3].default,i=h(r,t,t[2],null);return{c(){e=k("h3"),i&&i.c()},m(t,r){b(t,e,r),i&&i.m(e,null),n=!0},p(t,e){i&&i.p&&(!n||4&e)&&d(i,r,t,t[2],n?p(r,t[2],e,null):v(t[2]),null)},i(t){n||(X(i,t),n=!0)},o(t){J(i,t),n=!1},d(t){t&&_(e),i&&i.d(t)}}}function ch(t){let e,n;const r=t[3].default,i=h(r,t,t[2],null);return{c(){e=k("h2"),i&&i.c()},m(t,r){b(t,e,r),i&&i.m(e,null),n=!0},p(t,e){i&&i.p&&(!n||4&e)&&d(i,r,t,t[2],n?p(r,t[2],e,null):v(t[2]),null)},i(t){n||(X(i,t),n=!0)},o(t){J(i,t),n=!1},d(t){t&&_(e),i&&i.d(t)}}}function hh(t){let e,n;const r=t[3].default,i=h(r,t,t[2],null);return{c(){e=k("h1"),i&&i.c()},m(t,r){b(t,e,r),i&&i.m(e,null),n=!0},p(t,e){i&&i.p&&(!n||4&e)&&d(i,r,t,t[2],n?p(r,t[2],e,null):v(t[2]),null)},i(t){n||(X(i,t),n=!0)},o(t){J(i,t),n=!1},d(t){t&&_(e),i&&i.d(t)}}}function fh(t){let e,n,r,i;const o=[hh,ch,lh,uh,sh,ah,oh],a=[];function s(t,e){return 1===t[0]?0:2===t[0]?1:3===t[0]?2:4===t[0]?3:5===t[0]?4:6===t[0]?5:6}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=S()},m(t,n){a[e].m(t,n),b(t,r,n),i=!0},p(t,[i]){let u=e;e=s(t),e===u?a[e].p(t,i):(G(),J(a[u],1,1,(()=>{a[u]=null})),Y(),n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),X(n,1),n.m(r.parentNode,r))},i(t){i||(X(n),i=!0)},o(t){J(n),i=!1},d(t){a[e].d(t),t&&_(r)}}}function ph(t,e,n){let{$$slots:r={},$$scope:i}=e,{depth:o}=e,{raw:a}=e;return t.$$set=t=>{"depth"in t&&n(0,o=t.depth),"raw"in t&&n(1,a=t.raw),"$$scope"in t&&n(2,i=t.$$scope)},[o,a,i,r]}function dh(t){let e,n;const r=t[1].default,i=h(r,t,t[0],null);return{c(){e=k("p"),i&&i.c()},m(t,r){b(t,e,r),i&&i.m(e,null),n=!0},p(t,[e]){i&&i.p&&(!n||1&e)&&d(i,r,t,t[0],n?p(r,t[0],e,null):v(t[0]),null)},i(t){n||(X(i,t),n=!0)},o(t){J(i,t),n=!1},d(t){t&&_(e),i&&i.d(t)}}}function vh(t,e,n){let{$$slots:r={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}function gh(t){let e;const n=t[1].default,r=h(n,t,t[0],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,[i]){r&&r.p&&(!e||1&i)&&d(r,n,t,t[0],e?p(n,t[0],i,null):v(t[0]),null)},i(t){e||(X(r,t),e=!0)},o(t){J(r,t),e=!1},d(t){r&&r.d(t)}}}function mh(t,e,n){let{$$slots:r={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}function yh(e){let n,r;return{c(){n=k("img"),l(n.src,r=e[0])||N(n,"src",r),N(n,"title",e[1]),N(n,"alt",e[2])},m(t,e){b(t,n,e)},p(t,[e]){1&e&&!l(n.src,r=t[0])&&N(n,"src",r),2&e&&N(n,"title",t[1]),4&e&&N(n,"alt",t[2])},i:t,o:t,d(t){t&&_(n)}}}function wh(t,e,n){let{href:r=""}=e,{title:i}=e,{text:o=""}=e;return t.$$set=t=>{"href"in t&&n(0,r=t.href),"title"in t&&n(1,i=t.title),"text"in t&&n(2,o=t.text)},[r,i,o]}function bh(t){let e,n;const r=t[3].default,i=h(r,t,t[2],null);return{c(){e=k("a"),i&&i.c(),N(e,"href",t[0]),N(e,"title",t[1])},m(t,r){b(t,e,r),i&&i.m(e,null),n=!0},p(t,[o]){i&&i.p&&(!n||4&o)&&d(i,r,t,t[2],n?p(r,t[2],o,null):v(t[2]),null),(!n||1&o)&&N(e,"href",t[0]),(!n||2&o)&&N(e,"title",t[1])},i(t){n||(X(i,t),n=!0)},o(t){J(i,t),n=!1},d(t){t&&_(e),i&&i.d(t)}}}function _h(t,e,n){let{$$slots:r={},$$scope:i}=e,{href:o=""}=e,{title:a}=e;return t.$$set=t=>{"href"in t&&n(0,o=t.href),"title"in t&&n(1,a=t.title),"$$scope"in t&&n(2,i=t.$$scope)},[o,a,i,r]}function xh(t){let e,n;const r=t[1].default,i=h(r,t,t[0],null);return{c(){e=k("em"),i&&i.c()},m(t,r){b(t,e,r),i&&i.m(e,null),n=!0},p(t,[e]){i&&i.p&&(!n||1&e)&&d(i,r,t,t[0],n?p(r,t[0],e,null):v(t[0]),null)},i(t){n||(X(i,t),n=!0)},o(t){J(i,t),n=!1},d(t){t&&_(e),i&&i.d(t)}}}function kh(t,e,n){let{$$slots:r={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}function Ih(t){let e,n;const r=t[1].default,i=h(r,t,t[0],null);return{c(){e=k("del"),i&&i.c()},m(t,r){b(t,e,r),i&&i.m(e,null),n=!0},p(t,[e]){i&&i.p&&(!n||1&e)&&d(i,r,t,t[0],n?p(r,t[0],e,null):v(t[0]),null)},i(t){n||(X(i,t),n=!0)},o(t){J(i,t),n=!1},d(t){t&&_(e),i&&i.d(t)}}}function Ch(t,e,n){let{$$slots:r={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}function Th(e){let n,r,i=e[0].replace(/`/g,"")+"";return{c(){n=k("code"),r=C(i)},m(t,e){b(t,n,e),y(n,r)},p(t,[e]){1&e&&i!==(i=t[0].replace(/`/g,"")+"")&&q(r,i)},i:t,o:t,d(t){t&&_(n)}}}function Sh(t,e,n){let{raw:r}=e;return t.$$set=t=>{"raw"in t&&n(0,r=t.raw)},[r]}function Eh(t){let e,n;const r=t[1].default,i=h(r,t,t[0],null);return{c(){e=k("strong"),i&&i.c()},m(t,r){b(t,e,r),i&&i.m(e,null),n=!0},p(t,[e]){i&&i.p&&(!n||1&e)&&d(i,r,t,t[0],n?p(r,t[0],e,null):v(t[0]),null)},i(t){n||(X(i,t),n=!0)},o(t){J(i,t),n=!1},d(t){t&&_(e),i&&i.d(t)}}}function Nh(t,e,n){let{$$slots:r={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}function qh(t){let e,n;const r=t[1].default,i=h(r,t,t[0],null);return{c(){e=k("table"),i&&i.c()},m(t,r){b(t,e,r),i&&i.m(e,null),n=!0},p(t,[e]){i&&i.p&&(!n||1&e)&&d(i,r,t,t[0],n?p(r,t[0],e,null):v(t[0]),null)},i(t){n||(X(i,t),n=!0)},o(t){J(i,t),n=!1},d(t){t&&_(e),i&&i.d(t)}}}function Ah(t,e,n){let{$$slots:r={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}function Ph(t){let e,n;const r=t[1].default,i=h(r,t,t[0],null);return{c(){e=k("thead"),i&&i.c()},m(t,r){b(t,e,r),i&&i.m(e,null),n=!0},p(t,[e]){i&&i.p&&(!n||1&e)&&d(i,r,t,t[0],n?p(r,t[0],e,null):v(t[0]),null)},i(t){n||(X(i,t),n=!0)},o(t){J(i,t),n=!1},d(t){t&&_(e),i&&i.d(t)}}}function Oh(t,e,n){let{$$slots:r={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}function Rh(t){let e,n;const r=t[1].default,i=h(r,t,t[0],null);return{c(){e=k("tbody"),i&&i.c()},m(t,r){b(t,e,r),i&&i.m(e,null),n=!0},p(t,[e]){i&&i.p&&(!n||1&e)&&d(i,r,t,t[0],n?p(r,t[0],e,null):v(t[0]),null)},i(t){n||(X(i,t),n=!0)},o(t){J(i,t),n=!1},d(t){t&&_(e),i&&i.d(t)}}}function jh(t,e,n){let{$$slots:r={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}function $h(t){let e,n;const r=t[1].default,i=h(r,t,t[0],null);return{c(){e=k("tr"),i&&i.c()},m(t,r){b(t,e,r),i&&i.m(e,null),n=!0},p(t,[e]){i&&i.p&&(!n||1&e)&&d(i,r,t,t[0],n?p(r,t[0],e,null):v(t[0]),null)},i(t){n||(X(i,t),n=!0)},o(t){J(i,t),n=!1},d(t){t&&_(e),i&&i.d(t)}}}function Dh(t,e,n){let{$$slots:r={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}function Lh(t){let e,n;const r=t[3].default,i=h(r,t,t[2],null);return{c(){e=k("td"),i&&i.c(),N(e,"align",t[1])},m(t,r){b(t,e,r),i&&i.m(e,null),n=!0},p(t,o){i&&i.p&&(!n||4&o)&&d(i,r,t,t[2],n?p(r,t[2],o,null):v(t[2]),null),(!n||2&o)&&N(e,"align",t[1])},i(t){n||(X(i,t),n=!0)},o(t){J(i,t),n=!1},d(t){t&&_(e),i&&i.d(t)}}}function Mh(t){let e,n;const r=t[3].default,i=h(r,t,t[2],null);return{c(){e=k("th"),i&&i.c(),N(e,"align",t[1])},m(t,r){b(t,e,r),i&&i.m(e,null),n=!0},p(t,o){i&&i.p&&(!n||4&o)&&d(i,r,t,t[2],n?p(r,t[2],o,null):v(t[2]),null),(!n||2&o)&&N(e,"align",t[1])},i(t){n||(X(i,t),n=!0)},o(t){J(i,t),n=!1},d(t){t&&_(e),i&&i.d(t)}}}function Fh(t){let e,n,r,i;const o=[Mh,Lh],a=[];function s(t,e){return t[0]?0:1}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=S()},m(t,n){a[e].m(t,n),b(t,r,n),i=!0},p(t,[i]){let u=e;e=s(t),e===u?a[e].p(t,i):(G(),J(a[u],1,1,(()=>{a[u]=null})),Y(),n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),X(n,1),n.m(r.parentNode,r))},i(t){i||(X(n),i=!0)},o(t){J(n),i=!1},d(t){a[e].d(t),t&&_(r)}}}function zh(t,e,n){let{$$slots:r={},$$scope:i}=e,{header:o}=e,{align:a}=e;return t.$$set=t=>{"header"in t&&n(0,o=t.header),"align"in t&&n(1,a=t.align),"$$scope"in t&&n(2,i=t.$$scope)},[o,a,i,r]}function Uh(t){let e,n;const r=t[3].default,i=h(r,t,t[2],null);return{c(){e=k("ul"),i&&i.c()},m(t,r){b(t,e,r),i&&i.m(e,null),n=!0},p(t,e){i&&i.p&&(!n||4&e)&&d(i,r,t,t[2],n?p(r,t[2],e,null):v(t[2]),null)},i(t){n||(X(i,t),n=!0)},o(t){J(i,t),n=!1},d(t){t&&_(e),i&&i.d(t)}}}function Vh(t){let e,n;const r=t[3].default,i=h(r,t,t[2],null);return{c(){e=k("ol"),i&&i.c(),N(e,"start",t[1])},m(t,r){b(t,e,r),i&&i.m(e,null),n=!0},p(t,o){i&&i.p&&(!n||4&o)&&d(i,r,t,t[2],n?p(r,t[2],o,null):v(t[2]),null),(!n||2&o)&&N(e,"start",t[1])},i(t){n||(X(i,t),n=!0)},o(t){J(i,t),n=!1},d(t){t&&_(e),i&&i.d(t)}}}function Wh(t){let e,n,r,i;const o=[Vh,Uh],a=[];function s(t,e){return t[0]?0:1}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=S()},m(t,n){a[e].m(t,n),b(t,r,n),i=!0},p(t,[i]){let u=e;e=s(t),e===u?a[e].p(t,i):(G(),J(a[u],1,1,(()=>{a[u]=null})),Y(),n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),X(n,1),n.m(r.parentNode,r))},i(t){i||(X(n),i=!0)},o(t){J(n),i=!1},d(t){a[e].d(t),t&&_(r)}}}function Bh(t,e,n){let{$$slots:r={},$$scope:i}=e,{ordered:o}=e,{start:a}=e;return t.$$set=t=>{"ordered"in t&&n(0,o=t.ordered),"start"in t&&n(1,a=t.start),"$$scope"in t&&n(2,i=t.$$scope)},[o,a,i,r]}function Hh(t){let e,n;const r=t[1].default,i=h(r,t,t[0],null);return{c(){e=k("li"),i&&i.c()},m(t,r){b(t,e,r),i&&i.m(e,null),n=!0},p(t,[e]){i&&i.p&&(!n||1&e)&&d(i,r,t,t[0],n?p(r,t[0],e,null):v(t[0]),null)},i(t){n||(X(i,t),n=!0)},o(t){J(i,t),n=!1},d(t){t&&_(e),i&&i.d(t)}}}function Kh(t,e,n){let{$$slots:r={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}function Gh(e){let n;return{c(){n=k("hr")},m(t,e){b(t,n,e)},p:t,i:t,o:t,d(t){t&&_(n)}}}function Yh(e){let n,r;return{c(){n=new P,r=S(),n.a=r},m(t,i){n.m(e[0],t,i),b(t,r,i)},p(t,[e]){1&e&&n.p(t[0])},i:t,o:t,d(t){t&&_(r),t&&n.d()}}}function Xh(t,e,n){let{text:r}=e;return t.$$set=t=>{"text"in t&&n(0,r=t.text)},[r]}function Jh(t){let e,n;const r=t[1].default,i=h(r,t,t[0],null);return{c(){e=k("blockquote"),i&&i.c()},m(t,r){b(t,e,r),i&&i.m(e,null),n=!0},p(t,[e]){i&&i.p&&(!n||1&e)&&d(i,r,t,t[0],n?p(r,t[0],e,null):v(t[0]),null)},i(t){n||(X(i,t),n=!0)},o(t){J(i,t),n=!1},d(t){t&&_(e),i&&i.d(t)}}}function Qh(t,e,n){let{$$slots:r={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&n(0,i=t.$$scope)},[i,r]}function Zh(t){let e,n,r;const i=t[2].default,o=h(i,t,t[1],null);return{c(){e=k("pre"),n=k("code"),o&&o.c(),N(e,"class",t[0])},m(t,i){b(t,e,i),y(e,n),o&&o.m(n,null),r=!0},p(t,[n]){o&&o.p&&(!r||2&n)&&d(o,i,t,t[1],r?p(i,t[1],n,null):v(t[1]),null),(!r||1&n)&&N(e,"class",t[0])},i(t){r||(X(o,t),r=!0)},o(t){J(o,t),r=!1},d(t){t&&_(e),o&&o.d(t)}}}function tf(t,e,n){let{$$slots:r={},$$scope:i}=e,{lang:o}=e;return t.$$set=t=>{"lang"in t&&n(0,o=t.lang),"$$scope"in t&&n(1,i=t.$$scope)},[o,i,r]}var ef,nf=(function(t){function e(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}t.exports={defaults:{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:e,changeDefaults:function(e){t.exports.defaults=e}}}(ef={exports:{}},ef.exports),ef.exports);const rf=/[&<>"']/,of=/[&<>"']/g,af=/[<>"']|&(?!#?\w+;)/,sf=/[<>"']|&(?!#?\w+;)/g,uf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},lf=t=>uf[t];const cf=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function hf(t){return t.replace(cf,((t,e)=>"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""))}const ff=/(^|[^\[])\^/g;const pf=/[^\w:]/g,df=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;const vf={},gf=/^[^:]+:\/*[^/]*$/,mf=/^([^:]+:)[\s\S]*$/,yf=/^([^:]+:\/*[^/]*)[\s\S]*$/;function wf(t,e){vf[" "+t]||(gf.test(t)?vf[" "+t]=t+"/":vf[" "+t]=bf(t,"/",!0));const n=-1===(t=vf[" "+t]).indexOf(":");return"//"===e.substring(0,2)?n?e:t.replace(mf,"$1")+e:"/"===e.charAt(0)?n?e:t.replace(yf,"$1")+e:t+e}function bf(t,e,n){const r=t.length;if(0===r)return"";let i=0;for(;i<r;){const o=t.charAt(r-i-1);if(o!==e||n){if(o===e||!n)break;i++}else i++}return t.substr(0,r-i)}var _f={escape:function(t,e){if(e){if(rf.test(t))return t.replace(of,lf)}else if(af.test(t))return t.replace(sf,lf);return t},unescape:hf,edit:function(t,e){t=t.source||t,e=e||"";const n={replace:(e,r)=>(r=(r=r.source||r).replace(ff,"$1"),t=t.replace(e,r),n),getRegex:()=>new RegExp(t,e)};return n},cleanUrl:function(t,e,n){if(t){let t;try{t=decodeURIComponent(hf(n)).replace(pf,"").toLowerCase()}catch(t){return null}if(0===t.indexOf("javascript:")||0===t.indexOf("vbscript:")||0===t.indexOf("data:"))return null}e&&!df.test(n)&&(n=wf(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(t){return null}return n},resolveUrl:wf,noopTest:{exec:function(){}},merge:function(t){let e,n,r=1;for(;r<arguments.length;r++)for(n in e=arguments[r],e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},splitCells:function(t,e){const n=t.replace(/\|/g,((t,e,n)=>{let r=!1,i=e;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/);let r=0;if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n},rtrim:bf,findClosingBracket:function(t,e){if(-1===t.indexOf(e[1]))return-1;const n=t.length;let r=0,i=0;for(;i<n;i++)if("\\"===t[i])i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&(r--,r<0))return i;return-1},checkSanitizeDeprecation:function(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},repeatString:function(t,e){if(e<1)return"";let n="";for(;e>1;)1&e&&(n+=t),e>>=1,t+=t;return n+t}};const{defaults:xf}=nf,{rtrim:kf,splitCells:If,escape:Cf,findClosingBracket:Tf}=_f;function Sf(t,e,n){const r=e.href,i=e.title?Cf(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");return"!"!==t[0].charAt(0)?{type:"link",raw:n,href:r,title:i,text:o}:{type:"image",raw:n,href:r,title:i,text:Cf(o)}}const{noopTest:Ef,edit:Nf,merge:qf}=_f,Af={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:Ef,table:Ef,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Af.def=Nf(Af.def).replace("label",Af._label).replace("title",Af._title).getRegex(),Af.bullet=/(?:[*+-]|\d{1,9}[.)])/,Af.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,Af.item=Nf(Af.item,"gm").replace(/bull/g,Af.bullet).getRegex(),Af.listItemStart=Nf(/^( *)(bull) */).replace("bull",Af.bullet).getRegex(),Af.list=Nf(Af.list).replace(/bull/g,Af.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Af.def.source+")").getRegex(),Af._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Af._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Af.html=Nf(Af.html,"i").replace("comment",Af._comment).replace("tag",Af._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Af.paragraph=Nf(Af._paragraph).replace("hr",Af.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Af._tag).getRegex(),Af.blockquote=Nf(Af.blockquote).replace("paragraph",Af.paragraph).getRegex(),Af.normal=qf({},Af),Af.gfm=qf({},Af.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Af.gfm.nptable=Nf(Af.gfm.nptable).replace("hr",Af.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Af._tag).getRegex(),Af.gfm.table=Nf(Af.gfm.table).replace("hr",Af.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Af._tag).getRegex(),Af.pedantic=qf({},Af.normal,{html:Nf("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Af._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ef,paragraph:Nf(Af.normal._paragraph).replace("hr",Af.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Af.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Pf={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Ef,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Ef,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};Pf.punctuation=Nf(Pf.punctuation).replace(/punctuation/g,Pf._punctuation).getRegex(),Pf.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Pf.escapedEmSt=/\\\*|\\_/g,Pf._comment=Nf(Af._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Pf.emStrong.lDelim=Nf(Pf.emStrong.lDelim).replace(/punct/g,Pf._punctuation).getRegex(),Pf.emStrong.rDelimAst=Nf(Pf.emStrong.rDelimAst,"g").replace(/punct/g,Pf._punctuation).getRegex(),Pf.emStrong.rDelimUnd=Nf(Pf.emStrong.rDelimUnd,"g").replace(/punct/g,Pf._punctuation).getRegex(),Pf._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Pf._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Pf._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Pf.autolink=Nf(Pf.autolink).replace("scheme",Pf._scheme).replace("email",Pf._email).getRegex(),Pf._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Pf.tag=Nf(Pf.tag).replace("comment",Pf._comment).replace("attribute",Pf._attribute).getRegex(),Pf._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Pf._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Pf._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Pf.link=Nf(Pf.link).replace("label",Pf._label).replace("href",Pf._href).replace("title",Pf._title).getRegex(),Pf.reflink=Nf(Pf.reflink).replace("label",Pf._label).getRegex(),Pf.reflinkSearch=Nf(Pf.reflinkSearch,"g").replace("reflink",Pf.reflink).replace("nolink",Pf.nolink).getRegex(),Pf.normal=qf({},Pf),Pf.pedantic=qf({},Pf.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Nf(/^!?\[(label)\]\((.*?)\)/).replace("label",Pf._label).getRegex(),reflink:Nf(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Pf._label).getRegex()}),Pf.gfm=qf({},Pf.normal,{escape:Nf(Pf.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Pf.gfm.url=Nf(Pf.gfm.url,"i").replace("email",Pf.gfm._extended_email).getRegex(),Pf.breaks=qf({},Pf.gfm,{br:Nf(Pf.br).replace("{2,}","*").getRegex(),text:Nf(Pf.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Of={block:Af,inline:Pf};const{defaults:Rf}=nf,{block:jf,inline:$f}=Of,{repeatString:Df}=_f;function Lf(t){return t.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function Mf(t){let e,n,r="";const i=t.length;for(e=0;e<i;e++)n=t.charCodeAt(e),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}var Ff=class t{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Rf,this.options.tokenizer=this.options.tokenizer||new class{constructor(t){this.options=t||xf}space(t){const e=this.rules.block.newline.exec(t);if(e)return e[0].length>1?{type:"space",raw:e[0]}:{raw:"\n"}}code(t){const e=this.rules.block.code.exec(t);if(e){const t=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:kf(t,"\n")}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const t=e[0],n=function(t,e){const n=t.match(/^(\s+)(?:```)/);if(null===n)return e;const r=n[1];return e.split("\n").map((t=>{const e=t.match(/^\s+/);if(null===e)return t;const[n]=e;return n.length>=r.length?t.slice(r.length):t})).join("\n")}(t,e[3]||"");return{type:"code",raw:t,lang:e[2]?e[2].trim():e[2],text:n}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let t=e[2].trim();if(/#$/.test(t)){const e=kf(t,"#");this.options.pedantic?t=e.trim():e&&!/ $/.test(e)||(t=e.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t}}}nptable(t){const e=this.rules.block.nptable.exec(t);if(e){const t={type:"table",header:If(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split("\n"):[],raw:e[0]};if(t.header.length===t.align.length){let e,n=t.align.length;for(e=0;e<n;e++)/^ *-+: *$/.test(t.align[e])?t.align[e]="right":/^ *:-+: *$/.test(t.align[e])?t.align[e]="center":/^ *:-+ *$/.test(t.align[e])?t.align[e]="left":t.align[e]=null;for(n=t.cells.length,e=0;e<n;e++)t.cells[e]=If(t.cells[e],t.header.length);return t}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){const t=e[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:e[0],text:t}}}list(t){const e=this.rules.block.list.exec(t);if(e){let t=e[0];const n=e[2],r=n.length>1,i={type:"list",raw:t,ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]},o=e[0].match(this.rules.block.item);let a,s,u,l,c,h,f,p,d,v=!1,g=o.length;u=this.rules.block.listItemStart.exec(o[0]);for(let e=0;e<g;e++){if(a=o[e],t=a,this.options.pedantic||(d=a.match(new RegExp("\\n\\s*\\n {0,"+(u[0].length-1)+"}\\S")),d&&(c=a.length-d.index+o.slice(e+1).join("\n").length,i.raw=i.raw.substring(0,i.raw.length-c),a=a.substring(0,d.index),t=a,g=e+1)),e!==g-1){if(l=this.rules.block.listItemStart.exec(o[e+1]),this.options.pedantic?l[1].length>u[1].length:l[1].length>=u[0].length||l[1].length>3){o.splice(e,2,o[e]+(!this.options.pedantic&&l[1].length<u[0].length&&!o[e].match(/\n$/)?"":"\n")+o[e+1]),e--,g--;continue}(!this.options.pedantic||this.options.smartLists?l[2][l[2].length-1]!==n[n.length-1]:r===(1===l[2].length))&&(c=o.slice(e+1).join("\n").length,i.raw=i.raw.substring(0,i.raw.length-c),e=g-1),u=l}s=a.length,a=a.replace(/^ *([*+-]|\d+[.)]) ?/,""),~a.indexOf("\n ")&&(s-=a.length,a=this.options.pedantic?a.replace(/^ {1,4}/gm,""):a.replace(new RegExp("^ {1,"+s+"}","gm"),"")),a=kf(a,"\n"),e!==g-1&&(t+="\n"),h=v||/\n\n(?!\s*$)/.test(t),e!==g-1&&(v="\n\n"===t.slice(-2),h||(h=v)),h&&(i.loose=!0),this.options.gfm&&(f=/^\[[ xX]\] /.test(a),p=void 0,f&&(p=" "!==a[1],a=a.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:t,task:f,checked:p,loose:h,text:a})}return i}}html(t){const e=this.rules.block.html.exec(t);if(e)return{type:this.options.sanitize?"paragraph":"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):Cf(e[0]):e[0]}}def(t){const e=this.rules.block.def.exec(t);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{type:"def",tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}}table(t){const e=this.rules.block.table.exec(t);if(e){const t={type:"table",header:If(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split("\n"):[]};if(t.header.length===t.align.length){t.raw=e[0];let n,r=t.align.length;for(n=0;n<r;n++)/^ *-+: *$/.test(t.align[n])?t.align[n]="right":/^ *:-+: *$/.test(t.align[n])?t.align[n]="center":/^ *:-+ *$/.test(t.align[n])?t.align[n]="left":t.align[n]=null;for(r=t.cells.length,n=0;n<r;n++)t.cells[n]=If(t.cells[n].replace(/^ *\| *| *\| *$/g,""),t.header.length);return t}}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1]}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e)return{type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1]}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0]}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:Cf(e[1])}}tag(t,e,n){const r=this.rules.inline.tag.exec(t);if(r)return!e&&/^<a /i.test(r[0])?e=!0:e&&/^<\/a>/i.test(r[0])&&(e=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:e,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Cf(r[0]):r[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const t=e[2].trim();if(!this.options.pedantic&&/^</.test(t)){if(!/>$/.test(t))return;const e=kf(t.slice(0,-1),"\\");if((t.length-e.length)%2==0)return}else{const t=Tf(e[2],"()");if(t>-1){const n=(0===e[0].indexOf("!")?5:4)+e[1].length+t;e[2]=e[2].substring(0,t),e[0]=e[0].substring(0,n).trim(),e[3]=""}}let n=e[2],r="";if(this.options.pedantic){const t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);t&&(n=t[1],r=t[3])}else r=e[3]?e[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(t)?n.slice(1):n.slice(1,-1)),Sf(e,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:r?r.replace(this.rules.inline._escapes,"$1"):r},e[0])}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let t=(n[2]||n[1]).replace(/\s+/g," ");if(t=e[t.toLowerCase()],!t||!t.href){const t=n[0].charAt(0);return{type:"text",raw:t,text:t}}return Sf(n,t,n[0])}}emStrong(t,e,n=""){let r=this.rules.inline.emStrong.lDelim.exec(t);if(!r)return;if(r[3]&&n.match(/[\p{L}\p{N}]/u))return;const i=r[1]||r[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){const n=r[0].length-1;let i,o,a=n,s=0;const u="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,e=e.slice(-1*t.length+n);null!=(r=u.exec(e));)if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],i)if(o=i.length,r[3]||r[4])a+=o;else if(!((r[5]||r[6])&&n%3)||(n+o)%3){if(a-=o,!(a>0))return o=Math.min(o,o+a+s),Math.min(n,o)%2?{type:"em",raw:t.slice(0,n+r.index+o+1),text:t.slice(1,n+r.index+o)}:{type:"strong",raw:t.slice(0,n+r.index+o+1),text:t.slice(2,n+r.index+o-1)}}else s+=o}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let t=e[2].replace(/\n/g," ");const n=/[^ ]/.test(t),r=/^ /.test(t)&&/ $/.test(t);return n&&r&&(t=t.substring(1,t.length-1)),t=Cf(t,!0),{type:"codespan",raw:e[0],text:t}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2]}}autolink(t,e){const n=this.rules.inline.autolink.exec(t);if(n){let t,r;return"@"===n[2]?(t=Cf(this.options.mangle?e(n[1]):n[1]),r="mailto:"+t):(t=Cf(n[1]),r=t),{type:"link",raw:n[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}url(t,e){let n;if(n=this.rules.inline.url.exec(t)){let t,r;if("@"===n[2])t=Cf(this.options.mangle?e(n[0]):n[0]),r="mailto:"+t;else{let e;do{e=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(e!==n[0]);t=Cf(n[0]),r="www."===n[1]?"http://"+t:t}return{type:"link",raw:n[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(t,e,n){const r=this.rules.inline.text.exec(t);if(r){let t;return t=e?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Cf(r[0]):r[0]:Cf(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:t}}}},this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;const e={block:jf.normal,inline:$f.normal};this.options.pedantic?(e.block=jf.pedantic,e.inline=$f.pedantic):this.options.gfm&&(e.block=jf.gfm,this.options.breaks?e.inline=$f.breaks:e.inline=$f.gfm),this.tokenizer.rules=e}static get rules(){return{block:jf,inline:$f}}static lex(e,n){return new t(n).lex(e)}static lexInline(e,n){return new t(n).inlineTokens(e)}lex(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(t,this.tokens,!0),this.inline(this.tokens),this.tokens}blockTokens(t,e=[],n=!0){let r,i,o,a,s,u;for(this.options.pedantic&&(t=t.replace(/^ +$/gm,""));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((n=>!!(r=n.call(this,t,e))&&(t=t.substring(r.raw.length),e.push(r),!0)))))if(r=this.tokenizer.space(t))t=t.substring(r.raw.length),r.type&&e.push(r);else if(r=this.tokenizer.code(t))t=t.substring(r.raw.length),a=e[e.length-1],a&&"paragraph"===a.type?(a.raw+="\n"+r.raw,a.text+="\n"+r.text):e.push(r);else if(r=this.tokenizer.fences(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.heading(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.nptable(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.hr(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.blockquote(t))t=t.substring(r.raw.length),r.tokens=this.blockTokens(r.text,[],n),e.push(r);else if(r=this.tokenizer.list(t)){for(t=t.substring(r.raw.length),o=r.items.length,i=0;i<o;i++)r.items[i].tokens=this.blockTokens(r.items[i].text,[],!1);e.push(r)}else if(r=this.tokenizer.html(t))t=t.substring(r.raw.length),e.push(r);else if(n&&(r=this.tokenizer.def(t)))t=t.substring(r.raw.length),this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});else if(r=this.tokenizer.table(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.lheading(t))t=t.substring(r.raw.length),e.push(r);else{if(s=t,this.options.extensions&&this.options.extensions.startBlock){let e=1/0;const n=t.slice(1);let r;this.options.extensions.startBlock.forEach((function(t){r=t.call(this,n),"number"==typeof r&&r>=0&&(e=Math.min(e,r))})),e<1/0&&e>=0&&(s=t.substring(0,e+1))}if(n&&(r=this.tokenizer.paragraph(s)))a=e[e.length-1],u&&"paragraph"===a.type?(a.raw+="\n"+r.raw,a.text+="\n"+r.text):e.push(r),u=s.length!==t.length,t=t.substring(r.raw.length);else if(r=this.tokenizer.text(t))t=t.substring(r.raw.length),a=e[e.length-1],a&&"text"===a.type?(a.raw+="\n"+r.raw,a.text+="\n"+r.text):e.push(r);else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(e);break}throw new Error(e)}}return e}inline(t){let e,n,r,i,o,a;const s=t.length;for(e=0;e<s;e++)switch(a=t[e],a.type){case"paragraph":case"text":case"heading":a.tokens=[],this.inlineTokens(a.text,a.tokens);break;case"table":for(a.tokens={header:[],cells:[]},i=a.header.length,n=0;n<i;n++)a.tokens.header[n]=[],this.inlineTokens(a.header[n],a.tokens.header[n]);for(i=a.cells.length,n=0;n<i;n++)for(o=a.cells[n],a.tokens.cells[n]=[],r=0;r<o.length;r++)a.tokens.cells[n][r]=[],this.inlineTokens(o[r],a.tokens.cells[n][r]);break;case"blockquote":this.inline(a.tokens);break;case"list":for(i=a.items.length,n=0;n<i;n++)this.inline(a.items[n].tokens)}return t}inlineTokens(t,e=[],n=!1,r=!1){let i,o,a,s,u,l,c=t;if(this.tokens.links){const t=Object.keys(this.tokens.links);if(t.length>0)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(c));)t.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,s.index)+"["+Df("a",s[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,s.index)+"["+Df("a",s[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(s=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,s.index)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;t;)if(u||(l=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((n=>!!(i=n.call(this,t,e))&&(t=t.substring(i.raw.length),e.push(i),!0)))))if(i=this.tokenizer.escape(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.tag(t,n,r))t=t.substring(i.raw.length),n=i.inLink,r=i.inRawBlock,o=e[e.length-1],o&&"text"===i.type&&"text"===o.type?(o.raw+=i.raw,o.text+=i.text):e.push(i);else if(i=this.tokenizer.link(t))t=t.substring(i.raw.length),"link"===i.type&&(i.tokens=this.inlineTokens(i.text,[],!0,r)),e.push(i);else if(i=this.tokenizer.reflink(t,this.tokens.links))t=t.substring(i.raw.length),o=e[e.length-1],"link"===i.type?(i.tokens=this.inlineTokens(i.text,[],!0,r),e.push(i)):o&&"text"===i.type&&"text"===o.type?(o.raw+=i.raw,o.text+=i.text):e.push(i);else if(i=this.tokenizer.emStrong(t,c,l))t=t.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),e.push(i);else if(i=this.tokenizer.codespan(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.br(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.del(t))t=t.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),e.push(i);else if(i=this.tokenizer.autolink(t,Mf))t=t.substring(i.raw.length),e.push(i);else if(n||!(i=this.tokenizer.url(t,Mf))){if(a=t,this.options.extensions&&this.options.extensions.startInline){let e=1/0;const n=t.slice(1);let r;this.options.extensions.startInline.forEach((function(t){r=t.call(this,n),"number"==typeof r&&r>=0&&(e=Math.min(e,r))})),e<1/0&&e>=0&&(a=t.substring(0,e+1))}if(i=this.tokenizer.inlineText(a,r,Lf))t=t.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(l=i.raw.slice(-1)),u=!0,o=e[e.length-1],o&&"text"===o.type?(o.raw+=i.raw,o.text+=i.text):e.push(i);else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(e);break}throw new Error(e)}}else t=t.substring(i.raw.length),e.push(i);return e}};const zf={heading:class extends ut{constructor(t){super(),st(this,t,ph,fh,a,{depth:0,raw:1})}},paragraph:class extends ut{constructor(t){super(),st(this,t,vh,dh,a,{})}},text:class extends ut{constructor(t){super(),st(this,t,mh,gh,a,{})}},image:class extends ut{constructor(t){super(),st(this,t,wh,yh,a,{href:0,title:1,text:2})}},link:class extends ut{constructor(t){super(),st(this,t,_h,bh,a,{href:0,title:1})}},em:class extends ut{constructor(t){super(),st(this,t,kh,xh,a,{})}},strong:class extends ut{constructor(t){super(),st(this,t,Nh,Eh,a,{})}},codespan:class extends ut{constructor(t){super(),st(this,t,Sh,Th,a,{raw:0})}},del:class extends ut{constructor(t){super(),st(this,t,Ch,Ih,a,{})}},table:class extends ut{constructor(t){super(),st(this,t,Ah,qh,a,{})}},tablehead:class extends ut{constructor(t){super(),st(this,t,Oh,Ph,a,{})}},tablebody:class extends ut{constructor(t){super(),st(this,t,jh,Rh,a,{})}},tablerow:class extends ut{constructor(t){super(),st(this,t,Dh,$h,a,{})}},tablecell:class extends ut{constructor(t){super(),st(this,t,zh,Fh,a,{header:0,align:1})}},list:class extends ut{constructor(t){super(),st(this,t,Bh,Wh,a,{ordered:0,start:1})}},orderedlistitem:null,unorderedlistitem:null,listitem:class extends ut{constructor(t){super(),st(this,t,Kh,Hh,a,{})}},hr:class extends ut{constructor(t){super(),st(this,t,null,Gh,a,{})}},html:class extends ut{constructor(t){super(),st(this,t,Xh,Yh,a,{text:0})}},blockquote:class extends ut{constructor(t){super(),st(this,t,Qh,Jh,a,{})}},code:class extends ut{constructor(t){super(),st(this,t,tf,Zh,a,{lang:0})}}},Uf={baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,xhtml:!1};function Vf(t){let e,n;return e=new ih({props:{tokens:t[0],renderers:t[1]}}),{c(){rt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.tokens=t[0]),2&n&&(r.renderers=t[1]),e.$set(r)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function Wf(t,e,n){let r,i,o,{source:a=""}=e,{renderers:s={}}=e,{options:u={}}=e;return t.$$set=t=>{"source"in t&&n(2,a=t.source),"renderers"in t&&n(3,s=t.renderers),"options"in t&&n(4,u=t.options)},t.$$.update=()=>{52&t.$$.dirty&&(n(5,i=new Ff({...Uf,...u})),n(0,o=i.lex(a))),8&t.$$.dirty&&n(1,r={...zf,...s})},[o,r,a,s,u,i]}class Bf extends ut{constructor(t){super(),st(this,t,Wf,Vf,a,{source:2,renderers:3,options:4})}}function Hf(t){w(t,"svelte-fqjypr",'.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr,.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr::before,.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr::after{box-sizing:border-box}button.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr,textarea.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{text-transform:none}button.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr,[type=\'button\'].svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{-webkit-appearance:button}.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr::-moz-focus-inner{border-style:none;padding:0}.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr:-moz-focusring{outline:1px dotted ButtonText}.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr:-moz-ui-invalid{box-shadow:none}.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr::-webkit-inner-spin-button,.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr::-webkit-outer-spin-button{height:auto}.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr::-webkit-search-decoration{-webkit-appearance:none}.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}h4.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr,p.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{margin:0}button.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{background-color:transparent;background-image:none}.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr,.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr::before,.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr::after{box-sizing:border-box;border-width:0;border-style:solid;border-color:currentColor}img.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{border-style:solid}textarea.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{resize:vertical}textarea.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr::-moz-placeholder{opacity:1;color:#9ca3af}textarea.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr:-ms-input-placeholder{opacity:1;color:#9ca3af}textarea.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr::placeholder{opacity:1;color:#9ca3af}button.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{cursor:pointer}h4.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{font-size:inherit;font-weight:inherit}a.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{color:inherit;text-decoration:inherit}button.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr,textarea.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{padding:0;line-height:inherit;color:inherit}img.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr,svg.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{display:block;vertical-align:middle}img.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{max-width:100%;height:auto}.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr,.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr::before,.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr::after{--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-ring-inset:var(--tw-empty,/*!*/ /*!*/);--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59, 130, 246, 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-blur:var(--tw-empty,/*!*/ /*!*/);--tw-brightness:var(--tw-empty,/*!*/ /*!*/);--tw-contrast:var(--tw-empty,/*!*/ /*!*/);--tw-grayscale:var(--tw-empty,/*!*/ /*!*/);--tw-hue-rotate:var(--tw-empty,/*!*/ /*!*/);--tw-invert:var(--tw-empty,/*!*/ /*!*/);--tw-saturate:var(--tw-empty,/*!*/ /*!*/);--tw-sepia:var(--tw-empty,/*!*/ /*!*/);--tw-drop-shadow:var(--tw-empty,/*!*/ /*!*/);--tw-filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.form-textarea.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#6b7280;border-width:1px;border-radius:0px;padding-top:0.5rem;padding-right:0.75rem;padding-bottom:0.5rem;padding-left:0.75rem;font-size:1rem;line-height:1.5rem}.form-textarea.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-inset:var(--tw-empty,/*!*/ /*!*/);--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#2563eb;--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);border-color:#2563eb}.form-textarea.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr::-moz-placeholder{color:#6b7280;opacity:1}.form-textarea.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr:-ms-input-placeholder{color:#6b7280;opacity:1}.form-textarea.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr::placeholder{color:#6b7280;opacity:1}.prose.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{color:#374151;max-width:65ch}.prose.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{font-size:1rem;line-height:1.75}.mx-4.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{margin-left:1rem;margin-right:1rem}.mt-4.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{margin-top:1rem}.mt-16.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{margin-top:4rem}.mb-2.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{margin-bottom:0.5rem}.flex.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{display:flex}.h-28.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{height:7rem}.h-12.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{height:3rem}.h-6.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{height:1.5rem}.w-full.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{width:100%}.w-3\\/4.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{width:75%}.w-12.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{width:3rem}.w-6.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{width:1.5rem}.max-w-none.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{max-width:none}.flex-grow.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{flex-grow:1}.flex-col.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{flex-direction:column}.items-center.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{align-items:center}.justify-end.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{justify-content:flex-end}.gap-2.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{gap:0.5rem}.gap-4.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{gap:1rem}.space-x-4.svelte-fqjypr>.svelte-fqjypr:not([hidden])~.svelte-fqjypr:not([hidden]){--tw-space-x-reverse:0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-8.svelte-fqjypr>.svelte-fqjypr:not([hidden])~.svelte-fqjypr:not([hidden]){--tw-space-y-reverse:0;margin-top:calc(2rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(2rem * var(--tw-space-y-reverse))}.self-end.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{align-self:flex-end}.rounded-md.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{border-radius:0.375rem}.rounded-full.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{border-radius:9999px}.border-gray-300.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{--tw-border-opacity:1;border-color:rgba(209, 213, 219, var(--tw-border-opacity))}.bg-gray-100.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{--tw-bg-opacity:1;background-color:rgba(243, 244, 246, var(--tw-bg-opacity))}.bg-primary-100.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{--tw-bg-opacity:1;background-color:rgba(224, 242, 254, var(--tw-bg-opacity))}.bg-primary-50.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{--tw-bg-opacity:1;background-color:rgba(240, 249, 255, var(--tw-bg-opacity))}.py-1.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{padding-top:0.25rem;padding-bottom:0.25rem}.px-6.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{padding-left:1.5rem;padding-right:1.5rem}.py-4.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{padding-top:1rem;padding-bottom:1rem}.px-4.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{padding-left:1rem;padding-right:1rem}.px-2.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{padding-left:0.5rem;padding-right:0.5rem}.py-2.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{padding-top:0.5rem;padding-bottom:0.5rem}.font-sans.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{font-family:ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"}.text-base.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{font-size:1rem;line-height:1.5rem}.text-lg.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{font-size:1.125rem;line-height:1.75rem}.font-medium.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{font-weight:500}.font-normal.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{font-weight:400}.font-semibold.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{font-weight:600}.text-gray-600.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{--tw-text-opacity:1;color:rgba(75, 85, 99, var(--tw-text-opacity))}.text-primary-800.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{--tw-text-opacity:1;color:rgba(7, 89, 133, var(--tw-text-opacity))}.text-primary-500.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{--tw-text-opacity:1;color:rgba(14, 165, 233, var(--tw-text-opacity))}.text-gray-400.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{--tw-text-opacity:1;color:rgba(156, 163, 175, var(--tw-text-opacity))}.text-red-600.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{--tw-text-opacity:1;color:rgba(220, 38, 38, var(--tw-text-opacity))}.text-pink-600.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{--tw-text-opacity:1;color:rgba(219, 39, 119, var(--tw-text-opacity))}.primary-btn.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr{border-radius:0.375rem;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#e0f2fe;--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to, rgba(224, 242, 254, 0));--tw-gradient-stops:var(--tw-gradient-from), #dbeafe, var(--tw-gradient-to, rgba(219, 234, 254, 0));--tw-gradient-to:#ede9fe;--tw-text-opacity:1;color:rgba(12, 74, 110, var(--tw-text-opacity))}.primary-btn.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr:hover{--tw-bg-opacity:1;background-color:rgba(224, 242, 254, var(--tw-bg-opacity));--tw-gradient-from:#bae6fd;--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to, rgba(186, 230, 253, 0));--tw-gradient-stops:var(--tw-gradient-from), #bfdbfe, var(--tw-gradient-to, rgba(191, 219, 254, 0));--tw-gradient-to:#ddd6fe}.primary-btn.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr:disabled{cursor:not-allowed;--tw-saturate:saturate(.5);filter:var(--tw-filter)}.primary-btn.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr:disabled:hover{--tw-gradient-from:#e0f2fe;--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to, rgba(224, 242, 254, 0));--tw-gradient-stops:var(--tw-gradient-from), #dbeafe, var(--tw-gradient-to, rgba(219, 234, 254, 0));--tw-gradient-to:#ede9fe}.hover\\:bg-primary-200.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr:hover{--tw-bg-opacity:1;background-color:rgba(186, 230, 253, var(--tw-bg-opacity))}.hover\\:bg-red-100\\/60.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr:hover{background-color:rgba(254, 226, 226, 0.6)}.hover\\:bg-pink-100\\/60.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr:hover{background-color:rgba(252, 231, 243, 0.6)}.hover\\:underline.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr:hover{text-decoration:underline}.disabled\\:cursor-not-allowed.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr:disabled{cursor:not-allowed}.disabled\\:bg-gray-100.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr:disabled{--tw-bg-opacity:1;background-color:rgba(243, 244, 246, var(--tw-bg-opacity))}.disabled\\:text-gray-600.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr:disabled{--tw-text-opacity:1;color:rgba(75, 85, 99, var(--tw-text-opacity))}.disabled\\:hover\\:bg-gray-100.svelte-fqjypr.svelte-fqjypr.svelte-fqjypr:disabled:hover{--tw-bg-opacity:1;background-color:rgba(243, 244, 246, var(--tw-bg-opacity))}')}function Kf(t,e,n){const r=t.slice();return r[26]=e[n],r}function Gf(e){let n,r,i,o,a,s,u,l;return{c(){n=k("label"),r=k("p"),r.textContent="Add a comment (markdown is supported)",i=T(),o=k("textarea"),N(r,"class","text-gray-600 svelte-fqjypr"),N(o,"class","border-gray-300 rounded-md w-full form-textarea font-sans h-28 disabled:cursor-not-allowed svelte-fqjypr"),N(o,"placeholder",a=e[0].user?"Write your thoughts...":"Login to leave a comment"),o.disabled=s=!e[0].user,N(n,"class","svelte-fqjypr")},m(t,a){b(t,n,a),y(n,r),y(n,i),y(n,o),A(o,e[4]),u||(l=E(o,"input",e[14]),u=!0)},p(t,e){1&e&&a!==(a=t[0].user?"Write your thoughts...":"Login to leave a comment")&&N(o,"placeholder",a),1&e&&s!==(s=!t[0].user)&&(o.disabled=s),16&e&&A(o,t[4])},i:t,o:t,d(t){t&&_(n),u=!1,l()}}}function Yf(t){let e,n,r,i,o;return i=new Bf({props:{source:t[4]||"Nothing to preview"}}),{c(){e=k("p"),e.textContent="Add a comment (markdown is supported)",n=T(),r=k("p"),rt(i.$$.fragment),N(e,"class","text-gray-600 svelte-fqjypr"),N(r,"class","text-base prose max-w-none bg-gray-100 px-6 py-4 svelte-fqjypr")},m(t,a){b(t,e,a),b(t,n,a),b(t,r,a),it(i,r,null),o=!0},p(t,e){const n={};16&e&&(n.source=t[4]||"Nothing to preview"),i.$set(n)},i(t){o||(X(i.$$.fragment,t),o=!0)},o(t){J(i.$$.fragment,t),o=!1},d(t){t&&_(e),t&&_(n),t&&_(r),ot(i)}}}function Xf(t){let e,n,r,i,o,a,s,u,l,c=(t[3]?t[2].length:"-")+"",h=[],f=new Map,p=t[2];const d=t=>t[26].id;for(let e=0;e<p.length;e+=1){let n=Kf(t,p,e),r=d(n);f.set(r,h[e]=tp(r,n))}return{c(){e=k("div"),n=C(c),r=C(" comments\n      "),i=k("span"),i.textContent="|",o=T(),a=k("em"),a.innerHTML='Powered by\n        <a href="https://github.com/maggie-j-liu/reactive" rel="noreferrer" target="_blank" class="text-primary-500 font-medium hover:underline svelte-fqjypr">Reactive</a>',s=T(),u=k("div");for(let t=0;t<h.length;t+=1)h[t].c();N(i,"class","mx-4 text-lg svelte-fqjypr"),N(a,"class","text-gray-600 svelte-fqjypr"),N(e,"class","mt-4 svelte-fqjypr"),N(u,"class","space-y-8 svelte-fqjypr")},m(t,c){b(t,e,c),y(e,n),y(e,r),y(e,i),y(e,o),y(e,a),b(t,s,c),b(t,u,c);for(let t=0;t<h.length;t+=1)h[t].m(u,null);l=!0},p(t,e){(!l||12&e)&&c!==(c=(t[3]?t[2].length:"-")+"")&&q(n,c),6949&e&&(p=t[2],G(),h=tt(h,e,d,1,t,p,f,u,Z,tp,null,Kf),Y())},i(t){if(!l){for(let t=0;t<p.length;t+=1)X(h[t]);l=!0}},o(t){for(let t=0;t<h.length;t+=1)J(h[t]);l=!1},d(t){t&&_(e),t&&_(s),t&&_(u);for(let t=0;t<h.length;t+=1)h[t].d()}}}function Jf(t){let e,n,r;function i(){return t[17](t[26])}return{c(){e=k("button"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class=" h-6 w-6 text-red-600 svelte-fqjypr"><polyline points="3 6 5 6 21 6" class="svelte-fqjypr"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" class="svelte-fqjypr"></path><line x1="10" y1="11" x2="10" y2="17" class="svelte-fqjypr"></line><line x1="14" y1="11" x2="14" y2="17" class="svelte-fqjypr"></line></svg>',N(e,"class","hover:bg-red-100/60 px-2 py-2 rounded-full svelte-fqjypr")},m(t,o){b(t,e,o),n||(r=E(e,"click",i),n=!0)},p(e,n){t=e},d(t){t&&_(e),n=!1,r()}}}function Qf(t){let e,n,r,i,o,a=(t[26].likes??0)+"";return{c(){e=k("div"),n=I("svg"),r=I("path"),i=T(),o=C(a),N(r,"d","M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"),N(r,"class","svelte-fqjypr"),N(n,"xmlns","http://www.w3.org/2000/svg"),N(n,"viewBox","0 0 24 24"),N(n,"fill","none"),N(n,"stroke","currentColor"),N(n,"stroke-width","2"),N(n,"stroke-linecap","round"),N(n,"stroke-linejoin","round"),N(n,"class","h-6 w-6 text-pink-600 svelte-fqjypr"),N(e,"class","px-2 py-2 flex text-pink-600 font-semibold gap-2 items-center svelte-fqjypr")},m(t,a){b(t,e,a),y(e,n),y(n,r),y(e,i),y(e,o)},p(t,e){4&e&&a!==(a=(t[26].likes??0)+"")&&q(o,a)},d(t){t&&_(e)}}}function Zf(t){let e,n,r,i,o,a,s,u,l=(t[26].likes??0)+"";function c(){return t[18](t[26])}return{c(){e=k("button"),n=I("svg"),r=I("path"),o=T(),a=C(l),N(r,"d","M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"),N(r,"class","svelte-fqjypr"),N(n,"xmlns","http://www.w3.org/2000/svg"),N(n,"viewBox","0 0 24 24"),N(n,"fill",i=t[8].includes(t[26].id)?"currentColor":"none"),N(n,"stroke","currentColor"),N(n,"stroke-width","2"),N(n,"stroke-linecap","round"),N(n,"stroke-linejoin","round"),N(n,"class","h-6 w-6 text-pink-600 svelte-fqjypr"),N(e,"class","px-2 py-2 rounded-full hover:bg-pink-100/60 flex text-pink-600 font-semibold gap-2 items-center svelte-fqjypr")},m(t,i){b(t,e,i),y(e,n),y(n,r),y(e,o),y(e,a),s||(u=E(e,"click",c),s=!0)},p(e,r){t=e,260&r&&i!==(i=t[8].includes(t[26].id)?"currentColor":"none")&&N(n,"fill",i),4&r&&l!==(l=(t[26].likes??0)+"")&&q(a,l)},d(t){t&&_(e),s=!1,u()}}}function tp(t,e){let n,r,i,o,a,s,u,c,h,f,p,d,v,g,m,w,x,I,S,E,A=e[5][e[26].user].name+"",P=e[9].format(e[26].timestamp)+"";m=new Bf({props:{source:e[26].text}});let O=e[0].user&&e[26].user==e[0].user.uid&&Jf(e);function R(t,e){return t[0].user?Zf:Qf}let j=R(e),$=j(e);return{key:t,first:null,c(){n=k("div"),r=k("img"),a=T(),s=k("div"),u=k("h4"),c=C(A),h=T(),f=k("span"),p=C("commented "),d=C(P),v=T(),g=k("p"),rt(m.$$.fragment),w=T(),x=k("div"),O&&O.c(),I=T(),$.c(),S=T(),l(r.src,i=e[5][e[26].user].photo)||N(r,"src",i),N(r,"alt",o=e[5][e[26].user].name+"'s profile picture"),N(r,"class","h-12 w-12 rounded-full svelte-fqjypr"),N(f,"class","text-base text-gray-400 font-normal svelte-fqjypr"),N(u,"class","text-lg text-primary-800 mb-2 font-medium svelte-fqjypr"),N(g,"class","text-base prose max-w-none svelte-fqjypr"),N(x,"class","w-full flex justify-end items-center gap-2 svelte-fqjypr"),N(s,"class","bg-primary-50 flex-grow px-6 py-4 svelte-fqjypr"),N(n,"class","flex gap-4 svelte-fqjypr"),this.first=n},m(t,e){b(t,n,e),y(n,r),y(n,a),y(n,s),y(s,u),y(u,c),y(u,h),y(u,f),y(f,p),y(f,d),y(s,v),y(s,g),it(m,g,null),y(s,w),y(s,x),O&&O.m(x,null),y(x,I),$.m(x,null),y(n,S),E=!0},p(t,n){e=t,(!E||36&n&&!l(r.src,i=e[5][e[26].user].photo))&&N(r,"src",i),(!E||36&n&&o!==(o=e[5][e[26].user].name+"'s profile picture"))&&N(r,"alt",o),(!E||36&n)&&A!==(A=e[5][e[26].user].name+"")&&q(c,A),(!E||4&n)&&P!==(P=e[9].format(e[26].timestamp)+"")&&q(d,P);const a={};4&n&&(a.source=e[26].text),m.$set(a),e[0].user&&e[26].user==e[0].user.uid?O?O.p(e,n):(O=Jf(e),O.c(),O.m(x,I)):O&&(O.d(1),O=null),j===(j=R(e))&&$?$.p(e,n):($.d(1),$=j(e),$&&($.c(),$.m(x,null)))},i(t){E||(X(m.$$.fragment,t),E=!0)},o(t){J(m.$$.fragment,t),E=!1},d(t){t&&_(n),ot(m),O&&O.d(),$.d()}}}function ep(t){let e,n,r,o,a,s,u,l,c,h,f,p,d,v,g,m,w=t[7]?"Edit":"Preview";const x=[Yf,Gf],I=[];function S(t,e){return t[7]?0:1}n=S(t),r=I[n]=x[n](t);let A=t[6]&&Xf(t);return{c(){e=k("div"),r.c(),o=T(),a=k("div"),s=k("button"),u=C(w),c=T(),h=k("button"),f=C("Submit"),d=T(),A&&A.c(),N(s,"class","text-lg bg-primary-100 hover:bg-primary-200 text-primary-800 px-4 py-1 rounded-md disabled:bg-gray-100 disabled:hover:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-600 svelte-fqjypr"),s.disabled=l=!t[0].user||!t[4],N(h,"type","button"),N(h,"class","text-lg primary-btn px-4 py-1 svelte-fqjypr"),h.disabled=p=!t[0].user||!t[4],N(a,"class","self-end space-x-4 svelte-fqjypr"),N(e,"class","flex flex-col gap-4 mt-16 w-3/4 svelte-fqjypr")},m(r,i){b(r,e,i),I[n].m(e,null),y(e,o),y(e,a),y(a,s),y(s,u),y(a,c),y(a,h),y(h,f),y(e,d),A&&A.m(e,null),v=!0,g||(m=[E(s,"click",t[15]),E(h,"click",t[16])],g=!0)},p(t,[i]){let a=n;n=S(t),n===a?I[n].p(t,i):(G(),J(I[a],1,1,(()=>{I[a]=null})),Y(),r=I[n],r?r.p(t,i):(r=I[n]=x[n](t),r.c()),X(r,1),r.m(e,o)),(!v||128&i)&&w!==(w=t[7]?"Edit":"Preview")&&q(u,w),(!v||17&i&&l!==(l=!t[0].user||!t[4]))&&(s.disabled=l),(!v||17&i&&p!==(p=!t[0].user||!t[4]))&&(h.disabled=p),t[6]?A?(A.p(t,i),64&i&&X(A,1)):(A=Xf(t),A.c(),X(A,1),A.m(e,null)):A&&(G(),J(A,1,1,(()=>{A=null})),Y())},i(t){v||(X(r),X(A),v=!0)},o(t){J(r),J(A),v=!1},d(t){t&&_(e),I[n].d(),A&&A.d(),g=!1,i(m)}}}function np(e,n,r){let i,o=t;e.$$.on_destroy.push((()=>o())),wc.addDefaultLocale(xc);const a=new wc("en-US");console.log("comments");let s,u,l,{page:h=(window.location.pathname.endsWith("/")?window.location.pathname:window.location.pathname+"/")}=n;try{const t=Ne();s=t.authStore,o(),o=c(s,(t=>r(0,i=t))),u=t.loginWithGoogle,l=t.logout}catch(t){throw t}const f=Ce.database();let p=[],d=!1,v="",g={},m=!1,y=!1,w=[];R((async()=>{r(5,g=await f.ref("users/info").once("value").then((t=>t.val()))??{}),r(6,m=!0)}));const b=()=>{if(!i.user||!v)return;const t=`posts/${qu(h)}/comments`,e=f.ref(t).push({user:i.user.uid,text:v,timestamp:Ce.database.ServerValue.TIMESTAMP,likes:0}).key;r(2,p=[{id:e,user:i.user.uid,text:v,timestamp:Date.now(),likes:0},...p]),r(4,v=""),r(7,y=!1)},_=async t=>{i.user&&t.user==i.user.uid&&(await f.ref(`posts/${qu(h)}/comments/${t.id}`).set(null),r(2,p=p.filter((e=>e.id!==t.id))))},x=async t=>{w.includes(t.id)?(async t=>{if(!i.user)return;const e={};e[`posts/${qu(h)}/comments/${t.id}/likes`]=Ce.database.ServerValue.increment(-1),e[`users/activity/${i.user.uid}/${qu(h)}/commentLikes/${t.id}`]=null,await f.ref().update(e),t.likes--,r(2,p=[...p]),r(8,w=w.filter((e=>e!==t.id)))})(t):(async t=>{if(!i.user)return;const e={};e[`posts/${qu(h)}/comments/${t.id}/likes`]=Ce.database.ServerValue.increment(1),e[`users/activity/${i.user.uid}/${qu(h)}/commentLikes/${t.id}`]=!0,await f.ref().update(e),t.likes++,r(2,p=[...p]),r(8,w=[...w,t.id])})(t)};return e.$$set=t=>{"page"in t&&r(13,h=t.page)},e.$$.update=()=>{8193&e.$$.dirty&&(f.ref(`posts/${qu(h)}/comments`).orderByChild("timestamp").once("value").then((t=>t.val())).then((t=>{var e;e=Object.entries(t??{}).map((([t,e])=>({id:t,...e}))).reverse(),r(2,p=e),r(3,d=!0)})),i.user?f.ref(`users/activity/${i.user.uid}/${qu(h)}/commentLikes`).once("value").then((t=>t.val())).then((t=>{return e=t??{},void r(8,w=Object.keys(e));var e})):r(8,w=[]))},[i,s,p,d,v,g,m,y,w,a,b,_,x,h,function(){v=this.value,r(4,v)},()=>{r(7,y=!y)},()=>b(),t=>_(t),t=>x(t)]}class rp extends ut{constructor(t){super(),st(this,t,np,ep,a,{page:13},Hf)}}function ip(t){w(t,"svelte-1wqzryw",'.svelte-1wqzryw,.svelte-1wqzryw::before,.svelte-1wqzryw::after{box-sizing:border-box}button.svelte-1wqzryw{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button.svelte-1wqzryw{text-transform:none}button.svelte-1wqzryw,[type=\'button\'].svelte-1wqzryw{-webkit-appearance:button}.svelte-1wqzryw::-moz-focus-inner{border-style:none;padding:0}.svelte-1wqzryw:-moz-focusring{outline:1px dotted ButtonText}.svelte-1wqzryw:-moz-ui-invalid{box-shadow:none}.svelte-1wqzryw::-webkit-inner-spin-button,.svelte-1wqzryw::-webkit-outer-spin-button{height:auto}.svelte-1wqzryw::-webkit-search-decoration{-webkit-appearance:none}.svelte-1wqzryw::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}h2.svelte-1wqzryw,h3.svelte-1wqzryw{margin:0}button.svelte-1wqzryw{background-color:transparent;background-image:none}.svelte-1wqzryw,.svelte-1wqzryw::before,.svelte-1wqzryw::after{box-sizing:border-box;border-width:0;border-style:solid;border-color:currentColor}button.svelte-1wqzryw{cursor:pointer}h2.svelte-1wqzryw,h3.svelte-1wqzryw{font-size:inherit;font-weight:inherit}button.svelte-1wqzryw{padding:0;line-height:inherit;color:inherit}.svelte-1wqzryw,.svelte-1wqzryw::before,.svelte-1wqzryw::after{--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-ring-inset:var(--tw-empty,/*!*/ /*!*/);--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59, 130, 246, 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-blur:var(--tw-empty,/*!*/ /*!*/);--tw-brightness:var(--tw-empty,/*!*/ /*!*/);--tw-contrast:var(--tw-empty,/*!*/ /*!*/);--tw-grayscale:var(--tw-empty,/*!*/ /*!*/);--tw-hue-rotate:var(--tw-empty,/*!*/ /*!*/);--tw-invert:var(--tw-empty,/*!*/ /*!*/);--tw-saturate:var(--tw-empty,/*!*/ /*!*/);--tw-sepia:var(--tw-empty,/*!*/ /*!*/);--tw-drop-shadow:var(--tw-empty,/*!*/ /*!*/);--tw-filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}main.svelte-1wqzryw{margin:0;font-family:ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,\n        "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif,\n        "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n        "Noto Color Emoji";line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:100%}.mx-auto.svelte-1wqzryw{margin-left:auto;margin-right:auto}.my-16.svelte-1wqzryw{margin-top:4rem;margin-bottom:4rem}.mt-4.svelte-1wqzryw{margin-top:1rem}.flex.svelte-1wqzryw{display:flex}.h-9.svelte-1wqzryw{height:2.25rem}.w-full.svelte-1wqzryw{width:100%}.flex-col.svelte-1wqzryw{flex-direction:column}.items-center.svelte-1wqzryw{align-items:center}.gap-10.svelte-1wqzryw{gap:2.5rem}.gap-2.svelte-1wqzryw{gap:0.5rem}.text-3xl.svelte-1wqzryw{font-size:1.875rem;line-height:2.25rem}.text-2xl.svelte-1wqzryw{font-size:1.5rem;line-height:2rem}.font-bold.svelte-1wqzryw{font-weight:700}.font-medium.svelte-1wqzryw{font-weight:500}.text-primary-600.svelte-1wqzryw{--tw-text-opacity:1;color:rgba(2, 132, 199, var(--tw-text-opacity))}.primary-btn.svelte-1wqzryw{border-radius:0.375rem;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#e0f2fe;--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to, rgba(224, 242, 254, 0));--tw-gradient-stops:var(--tw-gradient-from), #dbeafe, var(--tw-gradient-to, rgba(219, 234, 254, 0));--tw-gradient-to:#ede9fe;padding-top:0.25rem;padding-bottom:0.25rem;padding-left:0.5rem;padding-right:0.5rem;--tw-text-opacity:1;color:rgba(12, 74, 110, var(--tw-text-opacity))}.primary-btn.svelte-1wqzryw:hover{--tw-bg-opacity:1;background-color:rgba(224, 242, 254, var(--tw-bg-opacity));--tw-gradient-from:#bae6fd;--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to, rgba(186, 230, 253, 0));--tw-gradient-stops:var(--tw-gradient-from), #bfdbfe, var(--tw-gradient-to, rgba(191, 219, 254, 0));--tw-gradient-to:#ddd6fe}')}function op(e){let n;return{c(){n=k("div"),N(n,"class","h-9 svelte-1wqzryw")},m(t,e){b(t,n,e)},p:t,i:t,o:t,d(t){t&&_(n)}}}function ap(e){let n,r,i,a,s;return{c(){n=k("div"),r=k("button"),r.textContent="Login",i=C("\n      to add reactions and comments."),N(r,"type","button"),N(r,"class","primary-btn text-md svelte-1wqzryw"),N(n,"class","svelte-1wqzryw")},m(t,u){b(t,n,u),y(n,r),y(n,i),a||(s=E(r,"click",(function(){o(e[4])&&e[4].apply(this,arguments)})),a=!0)},p(t,n){e=t},i:t,o:t,d(t){t&&_(n),a=!1,s()}}}function sp(t){let e,n,r,i,a,s,u,l,c,h,f,p,d,v=t[6].user.displayName+"";return c=new Cu({}),{c(){e=k("div"),n=k("h2"),r=C("Hi "),i=k("span"),a=C(v),s=C(" !"),u=T(),l=k("button"),rt(c.$$.fragment),h=C("\n        Logout"),N(i,"class","text-primary-600 svelte-1wqzryw"),N(n,"class","text-3xl font-bold svelte-1wqzryw"),N(l,"type","button"),N(l,"class","flex items-center gap-2 text-md primary-btn svelte-1wqzryw"),N(e,"class","flex gap-10 items-center svelte-1wqzryw")},m(v,g){b(v,e,g),y(e,n),y(n,r),y(n,i),y(i,a),y(n,s),y(e,u),y(e,l),it(c,l,null),y(l,h),f=!0,p||(d=E(l,"click",(function(){o(t[5])&&t[5].apply(this,arguments)})),p=!0)},p(e,n){t=e,(!f||64&n)&&v!==(v=t[6].user.displayName+"")&&q(a,v)},i(t){f||(X(c.$$.fragment,t),f=!0)},o(t){J(c.$$.fragment,t),f=!1},d(t){t&&_(e),ot(c),p=!1,d()}}}function up(t){let e,n,r,i,o,a,s,u,l,c,h;const f=[sp,ap,op],p=[];function d(t,e){return t[6].user?0:t[6].loading?2:1}return n=d(t),r=p[n]=f[n](t),u=new $u({props:{page:t[1],reactions:t[0]}}),c=new rp({props:{page:t[1]}}),{c(){e=k("main"),r.c(),i=T(),o=k("h3"),a=C(t[2]),s=T(),rt(u.$$.fragment),l=T(),rt(c.$$.fragment),N(o,"class","text-2xl mt-4 font-medium svelte-1wqzryw"),N(e,"class","w-full mx-auto flex flex-col items-center my-16 svelte-1wqzryw")},m(t,r){b(t,e,r),p[n].m(e,null),y(e,i),y(e,o),y(o,a),y(e,s),it(u,e,null),y(e,l),it(c,e,null),h=!0},p(t,[o]){let s=n;n=d(t),n===s?p[n].p(t,o):(G(),J(p[s],1,1,(()=>{p[s]=null})),Y(),r=p[n],r?r.p(t,o):(r=p[n]=f[n](t),r.c()),X(r,1),r.m(e,i)),(!h||4&o)&&q(a,t[2]);const l={};2&o&&(l.page=t[1]),1&o&&(l.reactions=t[0]),u.$set(l);const v={};2&o&&(v.page=t[1]),c.$set(v)},i(t){h||(X(r),X(u.$$.fragment,t),X(c.$$.fragment,t),h=!0)},o(t){J(r),J(u.$$.fragment,t),J(c.$$.fragment,t),h=!1},d(t){t&&_(e),p[n].d(),ot(u),ot(c)}}}function lp(e,n,r){let i,o=t;e.$$.on_destroy.push((()=>o()));let a,s,u,{firebaseConfig:l}=n,{reactions:h=["","","",""]}=n,{page:f=(window.location.pathname.endsWith("/")?window.location.pathname:window.location.pathname+"/")}=n,{reactionText:p="Did you enjoy this post? Leave your reactions below!"}=n;if(!l)throw new Error("No firebaseConfig was provided");Ce.apps.length||Ce.initializeApp(l);try{const t=Ne();a=t.authStore,o(),o=c(a,(t=>r(6,i=t))),s=t.loginWithGoogle,u=t.logout}catch(t){throw t}return e.$$set=t=>{"firebaseConfig"in t&&r(7,l=t.firebaseConfig),"reactions"in t&&r(0,h=t.reactions),"page"in t&&r(1,f=t.page),"reactionText"in t&&r(2,p=t.reactionText)},[h,f,p,a,s,u,i,l]}class cp extends ut{constructor(t){super(),st(this,t,lp,up,a,{firebaseConfig:7,reactions:0,page:1,reactionText:2},ip)}}const hp={install:({firebaseConfig:t,reactions:e,page:n,reactionText:r})=>{const i=document.getElementById("reactive_widget");new cp({target:i,props:{firebaseConfig:t,page:n,reactions:e,reactionText:r}})},version:"1.0.2"};return hp}();
